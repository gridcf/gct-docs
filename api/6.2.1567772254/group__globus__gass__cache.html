<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Grid Community Toolkit: Globus GASS Cache</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Grid Community Toolkit
   &#160;<span id="projectnumber">6.2.1567772254 (tag: v6.2.20190906)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Globus GASS Cache</div>  </div>
</div><!--header-->
<div class="contents">

<p>Globus GASS Cache.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga856da5e358be0e03f03c4f33fdc72588"><td class="memItemLeft" align="right" valign="top"><a id="ga856da5e358be0e03f03c4f33fdc72588"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga856da5e358be0e03f03c4f33fdc72588">GLOBUS_GASS_CACHE_MODULE</a>&#160;&#160;&#160;(&amp;globus_i_gass_cache_module)</td></tr>
<tr class="memdesc:ga856da5e358be0e03f03c4f33fdc72588"><td class="mdescLeft">&#160;</td><td class="mdescRight">module_descriptor <br /></td></tr>
<tr class="separator:ga856da5e358be0e03f03c4f33fdc72588"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac7b08c687f5a11068ae4929b28bb33bf"><td class="memItemLeft" align="right" valign="top">typedef struct globus_i_gass_cache_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a></td></tr>
<tr class="memdesc:gac7b08c687f5a11068ae4929b28bb33bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">GASS Cache Handle.  <a href="#gac7b08c687f5a11068ae4929b28bb33bf">More...</a><br /></td></tr>
<tr class="separator:gac7b08c687f5a11068ae4929b28bb33bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3c989ae2243b1fea8bedcca6a4d741ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga3c989ae2243b1fea8bedcca6a4d741ed">globus_gass_cache_open</a> (const char *cache_directory_path, <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> *cache_handlep)</td></tr>
<tr class="memdesc:ga3c989ae2243b1fea8bedcca6a4d741ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a GASS Cache.  <a href="#ga3c989ae2243b1fea8bedcca6a4d741ed">More...</a><br /></td></tr>
<tr class="separator:ga3c989ae2243b1fea8bedcca6a4d741ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e5c16639ae45f42171604704b37110a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga0e5c16639ae45f42171604704b37110a">globus_gass_cache_close</a> (<a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> *cache_handlep)</td></tr>
<tr class="memdesc:ga0e5c16639ae45f42171604704b37110a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a cache handle.  <a href="#ga0e5c16639ae45f42171604704b37110a">More...</a><br /></td></tr>
<tr class="separator:ga0e5c16639ae45f42171604704b37110a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca303625ca1ed7f52f5d894ef451cbf0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#gaca303625ca1ed7f52f5d894ef451cbf0">globus_gass_cache_add</a> (<a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *url, const char *tag, <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> create, unsigned long *timestamp, char **local_filename)</td></tr>
<tr class="memdesc:gaca303625ca1ed7f52f5d894ef451cbf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a tag to an URL in the cache.  <a href="#gaca303625ca1ed7f52f5d894ef451cbf0">More...</a><br /></td></tr>
<tr class="separator:gaca303625ca1ed7f52f5d894ef451cbf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ae7193171a64977cf05f3eaa3aa8b13"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga0ae7193171a64977cf05f3eaa3aa8b13">globus_gass_cache_add_done</a> (<a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *url, const char *tag, unsigned long timestamp)</td></tr>
<tr class="memdesc:ga0ae7193171a64977cf05f3eaa3aa8b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete adding a cache entry and unlock it.  <a href="#ga0ae7193171a64977cf05f3eaa3aa8b13">More...</a><br /></td></tr>
<tr class="separator:ga0ae7193171a64977cf05f3eaa3aa8b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9afcfebc9147b1e7c55661dffa932a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#gad9afcfebc9147b1e7c55661dffa932a6">globus_gass_cache_query</a> (<a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *url, const char *tag, <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> wait_for_lock, unsigned long *timestamp, char **local_filename, <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> *is_locked)</td></tr>
<tr class="memdesc:gad9afcfebc9147b1e7c55661dffa932a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the GASS Cache.  <a href="#gad9afcfebc9147b1e7c55661dffa932a6">More...</a><br /></td></tr>
<tr class="separator:gad9afcfebc9147b1e7c55661dffa932a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67947289f7bdfdcb86f97ab7aa551263"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga67947289f7bdfdcb86f97ab7aa551263">globus_gass_cache_delete_start</a> (<a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *url, const char *tag, unsigned long *timestamp)</td></tr>
<tr class="memdesc:ga67947289f7bdfdcb86f97ab7aa551263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a cache tag.  <a href="#ga67947289f7bdfdcb86f97ab7aa551263">More...</a><br /></td></tr>
<tr class="separator:ga67947289f7bdfdcb86f97ab7aa551263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac336211487f5e6c0bd155ff0227fbd3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#gac336211487f5e6c0bd155ff0227fbd3f">globus_gass_cache_delete</a> (<a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *url, const char *tag, unsigned long timestamp, <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> is_locked)</td></tr>
<tr class="memdesc:gac336211487f5e6c0bd155ff0227fbd3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove one instance of the tag from the cache entry's tag list.  <a href="#gac336211487f5e6c0bd155ff0227fbd3f">More...</a><br /></td></tr>
<tr class="separator:gac336211487f5e6c0bd155ff0227fbd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a9fd887faee710170cc708a18211af2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga7a9fd887faee710170cc708a18211af2">globus_gass_cache_cleanup_tag</a> (<a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *url, const char *tag)</td></tr>
<tr class="memdesc:ga7a9fd887faee710170cc708a18211af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a tag from a cache entry.  <a href="#ga7a9fd887faee710170cc708a18211af2">More...</a><br /></td></tr>
<tr class="separator:ga7a9fd887faee710170cc708a18211af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14c0fe9defa4446ddba05261f0310bbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga14c0fe9defa4446ddba05261f0310bbe">globus_gass_cache_cleanup_tag_all</a> (<a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, char *tag)</td></tr>
<tr class="memdesc:ga14c0fe9defa4446ddba05261f0310bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a tag from all cache entriesRemove all instances of the tag from the cache entry's tag list. If there are no more tags in the tag list, then remove this cache entry and delete the associated local cache file. If the cache entry is locked with the same tag as is passed to this function, then the entry is unlocked after removing the tags. Otherwise, the cache entry's lock is left untouched.  <a href="#ga14c0fe9defa4446ddba05261f0310bbe">More...</a><br /></td></tr>
<tr class="separator:ga14c0fe9defa4446ddba05261f0310bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeba4a59377908960626617413fadb656"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#gaeba4a59377908960626617413fadb656">globus_gass_cache_mangle_url</a> (const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *url, char **mangled_url, int *length)</td></tr>
<tr class="memdesc:gaeba4a59377908960626617413fadb656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a URL to a string suitable as a file path.  <a href="#gaeba4a59377908960626617413fadb656">More...</a><br /></td></tr>
<tr class="separator:gaeba4a59377908960626617413fadb656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25f63572180ba1c86d0414c6a556cbec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga25f63572180ba1c86d0414c6a556cbec">globus_gass_cache_mangle_tag</a> (const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *tag, char **mangled_tag, int *length)</td></tr>
<tr class="memdesc:ga25f63572180ba1c86d0414c6a556cbec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a tag to a string suitable as a file path.  <a href="#ga25f63572180ba1c86d0414c6a556cbec">More...</a><br /></td></tr>
<tr class="separator:ga25f63572180ba1c86d0414c6a556cbec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga763c6dc14cbf28dc41c599411a1af654"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga763c6dc14cbf28dc41c599411a1af654">globus_gass_cache_get_cache_dir</a> (const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, char **cache_dir)</td></tr>
<tr class="memdesc:ga763c6dc14cbf28dc41c599411a1af654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the GASS Cache's root directory.  <a href="#ga763c6dc14cbf28dc41c599411a1af654">More...</a><br /></td></tr>
<tr class="separator:ga763c6dc14cbf28dc41c599411a1af654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0df369d28341998e2e715d415dc0233f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga0df369d28341998e2e715d415dc0233f">globus_gass_cache_get_dirs</a> (const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, const char *url, const char *tag, char **global_root, char **local_root, char **tmp_root, char **log_root, char **global_dir, char **local_dir)</td></tr>
<tr class="memdesc:ga0df369d28341998e2e715d415dc0233f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the set of directories used by a GASS Cache.  <a href="#ga0df369d28341998e2e715d415dc0233f">More...</a><br /></td></tr>
<tr class="separator:ga0df369d28341998e2e715d415dc0233f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2174ee073ee291d117f2ed1b5febd1c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga2174ee073ee291d117f2ed1b5febd1c7">globus_gass_cache_get_cache_type_string</a> (const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> cache_handle, char **cache_type)</td></tr>
<tr class="memdesc:ga2174ee073ee291d117f2ed1b5febd1c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the type of GASS Cache directory layout.  <a href="#ga2174ee073ee291d117f2ed1b5febd1c7">More...</a><br /></td></tr>
<tr class="separator:ga2174ee073ee291d117f2ed1b5febd1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a4d0ff16d804609bb5b9044d1616cf4"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__cache.html#ga0a4d0ff16d804609bb5b9044d1616cf4">globus_gass_cache_error_string</a> (int error_code)</td></tr>
<tr class="memdesc:ga0a4d0ff16d804609bb5b9044d1616cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up the error string corresponding to a GASS Cache error.  <a href="#ga0a4d0ff16d804609bb5b9044d1616cf4">More...</a><br /></td></tr>
<tr class="separator:ga0a4d0ff16d804609bb5b9044d1616cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Globus GASS Cache. </p>
<p>The GASS cache management API is part of the Globus module called "GASS", (Global Access to Secondary Storage) The GASS cache management API defines calls for manipulating a local file cache.</p>
<p>Each cache entry can be locked during addition and deletion to allow for atomic handling of the cache file contents.</p>
<p>Each cache entry also has an associated timestamp. This timestamp is independent of the local cache file's modification time. Rather, the cache entry timestamp is maintained by the user. It can, for example, be used to keep track of the timestamp of a remote file that is associated with the cache entry.</p>
<p>Note: all timestamps are as seconds since the epoch. (01 Jan 1970, 00:00 GMT)</p>
<p>The following functions are part of the API:</p>
<ul>
<li><a class="el" href="group__globus__gass__cache.html#ga3c989ae2243b1fea8bedcca6a4d741ed" title="Open a GASS Cache.">globus_gass_cache_open()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#ga0e5c16639ae45f42171604704b37110a" title="Close a cache handle.">globus_gass_cache_close()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#gaca303625ca1ed7f52f5d894ef451cbf0" title="Add a tag to an URL in the cache.">globus_gass_cache_add()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#ga0ae7193171a64977cf05f3eaa3aa8b13" title="Complete adding a cache entry and unlock it.">globus_gass_cache_add_done()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#ga67947289f7bdfdcb86f97ab7aa551263" title="Remove a cache tag.">globus_gass_cache_delete_start()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#gac336211487f5e6c0bd155ff0227fbd3f" title="Remove one instance of the tag from the cache entry&#39;s tag list.">globus_gass_cache_delete()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#ga7a9fd887faee710170cc708a18211af2" title="Remove a tag from a cache entry.">globus_gass_cache_cleanup_tag()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#ga14c0fe9defa4446ddba05261f0310bbe" title="Remove a tag from all cache entriesRemove all instances of the tag from the cache entry&#39;s tag list....">globus_gass_cache_cleanup_tag_all()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#gaeba4a59377908960626617413fadb656" title="Convert a URL to a string suitable as a file path.">globus_gass_cache_mangle_url()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#ga25f63572180ba1c86d0414c6a556cbec" title="Convert a tag to a string suitable as a file path.">globus_gass_cache_mangle_tag()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#ga0df369d28341998e2e715d415dc0233f" title="Get the set of directories used by a GASS Cache.">globus_gass_cache_get_dirs()</a></li>
<li><a class="el" href="group__globus__gass__cache.html#ga763c6dc14cbf28dc41c599411a1af654" title="Get the GASS Cache&#39;s root directory.">globus_gass_cache_get_cache_dir()</a> </li>
</ul>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gac7b08c687f5a11068ae4929b28bb33bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7b08c687f5a11068ae4929b28bb33bf">&#9670;&nbsp;</a></span>globus_gass_cache_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct globus_i_gass_cache_t* <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GASS Cache Handle. </p>
<p>Data structure used to store information concerning an open cache directory. This structure MUST NOT be modified directly, but passed to the globus_gass_cache functions </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaca303625ca1ed7f52f5d894ef451cbf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca303625ca1ed7f52f5d894ef451cbf0">&#9670;&nbsp;</a></span>globus_gass_cache_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a>&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>local_filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a tag to an URL in the cache. </p>
<p>Create a new cache file or add a tag on it.</p>
<p>If the URL is already in the cache but is locked, then this call will block until the cache entry is unlocked, then will proceed with the subsequent operations.</p>
<p>If the URL is already in the cache and unlocked, then add the tag to the cache entry's tag list, return the local cache filename in *local_filename, return the entry's current timestamp in *timestamp, lock the cache entry, and return GLOBUS_GASS_CACHE_ADD_EXISTS.</p>
<p>If the URL is not in the cache, and create==GLOBUS_TRUE, then create a new unique empty local cache file, add it to the cache with the specified tag, return the filename in *local_filename, return *timestamp set to GLOBUS_GASS_CACHE_TIMESTAMP_UNKNOWN, lock the cache entry, and return GLOBUS_GASS_CACHE_ADD_NEW.</p>
<p>If the URL is not in the cache, and create==GLOBUS_FALSE, then do not add it to the cache, and return GLOBUS_GASS_CACHE_URL_NOT_FOUND.</p>
<p>If this function returns GLOBUS_GASS_CACHE_ADD_EXISTS or GLOBUS_GASS_CACHE_ADD_NEW, then <a class="el" href="group__globus__gass__cache.html#ga0ae7193171a64977cf05f3eaa3aa8b13" title="Complete adding a cache entry and unlock it.">globus_gass_cache_add_done()</a> or <a class="el" href="group__globus__gass__cache.html#gac336211487f5e6c0bd155ff0227fbd3f" title="Remove one instance of the tag from the cache entry&#39;s tag list.">globus_gass_cache_delete()</a> must be subsequently called to unlock the cache entry.</p>
<p>Subsequent calls to <a class="el" href="group__globus__gass__cache.html#gaca303625ca1ed7f52f5d894ef451cbf0" title="Add a tag to an URL in the cache.">globus_gass_cache_add()</a> and <a class="el" href="group__globus__gass__cache.html#ga67947289f7bdfdcb86f97ab7aa551263" title="Remove a cache tag.">globus_gass_cache_delete_start()</a> on the same cache and url, made either from this process or another, will block until the cache entry is unlocked.</p>
<p>If tag==NULL, then a tag with the value "null" will be added to the cache entry's tag list.</p>
<p>The same tag can be used multiple times, in which case this tag will be added to the entry's tag list multiple times.</p>
<p>Note: It is recommended that proglobus_grams started via GLOBUS_GRAM pass a tag value of getenv("GLOBUS_GRAM_JOB_CONTACT"), since upon completion of a job GLOBUS_GRAM will automatically cleanup entries with this tag.</p>
<dl class="section note"><dt>Note</dt><dd>the local_filename MUST be free by the user in a subsequent operation, using free()</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">url</td><td>URL of the file to be cached. It is used as the main key to the cache entries. </td></tr>
    <tr><td class="paramname">tag</td><td>Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can be NULL or empty; the tag "null" is then used. create - Tells if the cache entry should be created if it is not already existing. </td></tr>
    <tr><td class="paramname">create</td><td>Flag to create if it does not already exist. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the cached file, set by globus_gass_cache_done(), (or <a class="el" href="group__globus__gass__cache.html#gac336211487f5e6c0bd155ff0227fbd3f" title="Remove one instance of the tag from the cache entry&#39;s tag list.">globus_gass_cache_delete()</a> ). </td></tr>
    <tr><td class="paramname">local_filename</td><td>Path the the local file caching the file specified by "url". NULL if "url" not yet cached and creation not requested (create false).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>GLOBUS_GASS_CACHE_URL_NOT_FOUND</li>
<li>GLOBUS_GASS_CACHE_ADD_NEW</li>
<li>GLOBUS_GASS_CACHE_ADD_EXISTS</li>
<li>or any of the defined gass error code. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga0ae7193171a64977cf05f3eaa3aa8b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ae7193171a64977cf05f3eaa3aa8b13">&#9670;&nbsp;</a></span>globus_gass_cache_add_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_add_done </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete adding a cache entry and unlock it. </p>
<p><a class="el" href="group__globus__gass__cache.html#ga0ae7193171a64977cf05f3eaa3aa8b13" title="Complete adding a cache entry and unlock it.">globus_gass_cache_add_done()</a> MUST be called after <a class="el" href="group__globus__gass__cache.html#gaca303625ca1ed7f52f5d894ef451cbf0" title="Add a tag to an URL in the cache.">globus_gass_cache_add()</a>, to set the timestamp in the cache entry for the URL, and then unlock the cache entry. (The only case it does not need to be called is if <a class="el" href="group__globus__gass__cache.html#gaca303625ca1ed7f52f5d894ef451cbf0" title="Add a tag to an URL in the cache.">globus_gass_cache_add()</a> has returned GLOBUS_GASS_CACHE_URL_NOT_FOUND, of course.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">url</td><td>URL of the cached file to set as "done" (unlock) </td></tr>
    <tr><td class="paramname">tag</td><td>Tag specifying which job has locked the cache and must therefore be unlocked. It is an error to call this function with a tag which does not currently own the cache lock. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the cached file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__globus__gass__cache.html#ga0ae7193171a64977cf05f3eaa3aa8b13" title="Complete adding a cache entry and unlock it.">globus_gass_cache_add_done()</a> returns GLOBUS_SUCCESS or any of the defined GASS Cache error codes. </dd></dl>

</div>
</div>
<a id="ga7a9fd887faee710170cc708a18211af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a9fd887faee710170cc708a18211af2">&#9670;&nbsp;</a></span>globus_gass_cache_cleanup_tag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_cleanup_tag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a tag from a cache entry. </p>
<p>Remove all instances of the tag from the cache entry's tag list. If there are no more tags in the tag list, then remove this cache entry and delete the associated local cache file. If the cache entry is locked with the same tag as is passed to this function, then the entry is unlocked after removing the tags. Otherwise, the cache entry's lock is left untouched.</p>
<p>This function does not block on a locked reference.</p>
<dl class="section note"><dt>Note</dt><dd>The GLOBUS_GRAM job manager will automatically call this function with a tag of getenv("GLOBUS_GRAM_JOB_CONTACT") upon completion of a job.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">url</td><td>URL of the file to be cached. It is used as the main key to the cache entries. </td></tr>
    <tr><td class="paramname">tag</td><td>Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can be NULL or empty; the tag "null" is then used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="group__globus__gass__cache.html#ga7a9fd887faee710170cc708a18211af2" title="Remove a tag from a cache entry.">globus_gass_cache_cleanup_tag()</a> function returns GLOBUS_SUCCESS or any of the defined GASS Cache error codes. </dd></dl>

</div>
</div>
<a id="ga14c0fe9defa4446ddba05261f0310bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14c0fe9defa4446ddba05261f0310bbe">&#9670;&nbsp;</a></span>globus_gass_cache_cleanup_tag_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_cleanup_tag_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a tag from all cache entriesRemove all instances of the tag from the cache entry's tag list. If there are no more tags in the tag list, then remove this cache entry and delete the associated local cache file. If the cache entry is locked with the same tag as is passed to this function, then the entry is unlocked after removing the tags. Otherwise, the cache entry's lock is left untouched. </p>
<p>This function does not block on a locked reference. This function differs from <a class="el" href="group__globus__gass__cache.html#ga7a9fd887faee710170cc708a18211af2" title="Remove a tag from a cache entry.">globus_gass_cache_cleanup_tag()</a> in that this cleans up <b>all</b> URLs related with this tag.</p>
<dl class="section note"><dt>Note</dt><dd>The GLOBUS_GRAM job manager will automatically call this function with a tag of getenv("GLOBUS_GRAM_JOB_CONTACT") upon completion of a job.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">tag</td><td>Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can be NULL or empty; the tag "null" is then used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="group__globus__gass__cache.html#ga14c0fe9defa4446ddba05261f0310bbe" title="Remove a tag from all cache entriesRemove all instances of the tag from the cache entry&#39;s tag list....">globus_gass_cache_cleanup_tag_all()</a> function returns GLOBUS_SUCCESS or any of the defined GASS Cache error codes. </dd></dl>

</div>
</div>
<a id="ga0e5c16639ae45f42171604704b37110a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e5c16639ae45f42171604704b37110a">&#9670;&nbsp;</a></span>globus_gass_cache_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache_handlep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a cache handle. </p>
<p>Close (NOT delete) a previously opened cache:</p><ul>
<li>close the opened files and</li>
<li>free the memory allocated for the cache_handle.</li>
<li>mark the handle as "not initialized".</li>
</ul>
<p>Parameters: cache_handle: Handle to the opened cache directory to use.</p>
<p>cache_handle-&gt;is_init set to "not initialized" and all the files opened bu globus_gass_cache_open are closed .</p>
<p>Returns: GLOBUS_SUCCESS or error code: GLOBUS_GASS_CACHE_ERROR_CACHE_NOT_OPENED </p>

</div>
</div>
<a id="gac336211487f5e6c0bd155ff0227fbd3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac336211487f5e6c0bd155ff0227fbd3f">&#9670;&nbsp;</a></span>globus_gass_cache_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a>&#160;</td>
          <td class="paramname"><em>is_locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove one instance of the tag from the cache entry's tag list. </p>
<p>If there are no more tags in the tag list, then remove this cache entry and delete the associated local cache file.</p>
<p>Otherwise, update the timestamp to the passed value.</p>
<p>This call will leave the cache entry unlocked.</p>
<p>If is_locked==GLOBUS_TRUE, then this cache entry was locked during a previous call to <a class="el" href="group__globus__gass__cache.html#gaca303625ca1ed7f52f5d894ef451cbf0" title="Add a tag to an URL in the cache.">globus_gass_cache_add()</a> or <a class="el" href="group__globus__gass__cache.html#ga67947289f7bdfdcb86f97ab7aa551263" title="Remove a cache tag.">globus_gass_cache_delete_start()</a>. The cache file should be locked by the corresponding url/tag, or an error is returned. If it is locked by the corresponding url/tag, then the normal operation occur, whithout blocking (remove one instance from the tag update the timestamp and unlock the cache).</p>
<p>If is_locked==GLOBUS_FALSE, eventually wait the cache is not locked any more, and then proceed with the normal operations.(remove one instance from the tag list and update the timestamp).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">url</td><td>URL of the file to be cached. It is used as the main key to the cache entries. </td></tr>
    <tr><td class="paramname">tag</td><td>Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can be NULL or empty; the tag "null" is then used. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the cached file. </td></tr>
    <tr><td class="paramname">is_locked</td><td>Indicate if this cache entry was locked during a previous call to <a class="el" href="group__globus__gass__cache.html#gaca303625ca1ed7f52f5d894ef451cbf0" title="Add a tag to an URL in the cache.">globus_gass_cache_add()</a> or <a class="el" href="group__globus__gass__cache.html#ga67947289f7bdfdcb86f97ab7aa551263" title="Remove a cache tag.">globus_gass_cache_delete_start()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="group__globus__gass__cache.html#gac336211487f5e6c0bd155ff0227fbd3f" title="Remove one instance of the tag from the cache entry&#39;s tag list.">globus_gass_cache_delete()</a> function returns GLOBUS_SUCCESS or any of the defined GASS Cache error codes. </dd></dl>

</div>
</div>
<a id="ga67947289f7bdfdcb86f97ab7aa551263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67947289f7bdfdcb86f97ab7aa551263">&#9670;&nbsp;</a></span>globus_gass_cache_delete_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_delete_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a cache tag. </p>
<p>Lock the cache entry for the URL, and return the cache entry's current timestamp in *timestamp. This function will block if the data file is already locked, until it is unlocked.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use.</td></tr>
    <tr><td class="paramname">url</td><td>URL of the cached file to set as "done" (unlock) </td></tr>
    <tr><td class="paramname">tag</td><td>Tag specifying which job has locked the cache and must therefore be unlocked. It is an error to call this function with a tag which does not currently own the cache lock. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the cached file, set by globus_gass_cache_done(), (or <a class="el" href="group__globus__gass__cache.html#gac336211487f5e6c0bd155ff0227fbd3f" title="Remove one instance of the tag from the cache entry&#39;s tag list.">globus_gass_cache_delete()</a> ).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="group__globus__gass__cache.html#ga67947289f7bdfdcb86f97ab7aa551263" title="Remove a cache tag.">globus_gass_cache_delete_start()</a> function returns GLOBUS_SUCCESS or any of the defined GASS Cache error code. </dd></dl>

</div>
</div>
<a id="ga0a4d0ff16d804609bb5b9044d1616cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a4d0ff16d804609bb5b9044d1616cf4">&#9670;&nbsp;</a></span>globus_gass_cache_error_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* globus_gass_cache_error_string </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up the error string corresponding to a GASS Cache error. </p>
<p>Return a pointer on an error description string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_code</td><td>error code returned by a previously called globus_gass_cache function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="group__globus__gass__cache.html#ga0a4d0ff16d804609bb5b9044d1616cf4" title="Look up the error string corresponding to a GASS Cache error.">globus_gass_cache_error_string()</a> function returns a pointer to an error message, or NULL if error_code is invalid. </dd></dl>

</div>
</div>
<a id="ga763c6dc14cbf28dc41c599411a1af654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga763c6dc14cbf28dc41c599411a1af654">&#9670;&nbsp;</a></span>globus_gass_cache_get_cache_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_get_cache_dir </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>cache_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the GASS Cache's root directory. </p>
<p>Get a the root cache of directory. This is exported for use in the globus_gass_cache program.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">cache_dir</td><td>Pointer to the cache directory</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</td><td>No memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2174ee073ee291d117f2ed1b5febd1c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2174ee073ee291d117f2ed1b5febd1c7">&#9670;&nbsp;</a></span>globus_gass_cache_get_cache_type_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_get_cache_type_string </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>cache_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the type of GASS Cache directory layout. </p>
<p>Get a string which describes the cache type ("normal" or "flat")</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">cache_type</td><td>Pointer to the strdup()ed string</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</td><td>No memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0df369d28341998e2e715d415dc0233f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0df369d28341998e2e715d415dc0233f">&#9670;&nbsp;</a></span>globus_gass_cache_get_dirs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_get_dirs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>global_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>local_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>tmp_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>log_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>global_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>local_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the set of directories used by a GASS Cache. </p>
<p>Gets a bunch of directories. This is exported for use in the globus_gass_cache program.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">url</td><td>The incoming URL </td></tr>
    <tr><td class="paramname">tag</td><td>The incoming tag </td></tr>
    <tr><td class="paramname">local_root</td><td>Pointer to the "local root" directory </td></tr>
    <tr><td class="paramname">global_root</td><td>Pointer to the "global root" directory </td></tr>
    <tr><td class="paramname">tmp_root</td><td>Pointer to the "tmp root" directory </td></tr>
    <tr><td class="paramname">log_root</td><td>Pointer to the root log directory </td></tr>
    <tr><td class="paramname">local_dir</td><td>Pointer to the related "local" directory </td></tr>
    <tr><td class="paramname">global_dir</td><td>Pointer to the related "global" directory</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</td><td>No memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga25f63572180ba1c86d0414c6a556cbec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25f63572180ba1c86d0414c6a556cbec">&#9670;&nbsp;</a></span>globus_gass_cache_mangle_tag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_mangle_tag </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>mangled_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a tag to a string suitable as a file path. </p>
<p>Mangles the given tag into a chunk suitable for using as a file / path name. This is exported for use in the globus_gass_cache program.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">tag</td><td>The incoming tag to mangle (NULL-terminated) </td></tr>
    <tr><td class="paramname">mangled_tag</td><td>Pointer to the output string; a buffer for the real string is malloc()ed for the application. If mangled is NULL, then no such buffer is allocated, and no mangled string is created. This can be useful to just get the length of the mangled string. </td></tr>
    <tr><td class="paramname">length</td><td>A pointer to the length of the resulting string. If NULL, this is not assigned to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</td><td>No memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaeba4a59377908960626617413fadb656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeba4a59377908960626617413fadb656">&#9670;&nbsp;</a></span>globus_gass_cache_mangle_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_mangle_url </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>mangled_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a URL to a string suitable as a file path. </p>
<p>Mangles the given URL into a chunk suitable for using as a file / path name. This is exported for use in the globus_gass_cache program.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">url</td><td>The incoming URL to mangle (NULL-terminated) </td></tr>
    <tr><td class="paramname">mangled_url</td><td>Pointer to the output string; a buffer for the real string is malloc()ed for the application. If mangled is NULL, then no such buffer is allocated, and no mangled string is created. This can be useful to just get the length of the mangled string. </td></tr>
    <tr><td class="paramname">length</td><td>A pointer to the length of the resulting string. If NULL, this is not assigned to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_CACHE_ERROR_NO_MEMORY</td><td>No memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3c989ae2243b1fea8bedcca6a4d741ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c989ae2243b1fea8bedcca6a4d741ed">&#9670;&nbsp;</a></span>globus_gass_cache_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cache_directory_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache_handlep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a GASS Cache. </p>
<p>Open the cache specified by the cache_directory_path argument, and return a cache handle that can be used in subsequent cache calls.</p>
<p>If cache_directory_path is NULL, then use the value contained in the GLOBUS_GASS_CACHE_DEFAULT environment variable if it is defined, otherwise use ~/.globus_gass_cache.</p>
<p>The cache_directory_path must be a directory. If it is a file, this call will fail with a non-0 return value.</p>
<p>If the specified directory does not exist, then this call will create the directory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_directory_path</td><td>Path to the cache directory to open. Can be NULL (see above) </td></tr>
    <tr><td class="paramname">cache_handlep</td><td>Structure containning all the necessary information to access the cache (file names, descriptor,...) (see globus_gass_gache.h) Some files are also opened: <a class="el" href="group__globus__gass__cache.html#ga0e5c16639ae45f42171604704b37110a" title="Close a cache handle.">globus_gass_cache_close()</a> must be called subsequently to close those files. This parameter is modified by the <a class="el" href="group__globus__gass__cache.html#ga3c989ae2243b1fea8bedcca6a4d741ed" title="Open a GASS Cache.">globus_gass_cache_open()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_CACHE_ERROR_CACHE_ALREADY_OPENED</td><td>Handle already opened </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_CACHE_ERROR_NAME_TOO_LONG</td><td>Path name too long </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_CACHE_ERROR_NO_HOME</td><td>Can't find home directory for default cache path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad9afcfebc9147b1e7c55661dffa932a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9afcfebc9147b1e7c55661dffa932a6">&#9670;&nbsp;</a></span>globus_gass_cache_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_cache_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__gass__cache.html#gac7b08c687f5a11068ae4929b28bb33bf">globus_gass_cache_t</a>&#160;</td>
          <td class="paramname"><em>cache_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a>&#160;</td>
          <td class="paramname"><em>wait_for_lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>local_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> *&#160;</td>
          <td class="paramname"><em>is_locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query the GASS Cache. </p>
<p>Query if an item is in the cache</p>
<p>This call will block only if wait_for_lock is GLOBUS_TRUE</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_handle</td><td>Handle to the opened cache directory to use. </td></tr>
    <tr><td class="paramname">url</td><td>URL of the file to query. It is used as the main key to the cache entries. </td></tr>
    <tr><td class="paramname">tag</td><td>Tag specifying which job is/are using the cache. This is usually the GLOBUS_GRAM_JOB_CONTACT. Can be NULL or empty; the tag "null" is then used. </td></tr>
    <tr><td class="paramname">wait_for_lock</td><td>If GLOBUS_TRUE, wait for any lock existing lock to be released. If GLOBUS_FALSE, doesn't wait for a lock to be released. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the cached file, set by globus_gass_cache_done(), (or <a class="el" href="group__globus__gass__cache.html#gac336211487f5e6c0bd155ff0227fbd3f" title="Remove one instance of the tag from the cache entry&#39;s tag list.">globus_gass_cache_delete()</a> ). </td></tr>
    <tr><td class="paramname">local_filename</td><td>Path the the local file caching the file specified by "url". NULL if "url" not yet cached and creation not requested (create false). </td></tr>
    <tr><td class="paramname">is_locked</td><td>GLOBUS_TRUE if the file is currently (at return time) locked.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="group__globus__gass__cache.html#gad9afcfebc9147b1e7c55661dffa932a6" title="Query the GASS Cache.">globus_gass_cache_query()</a> function returns GLOBUS_SUCCESS, GLOBUS_GASS_CACHE_URL_NOT_FOUND, or any of the defined gass error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
