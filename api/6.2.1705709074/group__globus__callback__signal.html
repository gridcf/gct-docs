<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Grid Community Toolkit: Globus Callback Signal Handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Grid Community Toolkit
   &#160;<span id="projectnumber">6.2.1705709074 (tag: v6.2.20240202)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Globus Callback Signal Handling<div class="ingroups"><a class="el" href="group__globus__callback.html">Globus Callback</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Globus Callback Signal Handling.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga69254c1d4e46a0f034ad4fa0c2544e8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__callback__signal.html#ga69254c1d4e46a0f034ad4fa0c2544e8e">GLOBUS_SIGNAL_INTERRUPT</a></td></tr>
<tr class="separator:ga69254c1d4e46a0f034ad4fa0c2544e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga73dd8a0afb4683a89b38c1c5e02db33e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__callback__signal.html#ga73dd8a0afb4683a89b38c1c5e02db33e">globus_callback_space_register_signal_handler</a> (int signum, <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> persist, <a class="el" href="group__globus__callback__api.html#gaf9532eb7d40466d5af31fe6ba2b9a6a3">globus_callback_func_t</a> callback_func, void *callback_user_arg, <a class="el" href="group__globus__callback.html#ga82637fa200d6ff891c747397a8eb0f38">globus_callback_space_t</a> space)</td></tr>
<tr class="memdesc:ga73dd8a0afb4683a89b38c1c5e02db33e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fire a callback when the specified signal is received.  <a href="#ga73dd8a0afb4683a89b38c1c5e02db33e">More...</a><br/></td></tr>
<tr class="separator:ga73dd8a0afb4683a89b38c1c5e02db33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga188f696c9ecbac1b022012b61756c47b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__callback__signal.html#ga188f696c9ecbac1b022012b61756c47b">globus_callback_unregister_signal_handler</a> (int signum, <a class="el" href="group__globus__callback__api.html#gaf9532eb7d40466d5af31fe6ba2b9a6a3">globus_callback_func_t</a> unregister_callback, void *unreg_arg)</td></tr>
<tr class="memdesc:ga188f696c9ecbac1b022012b61756c47b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a signal handling callback.  <a href="#ga188f696c9ecbac1b022012b61756c47b">More...</a><br/></td></tr>
<tr class="separator:ga188f696c9ecbac1b022012b61756c47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga161a6324f166f939e450b9459cf6aafa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__callback__signal.html#ga161a6324f166f939e450b9459cf6aafa">globus_callback_add_wakeup_handler</a> (void(*wakeup)(void *), void *user_arg)</td></tr>
<tr class="memdesc:ga161a6324f166f939e450b9459cf6aafa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a wakeup handler with callback library.  <a href="#ga161a6324f166f939e450b9459cf6aafa">More...</a><br/></td></tr>
<tr class="separator:ga161a6324f166f939e450b9459cf6aafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Globus Callback Signal Handling. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga69254c1d4e46a0f034ad4fa0c2544e8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GLOBUS_SIGNAL_INTERRUPT</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use this to trap interrupts (SIGINT on unix). In the future, this will also map to handle ctrl-C on win32. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga161a6324f166f939e450b9459cf6aafa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void globus_callback_add_wakeup_handler </td>
          <td>(</td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>wakeup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a wakeup handler with callback library. </p>
<p>This is really only needed in non-threaded builds, but for cross builds should be used everywhere that a callback may sleep for an extended period of time.</p>
<p>An example use is for an io poller that sleeps indefinitely on select(). If the callback library receives a signal that it needs to deliver asap, it will call the wakeup handler(s), These wakeup handlers must run as though they were called from a signal handler (don't use any thread utilities). The io poll example will likely write a single byte to a pipe that select() is monitoring.</p>
<p>This handler will not be unregistered until the callback library is deactivated (via common).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wakeup</td><td>function to call when callback library needs you to return asap from any blocked callbacks.</td></tr>
    <tr><td class="paramname">user_arg</td><td>user data that will be passed along in the wakeup handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga73dd8a0afb4683a89b38c1c5e02db33e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a> globus_callback_space_register_signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a>&#160;</td>
          <td class="paramname"><em>persist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__callback__api.html#gaf9532eb7d40466d5af31fe6ba2b9a6a3">globus_callback_func_t</a>&#160;</td>
          <td class="paramname"><em>callback_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_user_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__callback.html#ga82637fa200d6ff891c747397a8eb0f38">globus_callback_space_t</a>&#160;</td>
          <td class="paramname"><em>space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fire a callback when the specified signal is received. </p>
<p>Note that there is a tiny delay between the time this call returns and the signal is actually handled by this library. It is likely that, if the signal was received the instant the call returned, it will be lost (this is normally not an issue, since you would call this in your startup code anyway)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signum</td><td>The signal to receive. The following signals are not allowed: SIGKILL, SIGSEGV, SIGABRT, SIGBUS, SIGFPE, SIGILL, SIGIOT, SIGPIPE, SIGEMT, SIGSYS, SIGTRAP, SIGSTOP, SIGCONT, and SIGWAITING</td></tr>
    <tr><td class="paramname">persist</td><td>If GLOBUS_TRUE, keep this callback registered for multiple signals. If GLOBUS_FALSE, the signal handler will automatically be unregistered once the signal has been received.</td></tr>
    <tr><td class="paramname">callback_func</td><td>the user func to call when a signal is received</td></tr>
    <tr><td class="paramname">callback_user_arg</td><td>user arg that will be passed to callback</td></tr>
    <tr><td class="paramname">space</td><td>the space to deliver callbacks to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>GLOBUS_CALLBACK_ERROR_INVALID_SPACE</li>
<li>GLOBUS_CALLBACK_ERROR_INVALID_ARGUMENT</li>
<li>GLOBUS_SUCCESS otherwise </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga188f696c9ecbac1b022012b61756c47b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a> globus_callback_unregister_signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__callback__api.html#gaf9532eb7d40466d5af31fe6ba2b9a6a3">globus_callback_func_t</a>&#160;</td>
          <td class="paramname"><em>unregister_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>unreg_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a signal handling callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signum</td><td>The signal to unregister.</td></tr>
    <tr><td class="paramname">unregister_callback</td><td>the function to call when the callback has been canceled and there are no running instances of it (may be NULL). This will be delivered to the same space used in the register call.</td></tr>
    <tr><td class="paramname">unreg_arg</td><td>user arg that will be passed to callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>GLOBUS_CALLBACK_ERROR_INVALID_ARGUMENT if this signal was registered with persist == false, then there is a race between a signal actually being caught and therefore automatically unregistered and the attempt to manually unregister it. If that race occurs, you will receive this error just as you would for any signal not registered.</li>
<li>GLOBUS_SUCCESS otherwise </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
