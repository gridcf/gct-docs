<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Grid Community Toolkit: Reading and Writing Data</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Grid Community Toolkit
   &#160;<span id="projectnumber">6.2.1653033972 (tag: v6.2.20210826-55-g8a3d41e)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Reading and Writing Data<div class="ingroups"><a class="el" href="group__globus__ftp__client__api.html">Globus FTP Client API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Reading and Writing Data.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gae67f55dd87feea379ae4726fcd116a08"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__data.html#gae67f55dd87feea379ae4726fcd116a08">globus_ftp_client_data_callback_t</a> )(void *user_arg, <a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, globus_object_t *error, <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *buffer, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> length, globus_off_t offset, <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> eof)</td></tr>
<tr class="separator:gae67f55dd87feea379ae4726fcd116a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga806808e7efb4cffad9e6d932751975c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__data.html#ga806808e7efb4cffad9e6d932751975c3">globus_ftp_client_register_read</a> (<a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *buffer, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> buffer_length, <a class="el" href="group__globus__ftp__client__data.html#gae67f55dd87feea379ae4726fcd116a08">globus_ftp_client_data_callback_t</a> callback, void *callback_arg)</td></tr>
<tr class="separator:ga806808e7efb4cffad9e6d932751975c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3ff58b56d3cbd945381c5b9f9f0f3a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__data.html#gac3ff58b56d3cbd945381c5b9f9f0f3a5">globus_ftp_client_register_write</a> (<a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *buffer, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> buffer_length, globus_off_t offset, <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> eof, <a class="el" href="group__globus__ftp__client__data.html#gae67f55dd87feea379ae4726fcd116a08">globus_ftp_client_data_callback_t</a> callback, void *callback_arg)</td></tr>
<tr class="separator:gac3ff58b56d3cbd945381c5b9f9f0f3a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Reading and Writing Data. </p>
<p>Certain FTP client operations require the user to supply buffers for reading or writing data to an FTP server. These operations are <a class="el" href="group__globus__ftp__client__operations.html#ga6fe365dd2dfac6da159ff389e1f76a9b">globus_ftp_client_get()</a>, <a class="el" href="group__globus__ftp__client__operations.html#gab2632967419fb566d6cf5b26cf0bbeb2">globus_ftp_client_partial_get()</a>, <a class="el" href="group__globus__ftp__client__operations.html#gab5ea9958c3f649258c25cae5d4e847f1">globus_ftp_client_put()</a>, <a class="el" href="group__globus__ftp__client__operations.html#ga35ba972b1faac5d9b5c62f3413f1282e">globus_ftp_client_partial_put()</a>, <a class="el" href="group__globus__ftp__client__operations.html#ga5fa70baff2a6fc9e90f30e19f8104027">globus_ftp_client_list()</a>, <a class="el" href="group__globus__ftp__client__operations.html#ga851bdcb0bca0928ba69af638d9e8802d">globus_ftp_client_machine_list()</a>, <a class="el" href="group__globus__ftp__client__operations.html#ga2511fb841af9d5ab3bdb34343f3c3bb1">globus_ftp_client_recursive_list()</a>, and <a class="el" href="group__globus__ftp__client__operations.html#ga65cec516fcfc8b3e267f73dd31616db9">globus_ftp_client_verbose_list()</a>.</p>
<p>When doing these operations, the user must pass data buffers to the FTP Client library. Data is read or written directly from the data buffers, without any internal copies being done.</p>
<p>The functions in this section of the manual may be called as soon as the operation function has returned. Multiple data blocks may be registered with the FTP Client Library at once, and may be sent in parallel to or from the FTP server if the GridFTP protocol extensions are being used. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gae67f55dd87feea379ae4726fcd116a08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* globus_ftp_client_data_callback_t)(void *user_arg, <a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, globus_object_t *error, <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *buffer, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> length, globus_off_t offset, <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a> eof)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Data Callback.</p>
<p>Each read or write operation in the FTP Client library is asynchronous. A callback of this type is passed to each of the data operation function calls to let the user know when the data block has been processed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_arg</td><td>The user_arg parameter passed to the read or write function. </td></tr>
    <tr><td class="paramname">handle</td><td>The handle on which the data block operation was done. </td></tr>
    <tr><td class="paramname">error</td><td>A Globus error object indicating any problem which occurred processing this data block, or or GLOBUS_SUCCESS if the operation completed successfully. </td></tr>
    <tr><td class="paramname">buffer</td><td>The data buffer passed to the original read or write call. </td></tr>
    <tr><td class="paramname">length</td><td>The amount of data in the data buffer. When reading data, this may be smaller than original buffer's length. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset into the file which this data block contains. </td></tr>
    <tr><td class="paramname">eof</td><td>GLOBUS_TRUE if EOF has been reached on this data transfer, GLOBUS_FALSE otherwise. This may be set to GLOBUS_TRUE for multiple callbacks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga806808e7efb4cffad9e6d932751975c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a> globus_ftp_client_register_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a>&#160;</td>
          <td class="paramname"><em>buffer_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__data.html#gae67f55dd87feea379ae4726fcd116a08">globus_ftp_client_data_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a data buffer to handle a part of the FTP data transfer.</p>
<p>The data buffer will be associated with the current get being performed on this client handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A pointer to a FTP Client handle which contains state information about the get operation. </td></tr>
    <tr><td class="paramname">buffer</td><td>A user-supplied buffer into which data from the FTP server will be stored. </td></tr>
    <tr><td class="paramname">buffer_length</td><td>The maximum amount of data that can be stored into the buffer. </td></tr>
    <tr><td class="paramname">callback</td><td>The function to be called once the data has been read. </td></tr>
    <tr><td class="paramname">callback_arg</td><td>Argument passed to the callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__globus__ftp__client__operationattr.html#ga2095baf4619d706640d39d8ca64e1d3c">globus_ftp_client_operationattr_set_read_all()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gac3ff58b56d3cbd945381c5b9f9f0f3a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a> globus_ftp_client_register_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a>&#160;</td>
          <td class="paramname"><em>buffer_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">globus_off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a>&#160;</td>
          <td class="paramname"><em>eof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__data.html#gae67f55dd87feea379ae4726fcd116a08">globus_ftp_client_data_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a data buffer to handle a part of the FTP data transfer.</p>
<p>The data buffer will be associated with the current "put" being performed on this client handle. Multiple data buffers may be registered on a handle at once. There is no guaranteed ordering of the data callbacks in extended block mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A pointer to a FTP Client handle which contains state information about the put operation. </td></tr>
    <tr><td class="paramname">buffer</td><td>A user-supplied buffer containing the data to write to the server. </td></tr>
    <tr><td class="paramname">buffer_length</td><td>The size of the buffer to be written. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset of the buffer to be written. In extended-block mode, the data does not need to be sent in order. In stream mode (the default), data must be sent in sequential order. The behavior is undefined if multiple writes overlap. </td></tr>
    <tr><td class="paramname">eof</td><td></td></tr>
    <tr><td class="paramname">callback</td><td>The function to be called once the data has been written. </td></tr>
    <tr><td class="paramname">callback_arg</td><td>Argument passed to the callback function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
