<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Grid Community Toolkit: Implementing Servers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Grid Community Toolkit
   &#160;<span id="projectnumber">6.2.1653033972 (tag: v6.2.20220524)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Implementing Servers<div class="ingroups"><a class="el" href="group__globus__gass__transfer.html">GASS Transfer API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>GASS Server Implementation.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf7d16b1ec66f320b016549f1d339e893"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#gaf7d16b1ec66f320b016549f1d339e893">globus_gass_transfer_close_callback_t</a> )(void *callback_arg, globus_gass_transfer_listener_t listener)</td></tr>
<tr class="separator:gaf7d16b1ec66f320b016549f1d339e893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c50f2e6b9d521ab78c58d52ea8dd022"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#ga1c50f2e6b9d521ab78c58d52ea8dd022">globus_gass_transfer_listen_callback_t</a> )(void *callback_arg, globus_gass_transfer_listener_t listener)</td></tr>
<tr class="separator:ga1c50f2e6b9d521ab78c58d52ea8dd022"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7a1f665a5bded635bbfc827fb19f8cfb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#ga7a1f665a5bded635bbfc827fb19f8cfb">globus_gass_transfer_create_listener</a> (globus_gass_transfer_listener_t *listener, globus_gass_transfer_listenerattr_t *attr, char *scheme)</td></tr>
<tr class="separator:ga7a1f665a5bded635bbfc827fb19f8cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3463614692379d6916d815334677fc8a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#ga3463614692379d6916d815334677fc8a">globus_gass_transfer_close_listener</a> (globus_gass_transfer_listener_t listener, <a class="el" href="group__globus__gass__transfer__server.html#gaf7d16b1ec66f320b016549f1d339e893">globus_gass_transfer_close_callback_t</a> callback, void *user_arg)</td></tr>
<tr class="separator:ga3463614692379d6916d815334677fc8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed8889aac80108c0b29757cb87a58b4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#gaed8889aac80108c0b29757cb87a58b4c">globus_gass_transfer_register_listen</a> (globus_gass_transfer_listener_t listener, <a class="el" href="group__globus__gass__transfer__server.html#ga1c50f2e6b9d521ab78c58d52ea8dd022">globus_gass_transfer_listen_callback_t</a> callback, void *user_arg)</td></tr>
<tr class="separator:gaed8889aac80108c0b29757cb87a58b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4e154bc89c309651d030399cf5b7ec3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#gab4e154bc89c309651d030399cf5b7ec3">globus_gass_transfer_register_accept</a> (<a class="el" href="structglobus__gass__transfer__request__t.html">globus_gass_transfer_request_t</a> *request, globus_gass_transfer_requestattr_t *attr, globus_gass_transfer_listener_t listener, globus_gass_transfer_callback_t callback, void *user_arg)</td></tr>
<tr class="separator:gab4e154bc89c309651d030399cf5b7ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga365267c9798a08ecab8a80e8f128d19f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#ga365267c9798a08ecab8a80e8f128d19f">globus_gass_transfer_listener_get_user_pointer</a> (globus_gass_transfer_listener_t listener)</td></tr>
<tr class="separator:ga365267c9798a08ecab8a80e8f128d19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga381f95f7eafe7048f0057974d9509ecf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#ga381f95f7eafe7048f0057974d9509ecf">globus_gass_transfer_listener_set_user_pointer</a> (globus_gass_transfer_listener_t listener, void *user_pointer)</td></tr>
<tr class="separator:ga381f95f7eafe7048f0057974d9509ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadaa337dc4df4f0a68326aa9cdd29d29c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#gadaa337dc4df4f0a68326aa9cdd29d29c">globus_gass_transfer_listener_get_base_url</a> (globus_gass_transfer_listener_t listener)</td></tr>
<tr class="separator:gadaa337dc4df4f0a68326aa9cdd29d29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2604152dc7e5751c83c215bc076171c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#ga2604152dc7e5751c83c215bc076171c0">globus_gass_transfer_refer</a> (<a class="el" href="structglobus__gass__transfer__request__t.html">globus_gass_transfer_request_t</a> request, char **urls, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> num_urls)</td></tr>
<tr class="separator:ga2604152dc7e5751c83c215bc076171c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga068c0c63ed4e2635d273c2f61c823c0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#ga068c0c63ed4e2635d273c2f61c823c0b">globus_gass_transfer_authorize</a> (<a class="el" href="structglobus__gass__transfer__request__t.html">globus_gass_transfer_request_t</a> request, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> total_length)</td></tr>
<tr class="separator:ga068c0c63ed4e2635d273c2f61c823c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8ab9a7b1b036264c11ecde6c3c565de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gass__transfer__server.html#gaa8ab9a7b1b036264c11ecde6c3c565de">globus_gass_transfer_deny</a> (<a class="el" href="structglobus__gass__transfer__request__t.html">globus_gass_transfer_request_t</a> request, int reason, char *message)</td></tr>
<tr class="separator:gaa8ab9a7b1b036264c11ecde6c3c565de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>GASS Server Implementation. </p>
<p>Implementing Servers</p>
<p>Another mode of using the GASS Transfer API is to implement data servers. The primary difference between the client and server parts of the GASS Transfer API are how requests are generated.</p>
<p>To implement a server, the user would call <a class="el" href="group__globus__gass__transfer__server.html#ga7a1f665a5bded635bbfc827fb19f8cfb">globus_gass_transfer_create_listener()</a> to create a new server port on which a specific protocol will be used to request file transfer operations. The user may obtain the URL that the listener is bound to by calling <a class="el" href="group__globus__gass__transfer__server.html#gadaa337dc4df4f0a68326aa9cdd29d29c">globus_gass_transfer_listener_get_base_url()</a>.</p>
<p>Once the listener is created, the user can call <a class="el" href="group__globus__gass__transfer__server.html#gaed8889aac80108c0b29757cb87a58b4c">globus_gass_transfer_register_listen()</a> to wait for clients to connect to it. Once the server has detected an attempt to connect by a client, the use can call <a class="el" href="group__globus__gass__transfer__server.html#gab4e154bc89c309651d030399cf5b7ec3">globus_gass_transfer_register_accept()</a> to accept the connection from the client and parse the request.</p>
<p>In the callback associated with <a class="el" href="group__globus__gass__transfer__server.html#gab4e154bc89c309651d030399cf5b7ec3">globus_gass_transfer_register_accept()</a>, the server can decide how to process the request. The user may choose to authorize the request by calling <a class="el" href="group__globus__gass__transfer__server.html#ga068c0c63ed4e2635d273c2f61c823c0b">globus_gass_transfer_authorize()</a>, refer it to another URL or URLs by calling <a class="el" href="group__globus__gass__transfer__server.html#ga2604152dc7e5751c83c215bc076171c0">globus_gass_transfer_refer()</a> or deny the client access to the URL by calling <a class="el" href="group__globus__gass__transfer__server.html#gaa8ab9a7b1b036264c11ecde6c3c565de">globus_gass_transfer_deny()</a>. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaf7d16b1ec66f320b016549f1d339e893"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*  globus_gass_transfer_close_callback_t)(void *callback_arg, globus_gass_transfer_listener_t listener)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Listener close callback</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback_arg</td><td></td></tr>
    <tr><td class="paramname">listener</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1c50f2e6b9d521ab78c58d52ea8dd022"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*  globus_gass_transfer_listen_callback_t)(void *callback_arg, globus_gass_transfer_listener_t listener)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Listen callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback_arg</td><td></td></tr>
    <tr><td class="paramname">listener</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga068c0c63ed4e2635d273c2f61c823c0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_transfer_authorize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structglobus__gass__transfer__request__t.html">globus_gass_transfer_request_t</a>&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a>&#160;</td>
          <td class="paramname"><em>total_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Authorize a request.</p>
<p>This function causes the request to be authorized for processing. It should be called in response to a request accept callback when the server wants to agree to process this request. After calling this function, the server implementation should call <a class="el" href="group__globus__gass__transfer__data.html#gaf9fafa443774f59abd5a6584bdeee646">globus_gass_transfer_send_bytes()</a> or <a class="el" href="group__globus__gass__transfer__data.html#gacd7c5a82e0018c76dfce993035a5bf6a">globus_gass_transfer_receive_bytes()</a> to send or receive the data associated with the URL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>A new request handle, passed to the server in an accept callback. </td></tr>
    <tr><td class="paramname">total_length</td><td>For a "get" request, the total_length of the file to be retrieved if known. This value may be GLOBUS_GASS_LENGTH_UNKNOWN if the protocol supports transferring arbitrarily-sized files.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</td><td>The request handle was not valid, not created by calling <a class="el" href="group__globus__gass__transfer__server.html#gab4e154bc89c309651d030399cf5b7ec3">globus_gass_transfer_register_accept()</a>, or has already been denied or authorized. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_NOT_IMPLEMENTED</td><td>The protocol module does not support authorizing requests.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__globus__gass__transfer__server.html#ga2604152dc7e5751c83c215bc076171c0">globus_gass_transfer_refer()</a>, <a class="el" href="group__globus__gass__transfer__server.html#gaa8ab9a7b1b036264c11ecde6c3c565de">globus_gass_transfer_deny()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga3463614692379d6916d815334677fc8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_transfer_close_listener </td>
          <td>(</td>
          <td class="paramtype">globus_gass_transfer_listener_t&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__gass__transfer__server.html#gaf7d16b1ec66f320b016549f1d339e893">globus_gass_transfer_close_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close a GASS listener.</p>
<p>This function calls the protocol specific function needed to close a GASS server listener port. Callbacks for any outstanding accepts will be called before the close callback is invoked.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>Listener handle created by calling <a class="el" href="group__globus__gass__transfer__server.html#ga7a1f665a5bded635bbfc827fb19f8cfb">globus_gass_transfer_create_listener()</a>. </td></tr>
    <tr><td class="paramname">callback</td><td>Function to call once the listener handle has been closed. </td></tr>
    <tr><td class="paramname">user_arg</td><td>Argument to be passed to the <em>callback</em> function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>The close operation was successfully registered on the listener. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</td><td>The listener handle was invalid. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_NOT_INITIALIZED</td><td>The listener handle was not properly initialized. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_DONE</td><td>A close has already been registered on the listener. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7a1f665a5bded635bbfc827fb19f8cfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_transfer_create_listener </td>
          <td>(</td>
          <td class="paramtype">globus_gass_transfer_listener_t *&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">globus_gass_transfer_listenerattr_t *&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>scheme</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new protocol-specific listener socket for a GASS server.</p>
<p>This function creates a new socket to listen for client connections as a GASS server. The listener handle pointer is initialized to contain the a new handle which can be used in subsequent server operations.</p>
<p>After calling this function, a user may call the <a class="el" href="group__globus__gass__transfer__server.html#gaed8889aac80108c0b29757cb87a58b4c">globus_gass_transfer_register_listen()</a> or <a class="el" href="group__globus__gass__transfer__server.html#ga3463614692379d6916d815334677fc8a">globus_gass_transfer_close_listener()</a> functions with this listener handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>A new listener handle to initialize. </td></tr>
    <tr><td class="paramname">attr</td><td>Protocol-specific attributes for the new listener. </td></tr>
    <tr><td class="paramname">scheme</td><td>The protocol scheme to implement for the listener.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>The listener was successfully created. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_NULL_POINTER</td><td>The <em>listener</em> or <em>scheme</em> parameter was NULL </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_NOT_IMPLEMENTED</td><td>The <em>scheme</em> is not supported by any protocol module. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_MALLOC_FAILED</td><td>Data structures associated with the transfer could not be allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa8ab9a7b1b036264c11ecde6c3c565de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_transfer_deny </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structglobus__gass__transfer__request__t.html">globus_gass_transfer_request_t</a>&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deny a request.</p>
<p>This function causes the request to be denied for further processing. It should be called in response to a request ccept callback when the server wants to refuse processing this request for the client. After calling this function, the server implementation need do nothing further with the request handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>A new request handle, passed to the server in an accept callback. </td></tr>
    <tr><td class="paramname">reason</td><td>A protocol-specific reason code. </td></tr>
    <tr><td class="paramname">message</td><td>An informational message to be sent to the client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</td><td>The request handle was not valid, not created by calling <a class="el" href="group__globus__gass__transfer__server.html#gab4e154bc89c309651d030399cf5b7ec3">globus_gass_transfer_register_accept()</a>, or has already been denied or authorized. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_NOT_IMPLEMENTED</td><td>The protocol module does not support denying requests.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__globus__gass__transfer__server.html#ga2604152dc7e5751c83c215bc076171c0">globus_gass_transfer_refer()</a>, <a class="el" href="group__globus__gass__transfer__server.html#ga068c0c63ed4e2635d273c2f61c823c0b">globus_gass_transfer_authorize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gadaa337dc4df4f0a68326aa9cdd29d29c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* globus_gass_transfer_listener_get_base_url </td>
          <td>(</td>
          <td class="paramtype">globus_gass_transfer_listener_t&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the base URL of a listener.</p>
<p>This function queries a listener handle for the base URL which the server is listening on. For most protocols, this contains the protocol scheme, host, and port that the listener has registered itself on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener handle to query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns a pointer to a string containing the base URL. This string must not be freed or modified by the caller. It may not be referred to after the function globus_gass_transfer_listener_close() has been called. </dd></dl>

</div>
</div>
<a class="anchor" id="ga365267c9798a08ecab8a80e8f128d19f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* globus_gass_transfer_listener_get_user_pointer </td>
          <td>(</td>
          <td class="paramtype">globus_gass_transfer_listener_t&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the user pointer associated with a listener.</p>
<p>This function will query the listener's user_pointer field and return it's value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the listener handle is invalid or the user_pointer's value has not been set, then GLOBUS_NULL will be returned. Otherwise, the value of the user pointer will be returned.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__globus__gass__transfer__server.html#ga381f95f7eafe7048f0057974d9509ecf">globus_gass_transfer_listener_set_user_pointer()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga381f95f7eafe7048f0057974d9509ecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_transfer_listener_set_user_pointer </td>
          <td>(</td>
          <td class="paramtype">globus_gass_transfer_listener_t&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the user pointer associated with a listener.</p>
<p>This function will set the listener's user_pointer field. The pointer may be used to associate any pointer-sized data with a listener handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener handle. </td></tr>
    <tr><td class="paramname">user_pointer</td><td>The value of the user pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>The user pointer was successfully set. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</td><td>The <em>listener</em> handle was invalid.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__globus__gass__transfer__server.html#ga365267c9798a08ecab8a80e8f128d19f">globus_gass_transfer_listener_get_user_pointer()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga2604152dc7e5751c83c215bc076171c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_transfer_refer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structglobus__gass__transfer__request__t.html">globus_gass_transfer_request_t</a>&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>urls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a>&#160;</td>
          <td class="paramname"><em>num_urls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Refer a request.</p>
<p>This function causes the request to be referred to another URL or list of URLs. It should be called in response to a request accept callback when the server wants to refer the client to another server or servers to process the request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>A new request handle, passed to the server in an accept callback. </td></tr>
    <tr><td class="paramname">urls</td><td>An array of strings, each being a URL pointing to sources of the same data as the original URL. </td></tr>
    <tr><td class="paramname">num_urls</td><td>The length of the <em>urls</em> array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</td><td>The request handle was not valid, not created by calling <a class="el" href="group__globus__gass__transfer__server.html#gab4e154bc89c309651d030399cf5b7ec3">globus_gass_transfer_register_accept()</a>, or has already been denied or authorized. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_NOT_IMPLEMENTED</td><td>The protocol module does not support referrals.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__globus__gass__transfer__server.html#gaa8ab9a7b1b036264c11ecde6c3c565de">globus_gass_transfer_deny()</a>, <a class="el" href="group__globus__gass__transfer__server.html#ga068c0c63ed4e2635d273c2f61c823c0b">globus_gass_transfer_authorize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gab4e154bc89c309651d030399cf5b7ec3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_transfer_register_accept </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structglobus__gass__transfer__request__t.html">globus_gass_transfer_request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">globus_gass_transfer_requestattr_t *&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">globus_gass_transfer_listener_t&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">globus_gass_transfer_callback_t&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Accept new client connections.</p>
<p>This function causes the listener handle to accept a new connection on the listener and parse the file request. Once the file request has been parsed, the specified <em>callback</em> function will be called. The server implementation must then either authorize, deny, or refer this request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>A pointer to a new request handle. This request handle will be initialized when the callback function is invoked. </td></tr>
    <tr><td class="paramname">attr</td><td>Request attributes. </td></tr>
    <tr><td class="paramname">listener</td><td>The listener handle to register for the new request. </td></tr>
    <tr><td class="paramname">callback</td><td>Function to call when the protocol module has parsed the file request. </td></tr>
    <tr><td class="paramname">user_arg</td><td>Argument to be passed to the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>The listen callback has been registered with the protocol module. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</td><td>An invalid <em>listener</em> handle was passed to this function. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_NOT_INITIALIZED</td><td>An uninitialized <em>listener</em> handle was passed to this function. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_INTERNAL_ERROR</td><td>The request could not be initialized due to some internal resource depletion. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_NOT_REGISTERED.</td><td>The <a class="el" href="group__globus__gass__transfer__server.html#gaed8889aac80108c0b29757cb87a58b4c">globus_gass_transfer_register_listen()</a> function has not yet been called. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_ALREADY_REGISTERED.</td><td>The listener is already processing a new request. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_DONE</td><td>The listener has been registered for closing.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__globus__gass__transfer__server.html#gaed8889aac80108c0b29757cb87a58b4c">globus_gass_transfer_register_listen()</a>; </dd></dl>

</div>
</div>
<a class="anchor" id="gaed8889aac80108c0b29757cb87a58b4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gass_transfer_register_listen </td>
          <td>(</td>
          <td class="paramtype">globus_gass_transfer_listener_t&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__gass__transfer__server.html#ga1c50f2e6b9d521ab78c58d52ea8dd022">globus_gass_transfer_listen_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Listen for new client connections.</p>
<p>This function causes the listener handle to listen for new client connections. When one is ready, it calls the specified <em>callback</em> function, letting the server implementer continue to accept the connection and process the request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener handle to register for new connections. </td></tr>
    <tr><td class="paramname">callback</td><td>Function to call when a new connection may be accepted. </td></tr>
    <tr><td class="paramname">user_arg</td><td>Argument to be passed to the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>The listen callback has been registered with the protocol module. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</td><td>An invalid <em>listener</em> handle was passed to this function. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_NOT_INITIALIZED</td><td>An uninitialized <em>listener</em> handle was passed to this function. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_ALREADY_REGISTERED</td><td>The listener has already been registered for a new connection. </td></tr>
    <tr><td class="paramname">GLOBUS_GASS_TRANSFER_ERROR_DONE</td><td>The listener has been registered for closing.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__globus__gass__transfer__server.html#gab4e154bc89c309651d030399cf5b7ec3">globus_gass_transfer_register_accept()</a>; </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
