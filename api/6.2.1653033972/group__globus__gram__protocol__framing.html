<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Grid Community Toolkit: Message Framing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Grid Community Toolkit
   &#160;<span id="projectnumber">6.2.1653033972 (tag: v6.2.20220524)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Message Framing<div class="ingroups"><a class="el" href="group__globus__gram__protocol__functions.html">Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Message Framing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga802c7ddc5d740a8924c4d8ea4da34ccf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gram__protocol__framing.html#ga802c7ddc5d740a8924c4d8ea4da34ccf">globus_gram_protocol_frame_request</a> (const char *url, const <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *msg, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> msgsize, <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> **framedmsg, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> *framedsize)</td></tr>
<tr class="memdesc:ga802c7ddc5d740a8924c4d8ea4da34ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a HTTP-framed copy of a GRAM request.  <a href="#ga802c7ddc5d740a8924c4d8ea4da34ccf">More...</a><br/></td></tr>
<tr class="separator:ga802c7ddc5d740a8924c4d8ea4da34ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad36cdae83ef495c64ef51eb4a4e0c59b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__gram__protocol__framing.html#gad36cdae83ef495c64ef51eb4a4e0c59b">globus_gram_protocol_frame_reply</a> (int code, const <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *msg, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> msgsize, <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> **framedmsg, <a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> *framedsize)</td></tr>
<tr class="memdesc:gad36cdae83ef495c64ef51eb4a4e0c59b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a HTTP-framed copy of a GRAM reply.  <a href="#gad36cdae83ef495c64ef51eb4a4e0c59b">More...</a><br/></td></tr>
<tr class="separator:gad36cdae83ef495c64ef51eb4a4e0c59b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Message Framing. </p>
<p>The functions in this section frame a GRAM request, query, or reply message with HTTP headers compatible with the GRAM2 protocol parsers in GT2 GT3, and GT4.</p>
<p>These functions should be used when an application wants to control the way that the GRAM Protocol messages are sent, while still using the standard message formatting and framing routines. An alternative set of functions in the <a class="el" href="group__globus__gram__protocol__io.html">Message I/O</a> section of the manual combine message framing with callback-driven I/O. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad36cdae83ef495c64ef51eb4a4e0c59b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gram_protocol_frame_reply </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a>&#160;</td>
          <td class="paramname"><em>msgsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> **&#160;</td>
          <td class="paramname"><em>framedmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> *&#160;</td>
          <td class="paramname"><em>framedsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a HTTP-framed copy of a GRAM reply. </p>
<p>The <a class="el" href="group__globus__gram__protocol__framing.html#gad36cdae83ef495c64ef51eb4a4e0c59b" title="Create a HTTP-framed copy of a GRAM reply. ">globus_gram_protocol_frame_reply()</a> function adds HTTP 1.1 framing around the input message. The framed message includes HTTP headers relating the the status of the operation being replied to and the length of the message content. The framed message is returned by modifying <em>framedmsg</em> to point to a newly allocated string. The integer pointed to by the <em>framedsize</em> parameter is set to the length of this message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>The HTTP response code to send along with this reply. </td></tr>
    <tr><td class="paramname">msg</td><td>A string containing the reply message content to be framed. </td></tr>
    <tr><td class="paramname">msgsize</td><td>The length of the string pointed to by <em>msg</em>. </td></tr>
    <tr><td class="paramname">framedmsg</td><td>An output parameter which will be set to a copy of the <em>msg</em> string with an HTTP reply frame around it. </td></tr>
    <tr><td class="paramname">framedsize</td><td>An output parameter which will be set to the length of the framed reply string pointed to by <em>framedmsg</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon success, <a class="el" href="group__globus__gram__protocol__framing.html#gad36cdae83ef495c64ef51eb4a4e0c59b" title="Create a HTTP-framed copy of a GRAM reply. ">globus_gram_protocol_frame_reply()</a> will return GLOBUS_SUCCESS and the <em>framedmsg</em> and <em>framedsize</em> parameters will be modified to point to the new framed message string and its length respectively. When this occurs, the caller is responsible for freeing the string pointed to by <em>framedmsg</em>. If an error occurs, its value will returned and the <em>framedmsg</em> and <em>framedsize</em> parameters will be uninitialized.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga802c7ddc5d740a8924c4d8ea4da34ccf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_gram_protocol_frame_request </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a>&#160;</td>
          <td class="paramname"><em>msgsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#ga209de8a1a9550f5bb81cc287674e0dbb">globus_byte_t</a> **&#160;</td>
          <td class="paramname"><em>framedmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__common.html#gac9ab189b9de1c4adfacd6422598ce60f">globus_size_t</a> *&#160;</td>
          <td class="paramname"><em>framedsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a HTTP-framed copy of a GRAM request. </p>
<p>The <a class="el" href="group__globus__gram__protocol__framing.html#ga802c7ddc5d740a8924c4d8ea4da34ccf" title="Create a HTTP-framed copy of a GRAM request. ">globus_gram_protocol_frame_request()</a> function adds HTTP 1.1 framing around the input message. The framed message includes HTTP headers relating the the destination URL and the length of the message content. The framed message is returned by modifying <em>framedmsg</em> to point to a newly allocated string. The integer pointed to by the <em>framedsize</em> parameter is set to the length of this message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The URL of the GRAM resource to contact. This is parsed and used to generate the HTTP POST operation destination and the Host HTTP header. </td></tr>
    <tr><td class="paramname">msg</td><td>A string containing the message content to be framed. </td></tr>
    <tr><td class="paramname">msgsize</td><td>The length of the string pointed to by <em>msg</em> </td></tr>
    <tr><td class="paramname">framedmsg</td><td>An output parameter which will be set to a copy of the <em>msg</em> string with an HTTP frame around it. </td></tr>
    <tr><td class="paramname">framedsize</td><td>An output parameter which will be set to the length of the framed message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon success, <a class="el" href="group__globus__gram__protocol__framing.html#ga802c7ddc5d740a8924c4d8ea4da34ccf" title="Create a HTTP-framed copy of a GRAM request. ">globus_gram_protocol_frame_request()</a> will return GLOBUS_SUCCESS and the <em>framedmsg</em> and <em>framedsize</em> parameters will be modified to point to the new framed message string and its length respectively. When this occurs, the caller is responsible for freeing the string pointed to by <em>framedmsg</em>. If an error occurs, its value will returned and the <em>framedmsg</em> and <em>framedsize</em> parameters will be uninitialized.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GLOBUS_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_JOB_CONTACT</td><td>Invalid job contact </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
