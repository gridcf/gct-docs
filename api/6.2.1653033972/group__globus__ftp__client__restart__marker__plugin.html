<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Grid Community Toolkit: Restart Marker Plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Grid Community Toolkit
   &#160;<span id="projectnumber">6.2.1653033972 (tag: v6.2.20220524)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Restart Marker Plugin<div class="ingroups"><a class="el" href="group__globus__ftp__client__plugins.html">Plugins</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Restart Marker Plugin.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga70fd7e1b5ed78acae579dd310c20f76c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#ga70fd7e1b5ed78acae579dd310c20f76c">GLOBUS_FTP_CLIENT_RESTART_MARKER_PLUGIN_MODULE</a>&#160;&#160;&#160;(&amp;globus_i_ftp_client_restart_marker_plugin_module)</td></tr>
<tr class="separator:ga70fd7e1b5ed78acae579dd310c20f76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa670bf1c236a92a4f75bef894c008923"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#gaa670bf1c236a92a4f75bef894c008923">globus_ftp_client_restart_marker_plugin_begin_cb_t</a> )(void *user_arg, <a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, const char *source_url, const char *dest_url, <a class="el" href="unionglobus__ftp__client__restart__marker__t.html">globus_ftp_client_restart_marker_t</a> *user_saved_marker)</td></tr>
<tr class="memdesc:gaa670bf1c236a92a4f75bef894c008923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer begin callback.  <a href="#gaa670bf1c236a92a4f75bef894c008923">More...</a><br/></td></tr>
<tr class="separator:gaa670bf1c236a92a4f75bef894c008923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02e6bd3db90bb04b810f7bce986bb3bb"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#ga02e6bd3db90bb04b810f7bce986bb3bb">globus_ftp_client_restart_marker_plugin_marker_cb_t</a> )(void *user_arg, <a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, <a class="el" href="unionglobus__ftp__client__restart__marker__t.html">globus_ftp_client_restart_marker_t</a> *marker)</td></tr>
<tr class="separator:ga02e6bd3db90bb04b810f7bce986bb3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46cf2cf0f044fd5bd506302303102121"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#ga46cf2cf0f044fd5bd506302303102121">globus_ftp_client_restart_marker_plugin_complete_cb_t</a> )(void *user_arg, <a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, globus_object_t *error, const char *error_url)</td></tr>
<tr class="separator:ga46cf2cf0f044fd5bd506302303102121"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga309a9c60e81dcaa9fef3ad8850fdce6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#ga309a9c60e81dcaa9fef3ad8850fdce6c">globus_ftp_client_restart_marker_plugin_init</a> (<a class="el" href="group__globus__ftp__client__plugins.html#gafd650bbeee4bf50b94275d89352697dc">globus_ftp_client_plugin_t</a> *plugin, <a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#gaa670bf1c236a92a4f75bef894c008923">globus_ftp_client_restart_marker_plugin_begin_cb_t</a> begin_cb, <a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#ga02e6bd3db90bb04b810f7bce986bb3bb">globus_ftp_client_restart_marker_plugin_marker_cb_t</a> marker_cb, <a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#ga46cf2cf0f044fd5bd506302303102121">globus_ftp_client_restart_marker_plugin_complete_cb_t</a> complete_cb, void *user_arg)</td></tr>
<tr class="separator:ga309a9c60e81dcaa9fef3ad8850fdce6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac93d2ca16d99bb903fef19434c37289"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#gaac93d2ca16d99bb903fef19434c37289">globus_ftp_client_restart_marker_plugin_destroy</a> (<a class="el" href="group__globus__ftp__client__plugins.html#gafd650bbeee4bf50b94275d89352697dc">globus_ftp_client_plugin_t</a> *plugin)</td></tr>
<tr class="separator:gaac93d2ca16d99bb903fef19434c37289"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Restart Marker Plugin. </p>
<p>This plugin is intended to allow users to make restart markers persistent. During a transfer, every marker received will result in the user's 'marker' callback being called with the new restart marker that can be stored. If the application were to prematurely terminate (while transferring), the user (after restarting the application) could pass this stored marker back to the plugin via the 'begin' callback to force the transfer to be restarted from the last marked point. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga70fd7e1b5ed78acae579dd310c20f76c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GLOBUS_FTP_CLIENT_RESTART_MARKER_PLUGIN_MODULE&#160;&#160;&#160;(&amp;globus_i_ftp_client_restart_marker_plugin_module)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Module descriptor </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaa670bf1c236a92a4f75bef894c008923"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__globus__common.html#gab407d5994daaaede9d66b8f1361180e2">globus_bool_t</a>(* globus_ftp_client_restart_marker_plugin_begin_cb_t)(void *user_arg, <a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, const char *source_url, const char *dest_url, <a class="el" href="unionglobus__ftp__client__restart__marker__t.html">globus_ftp_client_restart_marker_t</a> *user_saved_marker)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer begin callback. </p>
<p>This callback is called when a get, put, or third party transfer is started.</p>
<p>The intended use for this callback is for the user to use the transfer urls to locate a restart marker in some persistent storage. If one is found, it should be copied into 'user_saved_marker' and the callback should return GLOBUS_TRUE. This will cause the transfer to be restarted using that restart marker. If one is not found, return GLOBUS_FALSE to indicate that the transfer should proceed from the beginning.</p>
<p>In any case, this is also an opportunity for the user to set up any storage in anticipation of restart markers for this transfer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>this the client handle that this transfer will be occurring on</td></tr>
    <tr><td class="paramname">user_arg</td><td>this is the user_arg passed to the init func</td></tr>
    <tr><td class="paramname">source_url</td><td>source of the transfer (GLOBUS_NULL if 'put')</td></tr>
    <tr><td class="paramname">dest_url</td><td>dest of the transfer (GLOBUS_NULL if 'get')</td></tr>
    <tr><td class="paramname">user_saved_marker</td><td>pointer to an initialized restart marker</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>GLOBUS_TRUE to indicate that the plugin should use 'user_saved_marker' to restart the transfer (and subsequently, destroy the marker)</li>
<li>GLOBUS_FALSE to indicate that 'user_saved_marker' has not been modified, and that the transfer should proceed normally </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga46cf2cf0f044fd5bd506302303102121"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* globus_ftp_client_restart_marker_plugin_complete_cb_t)(void *user_arg, <a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, globus_object_t *error, const char *error_url)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfer complete callback</p>
<p>This callback will be called upon transfer completion (successful or otherwise)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>this the client handle that this transfer was occurring on</td></tr>
    <tr><td class="paramname">user_arg</td><td>this is the user_arg passed to the init func</td></tr>
    <tr><td class="paramname">error</td><td>the error object indicating what went wrong (GLOBUS_NULL on success)</td></tr>
    <tr><td class="paramname">error_url</td><td>the url which is the source of the above error (GLOBUS_NULL on success)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>n/a </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga02e6bd3db90bb04b810f7bce986bb3bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* globus_ftp_client_restart_marker_plugin_marker_cb_t)(void *user_arg, <a class="el" href="group__globus__ftp__client__handle.html#ga9d8a98c88d529ab539c2fedee545f172">globus_ftp_client_handle_t</a> *handle, <a class="el" href="unionglobus__ftp__client__restart__marker__t.html">globus_ftp_client_restart_marker_t</a> *marker)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restart marker received callback</p>
<p>This callback will be called every time a restart marker is available.</p>
<p>To receive restart markers in a 'put' or 'third_party_transfer', the transfer must be in Extended Block mode. 'get' transfers will have their markers generated internally. Markers generated internally will be 'sent' at most, once per second.</p>
<p>The intended use for this callback is to allow the user to store this marker (most likely in place of any previous marker) in a format that the 'begin_cb' can parse and pass back.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>this the client handle that this transfer is occurring on</td></tr>
    <tr><td class="paramname">user_arg</td><td>this is the user_arg passed to the init func</td></tr>
    <tr><td class="paramname">marker</td><td>the restart marker that has been received. This marker is owned by the caller. The user must use the copy method to keep it. Note: this restart marker currently contains all ranges received as of yet. Should I instead only pass a marker with the ranges just made available? If so, the user may need a way to combine restart markers (globus_ftp_client_restart_marker_combine)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>n/a </li>
</ul>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaac93d2ca16d99bb903fef19434c37289"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a> globus_ftp_client_restart_marker_plugin_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__plugins.html#gafd650bbeee4bf50b94275d89352697dc">globus_ftp_client_plugin_t</a> *&#160;</td>
          <td class="paramname"><em>plugin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy restart marker plugin</p>
<p>Frees up memory associated with plugin</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin</td><td>plugin previously initialized with init (above)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>GLOBUS_SUCCESS</li>
<li>Error on NULL plugin </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga309a9c60e81dcaa9fef3ad8850fdce6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__globus__common.html#gab3aa7be121bcab5daf208d5d99b4e8f2">globus_result_t</a> globus_ftp_client_restart_marker_plugin_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__plugins.html#gafd650bbeee4bf50b94275d89352697dc">globus_ftp_client_plugin_t</a> *&#160;</td>
          <td class="paramname"><em>plugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#gaa670bf1c236a92a4f75bef894c008923">globus_ftp_client_restart_marker_plugin_begin_cb_t</a>&#160;</td>
          <td class="paramname"><em>begin_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#ga02e6bd3db90bb04b810f7bce986bb3bb">globus_ftp_client_restart_marker_plugin_marker_cb_t</a>&#160;</td>
          <td class="paramname"><em>marker_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__globus__ftp__client__restart__marker__plugin.html#ga46cf2cf0f044fd5bd506302303102121">globus_ftp_client_restart_marker_plugin_complete_cb_t</a>&#160;</td>
          <td class="paramname"><em>complete_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a restart marker plugin</p>
<p>This function initializes a restart marker plugin. Any params except for the plugin may be GLOBUS_NULL</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin</td><td>a pointer to a plugin type to be initialized</td></tr>
    <tr><td class="paramname">user_arg</td><td>a pointer to some user specific data that will be provided to all callbacks</td></tr>
    <tr><td class="paramname">begin_cb</td><td>the callback to be called upon the start of a transfer</td></tr>
    <tr><td class="paramname">marker_cb</td><td>the callback to be called with every restart marker received</td></tr>
    <tr><td class="paramname">complete_cb</td><td>the callback to be called to indicate transfer completion</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>GLOBUS_SUCCESS</li>
<li>Error on NULL plugin</li>
<li>Error on init internal plugin </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
