<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Grid Community Toolkit: common/source/library/globus_extension.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Grid Community Toolkit
   &#160;<span id="projectnumber">6.2.1653033972 (tag: v6.2.20220524)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_34a67bc2a67a51fe947a8a46118b84c8.html">source</a></li><li class="navelem"><a class="el" href="dir_14a2be4550b27c5913af816eabb2c577.html">library</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">globus_extension.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Globus Extension Modules.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="globus__common__include_8h_source.html">globus_common_include.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="globus__module_8h_source.html">globus_module.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="globus__hashtable_8h_source.html">globus_hashtable.h</a>&quot;</code><br/>
</div>
<p><a href="globus__extension_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1e0eb5301efd041f4c7120eb2d5a8708"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globus__extension_8h.html#a1e0eb5301efd041f4c7120eb2d5a8708">GlobusExtensionDefineModule</a>(name)&#160;&#160;&#160;<a class="el" href="structglobus__module__descriptor__s.html">globus_module_descriptor_t</a> name##_module</td></tr>
<tr class="separator:a1e0eb5301efd041f4c7120eb2d5a8708"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afa0db8a9be0f7cabee723277291647e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globus__extension_8h.html#afa0db8a9be0f7cabee723277291647e0">globus_extension_activate</a> (const char *extension_name)</td></tr>
<tr class="separator:afa0db8a9be0f7cabee723277291647e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0362e68ee4b63c0065f6b622acac98e4"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globus__extension_8h.html#a0362e68ee4b63c0065f6b622acac98e4">globus_extension_lookup</a> (globus_extension_handle_t *handle, globus_extension_registry_t *registry, void *symbol)</td></tr>
<tr class="separator:a0362e68ee4b63c0065f6b622acac98e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7103f2a1e9ffccd5f01f394b82f3e300"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globus__extension_8h.html#a7103f2a1e9ffccd5f01f394b82f3e300">globus_extension_register_builtin</a> (const char *extension_name, <a class="el" href="structglobus__module__descriptor__s.html">globus_module_descriptor_t</a> *module_descriptor)</td></tr>
<tr class="separator:a7103f2a1e9ffccd5f01f394b82f3e300"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Globus Extension Modules. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1e0eb5301efd041f4c7120eb2d5a8708"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GlobusExtensionDefineModule</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="structglobus__module__descriptor__s.html">globus_module_descriptor_t</a> name##_module</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Declare your module with the following.</p>
<p>Ex: <a class="el" href="globus__extension_8h.html#a1e0eb5301efd041f4c7120eb2d5a8708">GlobusExtensionDefineModule(my_module)</a> = { "my_module", globus_l_my_module_activate, globus_l_my_module_deactivate, NULL, NULL, &amp;local_version }; </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afa0db8a9be0f7cabee723277291647e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_extension_activate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>loads the shared library 'lib<b>extension_name</b>_<b>flavor</b>.so' from $GLOBUS_LOCATION/lib (or other location in LD_LIBRARY_PATH and activates the module defined within.</p>
<p>In the future, a configuration file will be supported allowing arbitrary extension names to be mapped to a specific library name.</p>
<p>Also, when builtin (compiled in) extensions are supported, this will activate those directly without needing to load the library.</p>
<p>Search order:</p>
<ul>
<li><b>extension_name</b> in mappings hash XXX not implemented<ul>
<li>mapped name in builtin hash XXX not implemented</li>
<li>mapped name in dll hash XXX not implemented</li>
<li>load mapped name XXX not implemented</li>
</ul>
</li>
<li><b>extension_name</b> in builtin hash</li>
<li><b>extension_name</b> in dll hash</li>
<li>load library if(strchr(<b>extension_name</b>, '/'))<ul>
<li>concatenate / + dirname(<b>extension_name</b>) + /lib + basename(<b>extension_name</b>) + _&lt;flavor&gt;.so to $GLOBUS_LOCATION/lib and each search path in mappings file XXX not implemented (eg, for <b>extension_name</b> == wsrf/services/CounterService, load $GLOBUS_LOCATION/lib/wsrf/services/libCounterService_gcc32dbg.so)</li>
<li>lib + basename(<b>entension_name</b>) + _<b>flavor</b>.so subject to LD_LIBRARY_PATH else</li>
<li>load lib<b>extension_name</b>_<b>build_flavor</b> subject to LD_LIBRARY_PATH </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a0362e68ee4b63c0065f6b622acac98e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* globus_extension_lookup </td>
          <td>(</td>
          <td class="paramtype">globus_extension_handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">globus_extension_registry_t *&#160;</td>
          <td class="paramname"><em>registry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>symbol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the datum associated with symbol in this registry.</p>
<p>You MUST call globus_extension_release() when you are done using the data. the lookup() and release() calls handle the reference counting that prevents an extension from being unloaded while things it provides are being used. Do NOT call release() until you are done accessing the data from * the lookup() call.</p>
<p>release() could potentially block as a result of module deactivation and unloading. ensuring that globus_extension_deactivate() is not called with outstanding references will prevent that.</p>
<p>symbol is a char * by default. the key can be changed by calling globus_extension_registry_set_hashing() before it is accessed. </p>

</div>
</div>
<a class="anchor" id="a7103f2a1e9ffccd5f01f394b82f3e300"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int globus_extension_register_builtin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structglobus__module__descriptor__s.html">globus_module_descriptor_t</a> *&#160;</td>
          <td class="paramname"><em>module_descriptor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>hopefully in the future, these functions will only be needed by generated code </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
