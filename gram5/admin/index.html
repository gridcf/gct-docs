<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>GCT 6.0 GRAM5: System Administrator&#8217;s Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body id="gram5Admin" class="book toc2 toc-left">
<div id="header">
<h1>GCT 6.0 GRAM5: System Administrator&#8217;s Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#gram5-admin-install">GRAM5 Installation</a>
<ul class="sectlevel2">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_planning_your_gram5_installation">Planning your GRAM5 installation</a></li>
<li><a href="#gram5-admin-installing-lrm-packages">Installing LRM Adapter Packages</a></li>
</ul>
</li>
<li><a href="#gram5-admin-managing">Common Administrative Tasks</a>
<ul class="sectlevel2">
<li><a href="#_managing_gram5_users">Managing GRAM5 Users</a></li>
<li><a href="#gram5-admin-starting-and-stopping">Starting and Stopping GRAM5 services</a></li>
<li><a href="#_enabling_and_disabling_gram5_services">Enabling and Disabling GRAM5 Services</a></li>
<li><a href="#_enabling_and_disabling_seg_modules">Enabling and Disabling SEG Modules</a></li>
</ul>
</li>
<li><a href="#gram5-configuring">Configuring GRAM5</a>
<ul class="sectlevel2">
<li><a href="#gram5-configuring-gatekeeper">Gatekeeper Configuration</a></li>
<li><a href="#gram5-configuring-seg">Scheduler Event Generator Configuration</a></li>
<li><a href="#gram5-configuring-jobmanager">Job Manager Configuration</a></li>
<li><a href="#gram5-configuring-lrm">LRM Adapter Configuration</a></li>
<li><a href="#_auditing">Auditing</a></li>
<li><a href="#_rsl_attributes">RSL Attributes</a></li>
</ul>
</li>
<li><a href="#gram5-audit-logging">Audit Logging</a>
<ul class="sectlevel2">
<li><a href="#gram5-audit-logging-overview">Overview</a></li>
<li><a href="#_audit_and_accounting_records">Audit and Accounting Records</a></li>
<li><a href="#_for_more_information">For More Information</a></li>
<li><a href="#gram5-audit-logging-config">Configuration</a></li>
<li><a href="#gram5-audit-logging-config-database">Audit Database Interface</a></li>
</ul>
</li>
<li><a href="#gram5-admin-security_considerations">Security Considerations</a>
<ul class="sectlevel2">
<li><a href="#gram5-security-considerations">Security Considerations</a></li>
</ul>
</li>
<li><a href="#gram5-admin-troubleshooting">Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#gram5-troubleshooting-admin">Admin Troubleshooting</a></li>
</ul>
</li>
<li><a href="#gram5-admin-programs">Admin Tools</a>
<ul class="sectlevel2">
<li><a href="#gram5-globus-gatekeeper">GLOBUS-GATEKEEPER(8)</a></li>
<li><a href="#globus-gatekeeper-admin">GLOBUS-GATEKEEPER-ADMIN(8)</a></li>
<li><a href="#_globus_gram_audit_8">GLOBUS-GRAM-AUDIT(8)</a></li>
<li><a href="#gram5-cmd-globus-job-manager">GLOBUS-JOB-MANAGER(8)</a></li>
<li><a href="#gram5-cmd-globus-rvf-check">GLOBUS-RVF-CHECK(8)</a></li>
<li><a href="#gram5-cmd-globus-rvf-edit">GLOBUS-RVF-EDIT(8)</a></li>
<li><a href="#globus-scheduler-event-generator">GLOBUS-SCHEDULER-EVENT-GENERATOR(8)</a></li>
<li><a href="#globus-scheduler-event-generator-admin">GLOBUS-SCHEDULER-EVENT-GENERATOR-ADMIN(8)</a></li>
</ul>
</li>
<li><a href="#gram5-usage">Usage statistics collection by the Globus Alliance</a>
<ul class="sectlevel2">
<li><a href="#gram5-usage-stats">GRAM5-specific usage statistics</a></li>
</ul>
</li>
<li><a href="#gram5-admin-index">Index</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="../../index.html">GCT</a> &#8594; <a href="../index.html">GRAM 5</a> &#8594; GCT 6.0 GRAM5: System Administrator&#8217;s Guide</p>
</div>
<div class="openblock">
<div class="title">Introduction</div>
<div class="content">
<div class="paragraph">
<p>This guide contains configuration information for system administrators
working with GRAM5. It describes procedures typically performed by
system administrators, including GRAM5 software installation,
configuration, testing, and debugging. Readers should be familiar with
the <a href="../../gram5/key/index.html">GRAM5 Key Concepts</a> to understand the
motivation for and interaction between the various deployed components.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-admin-install">GRAM5 Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction">Introduction</h3>
<div class="paragraph">
<p>The Grid Community Toolkit provides GRAM5: a service to submit, monitor, and
cancel jobs on Grid computing resources. In GRAM5, a job consists of a
computation and, optionally, file transfer and management operations
related to the computation. Some users, particularly interactive ones,
benefit from accessing output data files as the job is running.
Monitoring consists of querying for and/or subscribing to status
information, such as job state changes.</p>
</div>
<div class="paragraph">
<p>GRAM5 relies on <a href="../../gsic/index.html">GSI C</a> mechanisms for security, and
interacts with
<a href="../../gridftp/index.html">GridFTP</a> services to stage files to compute resources. Please see
their respective Administrator&#8217;s guides for information about
installing, configuring, and managing those systems. In particular, you
must understand the tasks in
<a href="../../admin/install/index.html#gtadmin-install">Installing GCT 6.0</a> and
install the
basic GRAM5 packages, and complete the tasks in
<a href="../../admin/install/index.html#gtadmin-basic-security">Basic Security
Configuration</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_planning_your_gram5_installation">Planning your GRAM5 installation</h3>
<div class="paragraph">
<p>Before installing GRAM5 on a server, you&#8217;ll first need to plan what
Local Resource
        Managers (LRMs) you want GRAM5 to interface with,
what LRM you want to have as your default GRAM5 service, and whether
you&#8217;ll be using the <strong><code>globus-scheduler-event-generator</code></strong> to process
LRM events.</p>
</div>
<div class="paragraph">
<p>GRAM5 requires a few services to be running to function: the Gatekeeper
and the Scheduler Event Generator (SEG). The supported way to run these
services is via the System-V style init scripts provided with the
GRAM5-related packages. The gatekeeper daemon can also be configured to
start via an internet superserver such as <strong><code>inetd</code></strong> or
<strong><code>xinetd</code></strong> though that is beyond the scope of this document. The
<strong><code>globus-scheduler-event-generator</code></strong> can not be run in that way.</p>
</div>
<div class="sect3">
<h4 id="_choosing_an_lrm_adapter">Choosing an LRM Adapter</h4>
<div class="paragraph">
<p>GRAM5 in GCT 6.0 supports the following LRM adapters: Condor, PBS,
GridEngine, and Fork. These LRM adapters translate GRAM5 job
specifications into LRM-specific job descriptions and scripts to run
them, as well as interfaces to the LRM to determine job termination
status.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re not familiar with the supported LRMs, you might want to start
with the Fork one to get familiar with how GRAM5 works. This adapter
simply forks the job and runs it on the GRAM5 node. You can then install
one of the other LRMs and its adapter to provide batch or
high-throughput job scheduling.</p>
</div>
<div class="sect4">
<h5 id="_default_gram5_service">Default GRAM5 Service</h5>
<div class="paragraph">
<p>GRAM5 can be configured to support multiple LRMs on the same service
machine. In that case, one LRM is typically configured as the default
LRM which is used when a client uses a shortened version of a GRAM5
<a href="../../gram5/user/index.html#gram5-user-resource-names">resource
name</a>. A common configuration is to configure a batch system interface
as the default, and provide the <code>jobmanager-fork</code> service as well for
simple jobs, such as creating directories or staging data.</p>
</div>
</div>
<div class="sect4">
<h5 id="_job_status_method">Job Status Method</h5>
<div class="paragraph">
<p>GRAM5 has two ways of determining job state transitions: polling the LRM
and using the Scheduler Event Generator (SEG) service. When polling,
each user&#8217;s <strong><code>globus-job-manager</code></strong> will periodically execute an
LRM-specific command to determine the state of each job. On systems with
many users, or with users submitting a large number of jobs, this can
cause significant resource use on the GRAM5 service machine. Instead,
the GRAM5 service can be configured (on a per-LRM basis) to use the
<strong><code>globus-scheduler-event-generator</code></strong> service to more efficiently
process LRM state changes. [NOTE]</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Not all LRM adapters provide an interface to the <strong><code>globus-scheduler-event-generator</code></strong>, and some require LRM-specific configuration to work properly. This is described in more detail.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gram5-admin-installing-lrm-packages">Installing LRM Adapter Packages</h3>
<div class="paragraph">
<p>There are several LRM adapters included in the GCT 6.0. For some, there
is a <code>-setup-poll</code> and <code>-setup-seg</code> package which installs the
adapter and configuration file needed for job status via polling or the
<strong><code>globus-scheduler-event-generator</code></strong> program.</p>
</div>
<div class="paragraph">
<p>There are three ways to get LRM adapters: as RPM packages, as Debian
packages, and from the source installer. These installation methods are
described in <a href="../../admin/install/index.html">Installing GCT 6.0</a>.</p>
</div>
<div class="paragraph">
<p>LRM adapter packages included in the GCT 6.0 release are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. GRAM5 LRM Adapters</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">LRM Adapter</th>
<th class="tableblock halign-left valign-top">Poll Package</th>
<th class="tableblock halign-left valign-top">SEG Package</th>
<th class="tableblock halign-left valign-top">Installer Target</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fork</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus-gram-job-manager-fork-setup-poll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus-gram-job-manager-fork-setup-seg <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus_gram_job_manager_fork</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.clusterresources.com/products/torque-resource-manager.php">pbs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus-gram-job-manager-pbs-setup-poll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus-gram-job-manager-pbs-setup-seg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus_gram_job_manager_pbs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.cs.wisc.edu/condor/">Condor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus-gram-job-manager-condor <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus_gram_job_manager_condor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GridEngine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus-gram-job-manager-sge-setup-poll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus-gram-job-manager-sge-setup-seg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus_gram_job_manager_sge</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-admin-managing">Common Administrative Tasks</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There are several tools provided with GCT 6.0 to manage GRAM5, as well as
OS-specific tools to start and stop some of the services. There are
tools to manage user authorization, which services are enabled, which
scheduler event generator modules are enabled, and to test the
<strong><code>globus-gatekeeper</code></strong> service.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_managing_gram5_users">Managing GRAM5 Users</h3>
<div class="paragraph">
<p>Before a user may interact with the GRAM5 service to submit jobs, he or
she must be authorized to use the service. In order to be authorized, a
GRAM5 administrator must add the user&#8217;s credential name and local
account mapping to the <code>/etc/grid-mapfile</code>. This can be done using the
. This can be done using the
<a href="../../gsic/pi/index.html#grid-mapfile-add-entry"><strong><code>grid-mapfile-add-entry</code></strong></a>
and
<a href="../../gsic/pi/index.html#grid-mapfile-delete-entry"><strong><code>grid-mapfile-delete-entry</code></strong></a>
tools. For more
information, see the <a href="../../gsic/index.html">GSI C</a> manual.</p>
</div>
</div>
<div class="sect2">
<h3 id="gram5-admin-starting-and-stopping">Starting and Stopping GRAM5 services</h3>
<div class="paragraph">
<p>In order to run the service, the <strong><code>globus-gatekeeper</code></strong>, and, if
applicable to your configuration, the
<strong><code>globus-scheduler-event-generator</code></strong> services must be running on
your system. The packages for these services include init scripts and
configuration files which can be used to configure, start, and stop the
service.</p>
</div>
<div class="paragraph">
<p>The <strong><code>globus-gatekeeper</code></strong> and
<strong><code>globus-scheduler-event-generator</code></strong> init scripts handle the
following actions: <code>start</code>, <code>stop</code>, <code>status</code>, <code>restart</code>,
<code>condrestart</code>, <code>try-restart</code>, <code>reload</code>, and <code>force-reload</code>. The
<strong><code>globus-scheduler-event-generator</code></strong> script also accepts another
optional parameter to start or stop a particular
<strong><code>globus-scheduler-event-generator</code></strong> module. If the second parameter
is not present, then all services will be acted on.</p>
</div>
<div class="sect3">
<h4 id="_debian_specifics">Debian Specifics</h4>
<div class="paragraph">
<p>If you installed using Debian packaging tools, then the services will
automatically be started upon installation. To start or stop the
service, use the command <strong><code>invoke-rc.d</code></strong> with the service name and
action.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rpm_specifics">RPM Specifics</h4>
<div class="paragraph">
<p>If you installed using the RPM packaging tools, then the services will
be installed but not enabled by default. To enable the services to start
at boot time, use the commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#  chkconfig globus-gatekeeper on
#  chkconfig globus-scheduler-event-generator on</pre>
</div>
</div>
<div class="paragraph">
<p>To start or stop the services, use the <strong><code>service</code></strong> command to run
the init scripts with the service name and action and optional
<strong><code>globus-scheduler-event-generator</code></strong> module.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enabling_and_disabling_gram5_services">Enabling and Disabling GRAM5 Services</h3>
<div class="paragraph">
<p>The GRAM5 packages described in
<a href="#gram5-admin-installing-lrm-packages">Installing LRM Adapter Packages</a> will
automatically register
themselves with the <strong><code>globus-gatekeeper</code></strong> and
<strong><code>globus-scheduler-event-generator</code></strong> services. The first LRM adapter
installed will be configured as the default Job Manager service. To list
the installed services, change the default, or disable a service, use
the <a href="#globus-gatekeeper-admin"><strong><code>globus-gatekeeper-admin</code></strong></a> tool.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Using globus-gatekeeper-admin to set the default service</div>
<div class="content">
<div class="paragraph">
<p>This example shows how to use the <strong><code>globus-gatekeeper-admin</code></strong> tool
to list the available services and then choose one as the default:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#  globus-gatekeeper-admin -l
jobmanager-condor [ENABLED]
jobmanager-fork-poll [ENABLED]
jobmanager-fork [ALIAS to jobmanager-fork-poll]
#  globus-gatekeeper-admin -e jobmanager-condor -n jobmanager
#  globus-gatekeeper-admin -l
jobmanager-condor [ENABLED]
jobmanager-fork-poll [ENABLED]
jobmanager [ALIAS to jobmanager-condor]
jobmanager-fork [ALIAS to jobmanager-fork-poll]</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enabling_and_disabling_seg_modules">Enabling and Disabling SEG Modules</h3>
<div class="paragraph">
<p>The <code>-setup-seg</code> packages described in
<a href="#gram5-admin-installing-lrm-packages">Installing LRM Adapter Packages</a> will
automatically register
themselves with the <strong><code>globus-scheduler-event-generator</code></strong> service. To
disable a module from running when the
<strong><code>globus-scheduler-event-generator</code></strong> service is started, use the
<a href="#globus-scheduler-event-generator-admin"><strong><code>globus-scheduler-event-generator-admin</code></strong></a> tool.
.Using globus-scheduler-event-generator-admin to disable a SEG module</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>This example shows how to stop the <code>pbs</code>
<strong><code>globus-scheduler-event-generator</code></strong> module and disable it so it
will not restart when the system is rebooted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#  /etc/init.d/globus-scheduler-event-generator stop pbs
Stopped globus-scheduler-event-generator                   [  OK  ]
#  globus-scheduler-event-generator-admin -d pbs
#  globus-scheduler-event-generator-admin -l
pbs [DISABLED]</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-configuring">Configuring GRAM5</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>GRAM5 is designed to be usable by default without any manual
configuration. However, there are many ways to customize a GRAM5
installation to better interact with site policies, filesystem layouts,
LRM interactions, logging, and auditing. In addition to GRAM5-specific
configuration, see
<a href="../../gsic/admin/index.html#gsic-configuring">Configuring GSI</a>
for information about configuring GSI security.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gram5-configuring-gatekeeper">Gatekeeper Configuration</h3>
<div class="paragraph">
<p>The <strong><code>globus-gatekeeper</code></strong> has many configuration options related to
network configuration, security, logging, service path, and nice level.
This configuration is located in:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>RPM Package</strong></dt>
<dd>
<p><code>/etc/sysconfig/globus-gatekeeper</code></p>
</dd>
<dt class="hdlist1"><strong>Debian Package</strong></dt>
<dd>
<p><code>/etc/default/globus-gatekeeper</code></p>
</dd>
<dt class="hdlist1"><strong>Source Installer</strong></dt>
<dd>
<p><em>PREFIX</em><code>/etc/globus-gatekeeper.conf</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following configuration variables are available in the
<strong><code>globus-gatekeeper</code></strong> configuration file:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_PORT</strong></dt>
<dd>
<p>Gatekeeper Service Port. If not set, the <strong><code>globus-gatekeeper</code></strong> uses the default of <code>2119</code>.</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_LOCATION</strong></dt>
<dd>
<p>GCT Installation Path. If not set, the <strong><code>globus-gatekeeper</code></strong> uses the paths defined at package compilation time.</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_LOG</strong></dt>
<dd>
<p>Gatekeeper Log Filename. If not set, the <strong><code>globus-gatekeeper</code></strong> logs to syslog using the <code>GRAM-gatekeeper</code> log identification prefix. The default configuration value is <code>/var/log/globus-gatekeeper.log</code></p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_GRID_SERVICES</strong></dt>
<dd>
<p>Path to grid service definitions. If not set, the <strong><code>globus-gatekeeper</code></strong> uses the default of <code>/etc/grid-services</code>..</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_GRIDMAP</strong></dt>
<dd>
<p>Path to grid-mapfile for authorization. If not set, the <strong><code>globus-gatekeeper</code></strong> uses the default of <code>/etc/grid-security/grid-mapfile</code>..</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_CERT_DIR</strong></dt>
<dd>
<p>Path to a trusted certificate root directory. If not set, the <strong><code>globus-gatekeeper</code></strong> uses the default of <code>/etc/grid-security/certificates</code>..</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_CERT_FILE</strong></dt>
<dd>
<p>Path to the gatekeeper&#8217;s certificate. If not set, the <strong><code>globus-gatekeeper</code></strong> uses the default of <code>/etc/grid-security/hostcert.pem</code>..</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_KEY_FILE</strong></dt>
<dd>
<p>Path to the gatekeeper&#8217;s private key. If not set, the <strong><code>globus-gatekeeper</code></strong> uses the default of <code>/etc/grid-security/hostkey.pem</code>..</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_KERBEROS_ENABLED</strong></dt>
<dd>
<p>Flag indicating whether or not the <strong><code>globus-gatekeeper</code></strong> will use a kerberos GSSAPI implementation instead of the GSI GSSAPI implementation (untested).</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_KMAP</strong></dt>
<dd>
<p>Path to the KMAP authentication module. (untested).</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_PIDFILE</strong></dt>
<dd>
<p>Path to a file where the <strong><code>globus-gatekeeper</code></strong>'s process ID is written. If not set, <strong><code>globus-gatekeeper</code></strong> uses <code>/var/run/globus-gatekeeper.pid</code></p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_GATEKEEPER_NICE_LEVEL</strong></dt>
<dd>
<p>Process nice level for <strong><code>globus-gatekeeper</code></strong> and <strong><code>globus-job-manager</code></strong> processes. If not set, the default system process nice level is used.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After modifying the configuration file, restart the
<strong><code>globus-gatekeeper</code></strong> using the methods described in
<a href="../../gram5/admin/index.html#gram5-admin-starting-and-stopping">Starting
and Stopping GRAM5 services</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="gram5-configuring-seg">Scheduler Event Generator Configuration</h3>
<div class="paragraph">
<p>The <strong><code>globus-scheduler-event-generator</code></strong> has several configuration
options related to filesystem paths. This configuration is located in:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>RPM Package</strong></dt>
<dd>
<p><code>/etc/sysconfig/globus-scheduler-event-generator</code></p>
</dd>
<dt class="hdlist1"><strong>Debian Package</strong></dt>
<dd>
<p><code>/etc/default/globus-scheduler-event-generator</code></p>
</dd>
<dt class="hdlist1"><strong>Source Installer</strong></dt>
<dd>
<p><em>PREFIX</em><code>/etc/globus-scheduler-event-generator.conf</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following configuration variables are available in the
<strong><code>globus-scheduler-event-generator</code></strong> configuration file:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>GLOBUS_SEG_PIDFMT</strong></dt>
<dd>
<p>Scheduler Event Generator PID file path format. Modify this to be the location where the <strong><code>globus-scheduler-event-generator</code></strong> writes its process IDs (one per configured LRM). The format is a <code>printf</code> format string with one <code>%s</code> to be replaced by the LRM name. By default, <strong><code>globus-scheduler-event-generator</code></strong> uses <code>/var/run/globus-scheduler-event-generator-%s.pid</code>..</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_SEG_LOGFMT</strong></dt>
<dd>
<p>Scheduler Event Generator Log path format. Modify this to be the location where <strong><code>globus-scheduler-event-generator</code></strong> writes its event logs. The format is a <code>printf</code> format string with one <code>%s</code> to be replaced by the LRM name. By default, <strong><code>globus-scheduler-event-generator</code></strong> uses <code>/var/lib/globus/globus-seg-%s</code>. If you modify this value, you&#8217;ll need to also update the LRM configuration file to look for the log file in the new location.. If you modify this value, you&#8217;ll need to also update the LRM configuration file to look for the log file in the new location.</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_SEG_NICE_LEVEL</strong></dt>
<dd>
<p>Process nice level for <strong><code>globus-scheduler-event-generator</code></strong> processes. If not set, the default system process nice level is used.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After modifying the configuration file, restart the
<strong><code>globus-scheduler-event-generator</code></strong> using the methods described in
<a href="../../gram5/admin/index.html#gram5-admin-starting-and-stopping">Starting
and Stopping GRAM5 services</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="gram5-configuring-jobmanager">Job Manager Configuration</h3>
<div class="paragraph">
<p>The <strong><code>globus-job-manager</code></strong> process is started by the
<strong><code>globus-gatekeeper</code></strong> and uses the configuration defined in the
service entry for the resource name. By default, these service entries
use a common configuration file for most job manager features. This
configuration is located in:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">RPM Package</dt>
<dd>
<p><code>/etc/globus/globus-gram-job-manager.conf</code></p>
</dd>
<dt class="hdlist1">Debian Package</dt>
<dd>
<p><code>/etc/globus/globus-gram-job-manager.conf</code></p>
</dd>
<dt class="hdlist1">Source Installer</dt>
<dd>
<p><em>PREFIX</em><code>/etc/globus-gram-job-manager.conf</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This configuration file is used to construct the command-line options
for the <strong><code>globus-job-manager</code></strong> program. Thus, all of the options
described in <a href="#gram5-cmd-globus-job-manager">globus-job-manager</a> may be
used.</p>
</div>
<div class="sect3">
<h4 id="_job_manager_logging">Job Manager Logging</h4>
<div class="paragraph">
<p>From an administrator&#8217;s perspective, the most important job manager
configuration options are likely the ones related to logging and
auditing. The default GRAM5 configuration puts logs in
<code>/var/log/globus/gram_USERNAME.log</code>, with logging enabled at the ,
with logging enabled at the <code>FATAL</code> and <code>ERROR</code> levels. To enable
more fine-grained logging, add the option <em>-log-levels ' to
<code>/etc/globus/globus-gram-job-manager.conf</code>. The value for . The value
for 'LEVELS</em> is a set of log levels joined by the <code>|</code> character. The
available log levels are:</p>
</div>
<table id="gram5-log-levels" class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. GRAM5 Log Levels</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Level</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Default Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FATAL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Problems which cause the job manager to terminate prematurely.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Problems which cause a job or operation to fail.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WARN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Problems which cause minor problems with job execution or monitoring.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INFO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Major events in the lifetime of the job manager and its jobs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEBUG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor events in the lifetime of jobs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRACE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job processing details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In RPM or Debian package installs, these logs will be configured to be
rotated via <strong><code>logrotate</code></strong>. See
<code>/etc/logrotate.d/globus-job-manager</code> for details on the default log
rotation configuration.  for details on the default log rotation
configuration.</p>
</div>
</div>
<div class="sect3">
<h4 id="_firewall_configuration">Firewall Configuration</h4>
<div class="paragraph">
<p>There are also a few configuration options related to the TCP ports the
the Job Manager users. This port configuration is useful when dealing
with firewalls that restrict incoming or outgoing ports. To restrict
incoming ports (those that the Job Manager listens on), add the
command-line option <em>-globus-tcp-port-range</em> to the Job Manager
configuration file like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-globus-tcp-port-range MIN-PORT,MAX-PORT</pre>
</div>
</div>
<div class="paragraph">
<p>Where <em>MIN-PORT</em> is the minimum TCP port number the Job Manager will
listen on and <em>MAX-PORT</em> is the maximum TCP port number the Job Manager
will listen on.</p>
</div>
<div class="paragraph">
<p>Similarly, to restrict the outgoing port numbers that the job manager
connects form, use the command-line option <em>-globus-tcp-source-range</em>,
like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-globus-tcp-source-range MIN-PORT,MAX-PORT</pre>
</div>
</div>
<div class="paragraph">
<p>Where <em>MIN-PORT</em> is the minimum outgoing TCP port number the Job Manager
will use and <em>MAX-PORT</em> is the maximum TCP outgoing port number the Job
Manager will use.</p>
</div>
<div class="paragraph">
<p>For more information about GCT and firewalls, see
<a href="../../admin/install/index.html#gt-admin-firewall">Firewall configuration</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gram5-configuring-lrm">LRM Adapter Configuration</h3>
<div class="paragraph">
<p>Each LRM adapter has its own configuration file which can help customize
the adapter to the site configuration. Some LRMs use non-standard
programs to launch parallel or MPI jobs, and some might want to provide
queue or project validation to make it easier to translate job failures
into problems that can be described by GRAM5. All of the LRM adapter
configuration files consist of simple <code>variable="value"</code> pairs, with a
leading <code>#</code> starting a comment until end-of-line.</p>
</div>
<div class="paragraph">
<p>Generally, the GRAM5 LRM configuration files are located in the globus
configuration directory, with each configuration file named by the LRM
name (<code>fork</code>, <code>condor</code>, <code>pbs</code>, <code>sge</code>, or <code>slurm</code>). The
following are the paths to these configurations:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">RPM Package</dt>
<dd>
<p><code>/etc/globus/globus-</code><em>LRM</em><code>.conf</code></p>
</dd>
<dt class="hdlist1">Debian Package</dt>
<dd>
<p><code>/etc/globus/globus-</code><em>LRM</em><code>.conf</code>:</p>
</dd>
<dt class="hdlist1">Source Installer</dt>
<dd>
<p><em>PREFIX</em><code>/etc/globus/globus-</code><em>LRM</em><code>.conf</code></p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_fork">Fork</h4>
<div class="paragraph">
<p>The <code>globus-fork.conf</code> configuration file can define the following
configuration parameters:  configuration file can define the following
configuration parameters:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>log_path</strong></dt>
<dd>
<p>Path to the <code>globus-fork.log</code> file used by the  file used by the <strong><code>globus-fork-starter</code></strong> and fork SEG module.</p>
</dd>
<dt class="hdlist1"><strong>mpiexec, mpirun</strong></dt>
<dd>
<p>Path to <strong><code>mpiexec</code></strong> and <strong><code>mpirun</code></strong> for parallel jobs which use MPI. By default, these are not configured. The LRM adapter will use <strong><code>mpiexec</code></strong> over <strong><code>mpirun</code></strong> if both are defined.</p>
</dd>
<dt class="hdlist1"><strong>softenv_dir</strong></dt>
<dd>
<p>Path to an installation of <a href="http://www.mcs.anl.gov/hs/software/systems/softenv/softenv-intro.html">softenv</a>, which is used on some systems to manage application environment variables.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_condor">Condor</h4>
<div class="paragraph">
<p>The <code>globus-condor.conf</code> configuration file can define the following
configuration parameters:  configuration file can define the following
configuration parameters:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>condor_os</strong></dt>
<dd>
<p>Custom value for the <code>OpSys</code> requirement for condor jobs. If not specified, the system-wide default will be used.</p>
</dd>
<dt class="hdlist1"><strong>condor_arch</strong></dt>
<dd>
<p>Custom value for the <code>OpSys</code> requirement for condor jobs. If not specified, the system-wide default will be used.</p>
</dd>
<dt class="hdlist1"><strong>condor_submit, condor_rm</strong></dt>
<dd>
<p>Path to the condor commands that the LRM adapter uses. These are usually determined when the LRM adapter is compiled if the commands are in the <code>PATH</code>.</p>
</dd>
<dt class="hdlist1"><strong>condor_config</strong></dt>
<dd>
<p>Value of the <code>CONDOR_CONFIG</code> environment variable, which might be needed to use condor in some cases.</p>
</dd>
<dt class="hdlist1"><strong>check_vanilla_files</strong></dt>
<dd>
<p>Enable checking if executable, standard input, and directory are valid paths for <code>vanilla</code> universe jobs. This can detect some types of errors before submitting jobs to condor, but only if the filesystems between the condor submit host and condor execution hosts are equivalent. In other cases, this may cause unneccessary job failures.</p>
</dd>
<dt class="hdlist1"><strong>condor_mpi_script</strong></dt>
<dd>
<p>Path to a script to launch MPI jobs on condor</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_pbs">PBS</h4>
<div class="paragraph">
<p>The <code>globus-pbs.conf</code> configuration file can define the following
configuration parameters:  configuration file can define the following
configuration parameters:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>log_path</strong></dt>
<dd>
<p>Path to PBS server_logs directory. The PBS SEG module parses these logs to generate LRM events.</p>
</dd>
<dt class="hdlist1"><strong>pbs_default</strong></dt>
<dd>
<p>Name of the PBS server node, if not the same as the GRAM service node.</p>
</dd>
<dt class="hdlist1"><strong>mpiexec, mpirun</strong></dt>
<dd>
<p>Path to <strong><code>mpiexec</code></strong> and <strong><code>mpirun</code></strong> for parallel jobs which use MPI. By default these are not configured. The LRM adapter will use <strong><code>mpiexec</code></strong> over <strong><code>mpirun</code></strong> if both are defined.</p>
</dd>
<dt class="hdlist1"><strong>qsub, qstat, qdel</strong></dt>
<dd>
<p>Path to the LRM-specific command to submit, check, and delete PBS jobs. These are usually determined when the LRM adapter is compiled if they are in the <code>PATH</code>.</p>
</dd>
<dt class="hdlist1"><strong>cluster</strong></dt>
<dd>
<p>If this value is set to <code>yes</code>, then the LRM adapter will attempt to use a remote shell command to launch multiple instances of the executable on different nodes, as defined by the file named by the <code>PBS_NODEFILE</code> environment variable.</p>
</dd>
<dt class="hdlist1"><strong>remote_shell</strong></dt>
<dd>
<p>Remote shell command to launch processes on different nodes when <code>cluster</code> is set to <code>yes</code>.</p>
</dd>
<dt class="hdlist1"><strong>cpu_per_node</strong></dt>
<dd>
<p>Number of instances of the executable to launch per allocated node.</p>
</dd>
<dt class="hdlist1"><strong>softenv_dir</strong></dt>
<dd>
<p>Path to an installation of <a href="http://www.mcs.anl.gov/hs/software/systems/softenv/softenv-intro.html">softenv</a> which is used on some systems to manage application environment variables.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_sge">SGE</h4>
<div class="paragraph">
<p>The <code>globus-sge.conf</code> configuration file can define the following
configuration parameters:  configuration file can define the following
configuration parameters:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>sge_root</strong></dt>
<dd>
<p>Root location of the GridEngine installation. If this is set to <code>undefined</code>, then the LRM adapter will try to determine it from the <strong><code>globus-job-manager</code></strong> environment, or if not there, the contents of the file named by the <code>sge_config</code> configuration parameter.</p>
</dd>
<dt class="hdlist1"><strong>sge_cell</strong></dt>
<dd>
<p>Name of the GridEngine cell to interact with. If this is set to <code>undefined</code>, then the LRM adapter will try to determine it from the <strong><code>globus-job-manager</code></strong> environment, or if not there, the contents of the file named by the <code>sge_config</code> configuration parameter.</p>
</dd>
<dt class="hdlist1"><strong>sge_config</strong></dt>
<dd>
<p>Path to a file which defines the <code>SGE_ROOT</code> and the <code>SGE_CELL</code> environment variables.</p>
</dd>
<dt class="hdlist1"><strong>log_path</strong></dt>
<dd>
<p>Path to GridEngine reporting file. This value is used by the SGE SEG module. If this is used, GridEngine must be configured to write a reporting file and not load reporting data into an ARCo database.</p>
</dd>
<dt class="hdlist1"><strong>qsub, qstat, qdel, qconf</strong></dt>
<dd>
<p>Path to the LRM-specific command to submit, check, and delete GridEngine jobs. These are usually determined when the LRM adapter is compiled if they are in the <code>PATH</code>.</p>
</dd>
<dt class="hdlist1"><strong>sun_mprun, mpirun</strong></dt>
<dd>
<p>Path to <strong><code>mprun</code></strong> and <strong><code>mpirun</code></strong> for parallel jobs which use MPI. By default these are not configured. The LRM adapter will use <strong><code>mprun</code></strong> over <strong><code>mpirun</code></strong> if both are defined.</p>
</dd>
<dt class="hdlist1"><strong>default_pe</strong></dt>
<dd>
<p>Default parallel environment to submit parallel jobs to. If this is not set, then clients must use the <code>parallel_environment</code> RSL attribute to choose one.</p>
</dd>
<dt class="hdlist1"><strong>validate_pes</strong></dt>
<dd>
<p>If this value is set to <code>yes</code>, then the LRM adapter will verify that the <code>parallel_environment</code> RSL attribute value matches one of the parallel environments supported by this GridEngine service.</p>
</dd>
<dt class="hdlist1"><strong>available_pes</strong></dt>
<dd>
<p>If this value is defined, use it as a list of parallel environments supported by this GridEngine deployment for validation when <code>validate_pes</code> is set to <code>yes</code>. If validation is being done but this value is not set, then the LRM adapter will query the GridEngine service to determine available parallel environments at startup.</p>
</dd>
<dt class="hdlist1"><strong>default_queue</strong></dt>
<dd>
<p>Default queue to use if the job description does not name one.</p>
</dd>
<dt class="hdlist1"><strong>validate_queues</strong></dt>
<dd>
<p>If this value is set to <code>yes</code>, then the LRM adapter will verify that the <code>queue</code> RSL attribute value matches one of the queues supported by this GridEngine service.</p>
</dd>
<dt class="hdlist1"><strong>available_queues</strong></dt>
<dd>
<p>If this value is defined, use it as a list of queues supported by this GridEngine deployment for validation when <code>validate_queues</code> is set to <code>yes</code>. If validation is being done but this value is not set, then the LRM adapter will query the GridEngine service to determine available queues at startup.</p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_enabling_reporting_for_the_gridengine_scheduler_event_generator">Enabling reporting for the GridEngine Scheduler Event Generator</h5>
<div class="paragraph">
<p>In order to use the Scheduler Event Generator with GridEngine, the job
reporting feature must be enabled, and ARCo database storage must not be
enabled. To enable this, use the command <strong><code>qconf -mconf</code></strong> and modify
the <code>reporting_params</code> parameter so that the options <code>reporting</code> and
<code>joblog</code> are set to <code>true</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_slurm">SLURM</h4>
<div class="paragraph">
<p>The <code>globus-slurm.conf</code> configuration file can define the following
configuration parameters:  configuration file can define the following
configuration parameters:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>srun, sbatch, salloc, scancel</strong></dt>
<dd>
<p>Path to the SLURM commands.</p>
</dd>
<dt class="hdlist1"><strong>mpi_type</strong></dt>
<dd>
<p>MPI implementation to use (either openmpi or mpich2).</p>
</dd>
<dt class="hdlist1"><strong>openmpi_path</strong></dt>
<dd>
<p>Path to the OpenMPI implementation if available</p>
</dd>
<dt class="hdlist1"><strong>mpich2_path</strong></dt>
<dd>
<p>Path to the MPICH 2 implementation if available</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_auditing">Auditing</h3>
<div class="paragraph">
<p>The <strong><code>globus-gram-audit</code></strong> configuration defines information about
the database to load the GRAM5 audit records into. This configuration is
located in:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">RPM Package</dt>
<dd>
<p><code>/etc/globus/gram-audit.conf</code></p>
</dd>
<dt class="hdlist1">Debian Package</dt>
<dd>
<p><code>/etc/globus/gram-audit.conf</code></p>
</dd>
<dt class="hdlist1">Source Installer</dt>
<dd>
<p><em>PREFIX</em><code>/etc/globus/gram-audit.conf</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This configuration file contains the following attributes. Each
attribute is defined by a <code>ATTRIBUTE:VALUE</code> pair.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Audit Configuration Attributes</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute Name</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DRIVER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the Perl 5 DBI driver for the database to be used. The supported
  drivers for this program are &lt;literal&gt;SQLite&lt;/literal&gt;, &lt;literal&gt;Pg&lt;/literal&gt;
  (for PostgreSQL), and &lt;literal&gt;mysql&lt;/literal&gt;. &lt;/simpara&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SQLite</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATABASE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The DBI data source specfication to contact the audit database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dbname=/var/gram_audit_database/gram_audit.db</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">USERNAME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to authenticate as to the database</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PASSWORD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password to use to authenticate with the database</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUDITVERSION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the audit database table schemas to use. May be <code>1</code> or <code>1TG</code>
for this version of the software.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_rsl_attributes">RSL Attributes</h3>
<div class="paragraph">
<p>GRAM5 uses the <a href="../../gram5/pi/index.html#gram5-rsl">RSL language</a> to
encode job descriptions. The attributes supported by gram are defined in
<a href="../../gram5/pi/index.html#gram5-rvf">RSL Validation Files</a>. These
definitions contain information about when the different RSL attributes
are valid and what their default values might be if not present. GRAM5
will look in <code>/etc/globus/gram/job-manager.rvf</code> and  and
<code>/etc/globus/gram/LRM.rvf</code> for site-specfic changes to the RSL
validation file.  for site-specfic changes to the RSL validation file.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-audit-logging">Audit Logging</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="gram5-audit-logging-overview">Overview</h3>
<div class="paragraph">
<p>GRAM5 includes mechanisms to provide access to audit and accounting
information associated with jobs that GRAM5 submits to a local resource
manager (LRM) such as Torque, GridEngine, or Condor.</p>
</div>
<div class="paragraph">
<p>In some scenarios, it is desirable to get general information about the
usage of the underlying LRM, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>What kinds of jobs were submitted via GRAM?</p>
</li>
<li>
<p>How long did the processing of a job take?</p>
</li>
<li>
<p>How many jobs were submitted by user X?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following three use cases give a better overview of the meaning and
purpose of auditing and accounting:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Group Access</strong>: A grid resource provider allows a remote service
(e.g., a gateway or portal) to submit jobs on behalf of multiple users.
The grid resource provider only obtains information about the identity
of the remote submitting service and thus does not know the identity of
the users for which the grid jobs are submitted. This group access is
allowed under the condition that the remote service stores audit
information so that, if and when needed, the grid resource provider can
request and obtain information to track a specific job back to an
individual user.</p>
</li>
<li>
<p><strong>Query Job Accounting</strong>: A client that submits a job needs to be able
to obtain, after the job has completed, information about the resources
consumed by that job. In portal and gateway environments where many
users submit many jobs against a single allocation, this per-job
accounting information is needed soon after the job completes so that
client-side accounting can be updated. Accounting information is
sensitive and thus should only be released to authorized parties.</p>
</li>
<li>
<p><strong>Auditing</strong>: In a distributed, multi-site environment, it can be
necessary to investigate various forms of suspected intrusion and abuse.
In such cases, we may need to access an audit trail of the actions
performed by a service. When accessing this audit trail, it will
frequently be important to be able to relate specific actions to the
user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Audit logging in GRAM5 is done when a job completes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_audit_and_accounting_records">Audit and Accounting Records</h3>
<div class="paragraph">
<p>While audit and accounting records may be generated and stored by
different entities in different contexts, we make the following
assumptions in this chapter:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Audit Records</th>
<th class="tableblock halign-left valign-top">Accounting Records</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generated by:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRAM service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LRM to which the GRAM service submits jobs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stored in:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database, indexed by GJID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LRM, indexed by JID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data that is stored:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See list below.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">May include all information about the duration and resource-usage of a job</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The audit record of each job contains the following data:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>job_grid_id</strong>: String representation of the resource EPR</p>
</li>
<li>
<p><strong>local_job_id</strong>: Job/process id generated by the scheduler</p>
</li>
<li>
<p><strong>subject_name</strong>: Distinguished name (DN) of the user</p>
</li>
<li>
<p><strong>username</strong>: Local username</p>
</li>
<li>
<p><strong>idempotence_id</strong>: Job id generated on the client-side</p>
</li>
<li>
<p><strong>creation_time</strong>: Date when the job resource is created</p>
</li>
<li>
<p><strong>queued_time</strong>: Date when the job is submitted to the scheduler</p>
</li>
<li>
<p><strong>stage_in_grid_id</strong>: String representation of the stageIn-EPR (RFT)</p>
</li>
<li>
<p><strong>stage_out_grid_id</strong>: String representation of the stageOut-EPR (RFT)</p>
</li>
<li>
<p><strong>clean_up_grid_id</strong>: String representation of the cleanUp-EPR (RFT)</p>
</li>
<li>
<p><strong>globus_toolkit_version</strong>: Version of the server-side GCT</p>
</li>
<li>
<p><strong>resource_manager_type</strong>: Type of the resource manager (Fork, Condor,
&#8230;&#8203;)</p>
</li>
<li>
<p><strong>job_description</strong>: Complete job description document</p>
</li>
<li>
<p><strong>success_flag</strong>: Flag that shows whether the job failed or finished
successfully</p>
</li>
<li>
<p><strong>finished_flag</strong>: Flag that shows whether the job is already fully
processed or still in progress</p>
</li>
<li>
<p><strong>gateway_user</strong>: Teragrid identity of the user which submitted the job.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_for_more_information">For More Information</h3>
<div class="paragraph">
<p>The rest of this chapter focuses on how to configure GRAM5 to enable
Audit-Logging.</p>
</div>
</div>
<div class="sect2">
<h3 id="gram5-audit-logging-config">Configuration</h3>
<div class="paragraph">
<p>Audit logging is turned off by default. To enable GRAM5 audit logging,
in the job manager, add the command-line option '-audit-directory ' to
the job manager configuration in one of the following locations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>$GLOBUS_LOCATION/etc/globus-job-manager.conf</code> to enable it for all job manager services to enable it for all job manager services</p>
</li>
<li>
<p><code>$GLOBUS_LOCATION/etc/grid-services/LRM_SERVICE_NAME</code> to enable it for a particular job manager service for a particular LRM. to enable it for a particular job manager service for a particular LRM.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="gram5-audit-logging-config-database">Audit Database Interface</h3>
<div class="paragraph">
<p>The <strong><code>globus-gram-audit</code></strong> program reads GRAM5 audit records and
loads those records into a SQL database. This program is available as
part of the <strong><code>globus_gram_job_manager_auditing</code></strong> package. It must be
configured by installing and running the
<strong><code>globus_gram_job_manager_auditing_setup_scripts</code></strong> setup package via
<strong><code>gpt-postinstall</code></strong>. This setup script creates the
<code>$GLOBUS_LOCATION/etc/globus-job-manager-audit.conf</code> configuration
file described below and creates database tables needed by the audit
system.  configuration file described below and creates database tables
needed by the audit system.</p>
</div>
<div class="paragraph">
<p>The <strong><code>globus-gram-audit</code></strong> program support three database systems:
MySQL, PostgreSQL, and SQLite.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-admin-security_considerations">Security Considerations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="gram5-security-considerations">Security Considerations</h3>
<div class="sect3">
<h4 id="_gatekeeper_security_considerations">Gatekeeper Security Considerations</h4>
<div class="paragraph">
<p>GRAM5 runs different parts of itself under different privilege levels.
The <strong><code>globus-gatekeeper</code></strong> runs as root, and uses its root privilege
to access the host&#8217;s private key. It uses the grid map file to map Grid
Certificates to local user ids and then uses the <strong><code>setuid()</code></strong>
function to change to that user and execute the
<strong><code>globus-job-manager</code></strong> program</p>
</div>
</div>
<div class="sect3">
<h4 id="_job_manager_security_considerations">Job Manager Security Considerations</h4>
<div class="paragraph">
<p>The <strong><code>globus-job-manager</code></strong> program runs as a local non-root account.
It receives a delegated limited proxy certificate from the GRAM5 client
which it uses to access Grid storage resources via GridFTP and to
authenticate job signals (such as client cancel requests), and send job
state callbacks to registered clients. This proxy is generally
short-lived, and is automatically removed by the job manager when the
job completes.</p>
</div>
<div class="paragraph">
<p>The <strong><code>globus-job-manager</code></strong> program uses a publicly-writable
directory for job state files. This directory has the <strong>sticky</strong> bit
set, so users may not remove other users files. Each file is named by a
UUID, so it should be unique.</p>
</div>
</div>
<div class="sect3">
<h4 id="_fork_seg_module_security_considerations">Fork SEG Module Security Considerations</h4>
<div class="paragraph">
<p>The Fork Scheduler Event Generator module uses a globally writable file
for job state change events. This is not recommended for production use.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-admin-troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="gram5-troubleshooting-admin">Admin Troubleshooting</h3>
<div class="sect3">
<h4 id="_security">Security</h4>
<div class="paragraph">
<p>GRAM requires a host certificate and private key in order for the
<strong><code>globus-gatekeeeper</code></strong> service to run. These are typically located
in <code>/etc/grid-security/hostcert.pem</code> and  and
<code>/etc/grid-security/hostkey.pem</code>, but the path is configurable in the
, but the path is configurable in the
<a href="../../gram5/admin/index.html#gram5-configuring-gatekeeper">gatekeeper
configuration file</a>. The key must be protected by file permissions
allowing only the root user to read it.</p>
</div>
<div class="paragraph">
<p>GRAM also (by default) uses a <code>grid-mapfile</code> to authorize Grid users
as local users. This file is typically located in  to authorize Grid
users as local users. This file is typically located in
<code>/etc/grid-security/grid-mapfile</code>, but is configurable in the , but is
configurable in the
<a href="../../gram5/admin/index.html#gram5-configuring-gatekeeper">gatekeeper
configuration file</a>.</p>
</div>
<div class="paragraph">
<p>Problems in either of these configurations will show up in the
gatekeeper log described below. See the <a href="../../gsic/index.html">GSI</a>
documentation for
more detailed information about obtaining and installing host
certificates and maintaining a <code>grid-mapfile</code>. .</p>
</div>
</div>
<div class="sect3">
<h4 id="_verify_that_services_are_running">Verify that Services are Running</h4>
<div class="paragraph">
<p>GRAM relies on the <strong><code>globus-gatekeeper</code></strong> program and (in some cases)
the <strong><code>globus-scheduler-event-generator</code></strong> programs to process jobs.
If the former is not running, jobs requests will fail with a "connection
refused" error. If the latter is not running, GRAM jobs will appear to
"hang" in the <code>PENDING</code> state.</p>
</div>
<div class="paragraph">
<p>The <strong><code>globus-gatekeeper</code></strong> is typically started via an init script
installed in <code>/etc/init.d/globus-gatekeeper</code>. The command . The
command <strong><code>/etc/init.d/globus-gatekeeper status</code></strong> will indicate
whether the service is running. See
<a href="../../gram5/admin/index.html#gram5-admin-starting-and-stopping">Starting
and Stopping GRAM5 services</a> for
more information about starting and stopping the
<strong><code>globus-gatekeeper</code></strong> program.</p>
</div>
<div class="paragraph">
<p>If the <strong><code>globus-gatekeeper</code></strong> service fails to start, the output of
the command <strong><code>globus-gatekeeper -test</code></strong> will output information
describing some types of configuration problems.</p>
</div>
<div class="paragraph">
<p>The <strong><code>globus-scheduler-event-generator</code></strong> is typically started via an
init script installed in
<code>/etc/init.d/globus-scheduler-event-generator</code>. It is only needed when
the LRM-specific "setup-seg" package is installed. The command . It is
only needed when the LRM-specific "setup-seg" package is installed. The
command <strong><code>/etc/init.d/globus-scheduler-event-generator status</code></strong> will
indicate whether the service is running. See
<a href="../../gram5/admin/index.html#gram5-admin-starting-and-stopping">Starting
and Stopping GRAM5 services</a> for
more information about starting and stopping the
<strong><code>globus-scheduler-event-generator</code></strong> program.</p>
</div>
</div>
<div class="sect3">
<h4 id="_verify_that_lrm_packages_are_installed">Verify that LRM packages are installed</h4>
<div class="paragraph">
<p>The <strong><code>globus-gatekeeper</code></strong> program starts the
<strong><code>globus-job-manager</code></strong> service with different command-line
parameters depending on the LRM being used. Use the command
<strong><code>globus-gatekeeper-admin -l</code></strong> to list which LRMs the gatekeeper is
configured to use.</p>
</div>
<div class="paragraph">
<p>The <strong><code>globus-job-manager-script.pl</code></strong> is the interface between the
GRAM job manager process and the LRM adapter. The command
<strong><code>/usr/share/globus/globus-job-manager-script.pl -h</code></strong> will print the
list of available adapters.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>%  /usr/share/globus/globus-job-manager-script.pl -h
USAGE: /usr/share/globus/globus-job-manager-script.pl -m MANAGER -f FILE -c COMMAND
Installed managers: condor fork</pre>
</div>
</div>
<div class="paragraph">
<p>The <strong><code>globus-scheduler-event-generator</code></strong> also uses an LRM-specific
module to generate scheduler events for GRAM to reduce the amount of
resources GRAM uses on the machine where it runs. To determine which
LRMs are installed and configured, use the command
<strong><code>globus-scheduler-event-generator-admin -l</code></strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>%  globus-scheduler-event-generator-admin -l
fork [DISABLED]</pre>
</div>
</div>
<div class="paragraph">
<p>If any of these do not show the LRM you are trying to use, install the
relevant packages related to that LRM and restart the GRAM services. See
the <a href="../../gram5/admin/index.html">GRAM Administrator&#8217;s Guide</a> for
more information about starting and stopping the GRAM services.</p>
</div>
</div>
<div class="sect3">
<h4 id="_verify_that_the_lrm_packages_are_configured">Verify that the LRM packages are configured</h4>
<div class="paragraph">
<p>All GRAM5 LRM adapters have a configuration file for site
customizations, such as queue names, paths to executables needed to
interface with the LRM, etc. Check that the values in these files are
correct. These files are described in
<a href="../../gram5/admin/index.html#gram5-configuring-lrm">LRM Adapter
Configuration</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="gram5-troubleshooting-gatekeeper-log">Check the Gatekeeper Log</h4>
<div class="paragraph">
<p>The <code>/var/log/globus-gatekeeper.log</code> file contains information about
service requests from clients, and will be useful when diagnosing
service startup failures, authentication failures, and authorization
failures.  file contains information about service requests from
clients, and will be useful when diagnosing service startup failures,
authentication failures, and authorization failures.</p>
</div>
<div class="sect4">
<h5 id="_authorization_failures">Authorization failures</h5>
<div class="paragraph">
<p>GRAM uses GSI to authenticate client job requests. If there is a problem
with the GSI configuration for your host, or a client is trying to
connect with a certificate signed by a CA your host does not trust, the
job request will fail. This will show up in the log as a "GSS
authentication failure". See the <a href="../../gsic/admin/index.html">GSI
Administrator&#8217;s Guide</a> for information about diagnosing authentication
failures.</p>
</div>
</div>
<div class="sect4">
<h5 id="_gridmap_failures">Gridmap failures</h5>
<div class="paragraph">
<p>After authentication is complete, GRAM maps the Grid identity to a local
user prior to starting the <strong><code>globus-job-manager</code></strong> process. If this
fails, an error will show up in the log as "globus_gss_assist_gridmap()
failed authorization". See the <a href="../../gsic/admin/index.html">GSI
Administrator&#8217;s Guide</a> for information about managing gridmap files.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gram5-troubleshooting-jobmanager-log">Job Manager Logs</h4>
<div class="paragraph">
<p>A per-user job manager log is typically located in
<code>/var/log/globus/gram_$USERNAME.log</code>. This log contains information
from the job manager as it attempts to execute GRAM jobs via a local
resource manager. The logs can be fairly verbose. Sometimes looking for
log entries near those containing the string . This log contains
information from the job manager as it attempts to execute GRAM jobs via
a local resource manager. The logs can be fairly verbose. Sometimes
looking for log entries near those containing the string <code>level=ERROR</code>
will show more information about what caused a particular failure.</p>
</div>
<div class="paragraph">
<p>Once you&#8217;ve found an error in the log, it is generally useful to find
log entries related to the job which hit that error. There are two job
IDs associated with each job, one a GRAM-specific ID, and one an
LRM-specific ID. To determine the GRAM ID associated with a job, look
for the attribute <code>gramid</code> in the log message. Finding that, looking
for all other log messages which contain that <code>gramid</code> value will give
a better picture of what the job manager is doing. To determine the
LRM-specific ID, look for a message at <code>TRACE</code> level with the matching
GRAM ID found above with the <code>response</code> value matching
<code>GRAM_SCRIPT_JOB_ID:</code><em>LRM-ID</em>. You can then find follow the state of
the <em>LRM-ID</em> as well as the GRAM ID in the log, and correlate the
<em>LRM-ID</em> information with local resource manager logs and administrative
tools.</p>
</div>
</div>
<div class="sect3">
<h4 id="_email_support">Email Support</h4>
<div class="paragraph">
<p>If all else fails, please send information about your problem to
<a href="mailto:gram-user@globus.org">gram-user@globus.org</a>. You&#8217;ll have to subscribe to a list before you can
send an e-mail to it. See
<a href="http://dev.globus.org/wiki/Mailing%5fLists">here</a> for general e-mail
lists and information on how to subscribe to a list and
<a href="http://dev.globus.org/wiki/GRAM#Mailing%5fLists">here</a> for GRAM-specific
lists. Depending on the problem, you may be requested to file a bug
report to the Globus project&#8217;s <a href="http://jira.globus.org">Issue
Tracker</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-admin-programs">Admin Tools</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="gram5-globus-gatekeeper">GLOBUS-GATEKEEPER(8)</h3>
<div class="sect3">
<h4 id="_name">NAME</h4>
<div class="paragraph">
<p>globus-gatekeeper - Authorize and execute a grid service on behalf of a user</p>
</div>
</div>
<div class="sect3">
<h4 id="_synopsis">SYNOPSIS</h4>
<div class="paragraph">
<p><strong><code>globus-gatekeeper</code></strong> [<code>-help</code> ] <br>
<br>
 [<code>-conf</code> <em>PARAMETER_FILE</em>] <br>
<br>
 [<code>-test</code> ] <code>-d</code>  | <code>-debug</code>  <br>
<br>
 <code>-inetd</code>  | <code>-f</code>  <br>
<br>
 <code>-p</code> <em>PORT</em> | <code>-port</code> <em>PORT</em> <br>
<br>
 [<code>-home</code> <em>PATH</em>] <code>-l</code> <em>LOGFILE</em> | <code>-logfile</code> <em>LOGFILE</em> [<code>-lf</code> <em>LOG_FACILITY</em>] <br>
<br>
 [<code>-acctfile</code> <em>ACCTFILE</em>] <br>
<br>
 [<code>-e</code> <em>LIBEXECDIR</em>] <br>
<br>
 [<code>-launch_method</code> <code>fork_and_exit</code>  | <code>fork_and_wait</code>  | <code>dont_fork</code> ] <br>
<br>
 [<code>-grid_services</code> <em>SERVICEDIR</em>] <br>
<br>
 [<code>-globusid</code> <em>GLOBUSID</em>] <br>
<br>
 [<code>-gridmap</code> <em>GRIDMAP</em>] <br>
<br>
 [<code>-x509_cert_dir</code> <em>TRUSTED_CERT_DIR</em>] <br>
<br>
 [<code>-x509_cert_file</code> <em>TRUSTED_CERT_FILE</em>] <br>
<br>
 [<code>-x509_user_cert</code> <em>CERT_PATH</em>] <br>
<br>
 [<code>-x509_user_key</code> <em>KEY_PATH</em>] <br>
<br>
 [<code>-x509_user_proxy</code> <em>PROXY_PATH</em>] <br>
<br>
 [<code>-k</code> ] <br>
<br>
 [<code>-globuskmap</code> <em>KMAP</em>] <br>
<br>
 [<code>-pidfile</code> <em>PIDFILE</em>]</p>
</div>
</div>
<div class="sect3">
<h4 id="_description">Description</h4>
<div class="paragraph">
<p>The <strong><code>globus-gatekeeper</code></strong> program is a meta-server similar to
<strong><code>inetd</code></strong> or <strong><code>xinetd</code></strong> that starts other services after
authenticating a TCP connection using GSSAPI and mapping the client&#8217;s
credential to a local account.</p>
</div>
<div class="paragraph">
<p>The most common use for the <strong><code>globus-gatekeeper</code></strong> program is to
start instances of the <code>globus-job-manager(8)</code> service. A single
<strong><code>globus-gatekeeper</code></strong> deployment can handle multiple different
service configurations by having entries in the <code>/etc/grid-services</code>
directory.  directory.</p>
</div>
<div class="paragraph">
<p>Typically, users interact with the <strong><code>globus-gatekeeper</code></strong> program via
client applications such as <code>globusrun(1)</code>, <strong><code>globus-job-submit</code></strong>,
or tools such as CoG jglobus or Condor-G.</p>
</div>
<div class="paragraph">
<p>The full set of command-line options to <strong><code>globus-gatekeeper</code></strong>
consists of:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-help</strong></dt>
<dd>
<p>Display a help message to standard error and exit</p>
</dd>
<dt class="hdlist1"><strong>-conf <em>PARAMETER_FILE</em></strong></dt>
<dd>
<p>Load configuration parameters from <em>PARAMETER_FILE</em>. The parameters in that file are treated as additional command-line options.</p>
</dd>
<dt class="hdlist1"><strong>-test</strong></dt>
<dd>
<p>Parse the configuration file and print out the POSIX user id of the <strong><code>globus-gatekeeper</code></strong> process, service home directory, service execution directory, and X.509 subject name and then exits.</p>
</dd>
<dt class="hdlist1"><strong>-d, -debug</strong></dt>
<dd>
<p>Run the <strong><code>globus-gatekeeper</code></strong> process in the foreground.</p>
</dd>
<dt class="hdlist1"><strong>-inetd</strong></dt>
<dd>
<p>Flag to indicate that the <strong><code>globus-gatekeeper</code></strong> process was started via <strong><code>inetd</code></strong> or a similar super-server. If this flag is set and the <strong><code>globus-gatekeeper</code></strong> was not started via inetd, a warning will be printed in the gatekeeper log.</p>
</dd>
<dt class="hdlist1"><strong>-f</strong></dt>
<dd>
<p>Flag to indicate that the <strong><code>globus-gatekeeper</code></strong> process should run in the foreground. This flag has no effect when the <strong><code>globus-gatekeeper</code></strong> is started via inetd.</p>
</dd>
<dt class="hdlist1"><strong>-p <em>PORT</em>, -port <em>PORT</em></strong></dt>
<dd>
<p>Listen for connections on the TCP/IP port <em>PORT</em>. This option has no effect if the <strong><code>globus-gatekeeper</code></strong> is started via inetd or a similar service. If not specified and the gatekeeper is running as root, the default of <code>2119</code> is used. Otherwise, the gatekeeper defaults to an ephemeral port.</p>
</dd>
<dt class="hdlist1"><strong>-home <em>PATH</em></strong></dt>
<dd>
<p>Sets the gatekeeper deployment directory to <em>PATH</em>. This is used to interpret relative paths for accounting files, libexecdir, certificate paths, and also to set the <code>GLOBUS_LOCATION</code> environment variable in the service environment. If not specified, the gatekeeper looks for service executables in <code>/usr/sbin</code>, configuration in , configuration in <code>/etc</code>, and writes logs and accounting files to , and writes logs and accounting files to <code>/var/log</code>..</p>
</dd>
<dt class="hdlist1"><strong>-l <em>LOGFILE</em>, -logfile <em>LOGFILE</em></strong></dt>
<dd>
<p>Write log entries to <em>LOGFILE</em>. If <em>LOGFILE</em> is equal to <code>logoff</code> or <code>LOGOFF</code>, then logging will be disabled, both to file and to syslog.</p>
</dd>
<dt class="hdlist1"><strong>-lf <em>LOG_FACILITY</em></strong></dt>
<dd>
<p>Open syslog using the <em>LOG_FACILITY</em>. If not specified, <code>LOG_DAEMON</code> will be used as the default when using syslog.</p>
</dd>
<dt class="hdlist1"><strong>-acctfile <em>ACCTFILE</em></strong></dt>
<dd>
<p>Set the path to write accounting records to <em>ACCTFILE</em>. If not set, records will be written to the log file.</p>
</dd>
<dt class="hdlist1"><strong>-e <em>LIBEXECDIR</em></strong></dt>
<dd>
<p>Look for service executables in <em>LIBEXECDIR</em>. If not specified, the <code>sbin</code> subdirectory of the parameter to  subdirectory of the parameter to <em>-home</em> is used, or <code>/usr/sbin</code> if that is not set. if that is not set.</p>
</dd>
<dt class="hdlist1"><strong>-launch_method <code>fork_and_exit</code>|<code>fork_and_wait</code>|<code>dont_fork</code></strong></dt>
<dd>
<p>Determine how to launch services. The method may be either <code>fork_and_exit</code> (the service runs completely independently of the gatekeeper, which exits after creating the new service process), <code>fork_and_wait</code> (the service is run in a separate process from the gatekeeper but the gatekeeper does not exit until the service terminates), or <code>dont_fork</code>, where the gatekeeper process becomes the service process via the <strong><code>exec()</code></strong> system call.</p>
</dd>
<dt class="hdlist1"><strong>-grid_services <em>SERVICEDIR</em></strong></dt>
<dd>
<p>Look for service descriptions in <em>SERVICEDIR</em>.</p>
</dd>
<dt class="hdlist1"><strong>-globusid <em>GLOBUSID</em></strong></dt>
<dd>
<p>Sets the <code>GLOBUSID</code> environment variable to <em>GLOBUSID</em>. This variable is used to construct the gatekeeper contact string if it can not be parsed from the service credential.</p>
</dd>
<dt class="hdlist1"><strong>-gridmap <em>GRIDMAP</em></strong></dt>
<dd>
<p>Use the file at <em>GRIDMAP</em> to map GSSAPI names to POSIX user names.</p>
</dd>
<dt class="hdlist1"><strong>-x509_cert_dir <em>TRUSTED_CERT_DIR</em></strong></dt>
<dd>
<p>Use the directory <em>TRUSTED_CERT_DIR</em> to locate trusted CA X.509 certificates. The gatekeeper sets the environment variable <code>X509_CERT_DIR</code> to this value.</p>
</dd>
<dt class="hdlist1"><strong>-x509_user_cert <em>CERT_PATH</em></strong></dt>
<dd>
<p>Read the service X.509 certificate from <em>CERT_PATH</em>. The gatekeeper sets the <code>X509_USER_CERT</code> environment variable to this value.</p>
</dd>
<dt class="hdlist1"><strong>-x509_user_key <em>KEY_PATH</em></strong></dt>
<dd>
<p>Read the private key for the service from <em>KEY_PATH</em>. The gatekeeper sets the <code>X509_USER_KEY</code> environment variable to this value.</p>
</dd>
<dt class="hdlist1"><strong>-x509_user_proxy <em>PROXY_PATH</em></strong></dt>
<dd>
<p>Read the X.509 proxy certificate from <em>PROXY_PATH</em>. The gatekeeper sets the <code>X509_USER_PROXY</code> environment variable to this value.</p>
</dd>
<dt class="hdlist1"><strong>-k</strong></dt>
<dd>
<p>Use the <strong><code>globus-k5</code></strong> command to acquire Kerberos 5 credentials before starting the service.</p>
</dd>
<dt class="hdlist1"><strong>-globuskmap <em>KMAP</em></strong></dt>
<dd>
<p>Use <em>KMAP</em> as the path to the Grid credential to kerberos initialization mapping file.</p>
</dd>
<dt class="hdlist1"><strong>-pidfile <em>PIDFILE</em></strong></dt>
<dd>
<p>Write the process id of the <strong><code>globus-gatekeeper</code></strong> to the file named by <em>PIDFILE</em>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_environment">ENVIRONMENT</h4>
<div class="paragraph">
<p>If the following variables affect the execution of
<strong><code>globus-gatekeeper</code></strong>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>X509_CERT_DIR</strong></dt>
<dd>
<p>Directory containing X.509 trust anchors and signing policy files.</p>
</dd>
<dt class="hdlist1"><strong>X509_USER_PROXY</strong></dt>
<dd>
<p>Path to file containing an X.509 proxy.</p>
</dd>
<dt class="hdlist1"><strong>X509_USER_CERT</strong></dt>
<dd>
<p>Path to file containing an X.509 user certificate.</p>
</dd>
<dt class="hdlist1"><strong>X509_USER_KEY</strong></dt>
<dd>
<p>Path to file containing an X.509 user key.</p>
</dd>
<dt class="hdlist1"><strong>GLOBUS_LOCATION</strong></dt>
<dd>
<p>Default path to gatekeeper service files.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_files">Files</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>/etc/grid-services/SERVICENAME</code></strong></dt>
<dd>
<p>Service configuration for <em>SERVICENAME</em>.</p>
</dd>
<dt class="hdlist1"><strong><code>/etc/grid-security/grid-mapfile</code></strong></dt>
<dd>
<p>Default file mapping Grid identities to POSIX identities.</p>
</dd>
<dt class="hdlist1"><strong><code>/etc/globuskmap</code></strong></dt>
<dd>
<p>Default file mapping Grid identities to Kerberos 5 principals.</p>
</dd>
<dt class="hdlist1"><strong><code>/etc/globus-nologin</code></strong></dt>
<dd>
<p>File to disable the <strong><code>globus-gatekeeper</code></strong> program.</p>
</dd>
<dt class="hdlist1"><strong><code>/var/log/globus-gatekeeper.log</code></strong></dt>
<dd>
<p>Default gatekeeper log.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_see_also">See also</h4>
<div class="paragraph">
<p><code>globus-k5(8)</code>, <code>globusrun(1)</code>, <code>globus-job-manager(8)</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="globus-gatekeeper-admin">GLOBUS-GATEKEEPER-ADMIN(8)</h3>
<div class="sect3">
<h4 id="_name_2">NAME</h4>
<div class="paragraph">
<p>globus-gatekeeper-admin - Manage globus-gatekeeper services</p>
</div>
</div>
<div class="sect3">
<h4 id="_synopsis_2">SYNOPSIS</h4>
<div class="paragraph">
<p><strong><code>globus-gatekeeper-admin</code></strong> [<code>-h</code> ]</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_2">Description</h4>
<div class="paragraph">
<p>The <strong><code>globus-gatekeeper-admin</code></strong> program manages service entries
which are used by the <strong><code>globus-gatekeeper</code></strong> to execute services.
Service entries are located in the <code>/etc/grid-services</code> directory. The
directory. The <strong><code>globus-gatekeeper-admin</code></strong> can list, enable, or
disable specific services, or set a service as the default. The <em>-h</em>
command-line option shows a brief usage message.</p>
</div>
<div class="sect4">
<h5 id="_listing_services">Listing services</h5>
<div class="paragraph">
<p>The <em>-l</em> command-line option to <strong><code>globus-gatekeeper-admin</code></strong> will
cause it to list all of the services which are available to be run by
the <strong><code>globus-gatekeeper</code></strong>. In the output, the service name will be
followed by its status in brackets. Possible status strings are
<code>ENABLED</code>, <code>DISABLED</code>, and <code>ALIAS to </code>, where <em>NAME</em> is another
service name.</p>
</div>
<div class="paragraph">
<p>If the <em>-n ' is used, then only information about the service named
'NAME</em> is printed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enabling_services">Enabling services</h5>
<div class="paragraph">
<p>The '-e ' command-line option to <strong><code>globus-gatekeeper-admin</code></strong> will
cause it to enable a service so that it may be run by the
<strong><code>globus-gatekeeper</code></strong>.</p>
</div>
<div class="paragraph">
<p>If the <em>-n ' option is used as well, then the service will be enabled
with the alias 'NAME</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enabling_a_default_service">Enabling a default service</h5>
<div class="paragraph">
<p>The <em>-E</em> command-line option to <strong><code>globus-gatekeeper-admin</code></strong> will
cause it to enable a service alias with the name <code>jobmanager</code>. The
<strong><code>globus-gatekeeper-admin</code></strong> program will choose the first service it
finds as the default. To enable a particular service as the default, use
the <em>-e</em> parameter described above with the <em>-n</em> parameter.</p>
</div>
</div>
<div class="sect4">
<h5 id="_disabling_services">Disabling services</h5>
<div class="paragraph">
<p>The '-d ' command-line option to <strong><code>globus-gatekeeper-admin</code></strong> will
cause it to disable a service so that it may not be run by the
<strong><code>globus-gatekeeper</code></strong>. All aliases to a disabled service are also
disabled.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_files_2">Files</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>/etc/grid-services</code>  </strong></dt>
<dd>
<p>Default location of enabled gatekeeper service descriptions.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_globus_gram_audit_8">GLOBUS-GRAM-AUDIT(8)</h3>
<div class="sect3">
<h4 id="_name_3">NAME</h4>
<div class="paragraph">
<p>globus-gram-audit - Load GRAM4 and GRAM5 audit records into a database</p>
</div>
</div>
<div class="sect3">
<h4 id="_synopsis_3">SYNOPSIS</h4>
<div class="paragraph">
<p><strong><code>globus-gram-audit</code></strong> [<code>--conf</code> <em>CONFIG_FILE</em>] [<code>--create</code> ] | [<code>--update=</code> <em>OLD-VERSION</em>] [<code>--check</code> ] [<code>--delete</code> ] [<code>--audit-directory</code> <em>AUDITDIR</em>] [<code>--quiet</code> ]</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_3">Description</h4>
<div class="paragraph">
<p>The <strong><code>globus-gram-audit</code></strong> program loads audit records to an
SQL-based database. It reads
<code>$GLOBUS_LOCATION/etc/globus-job-manager.conf</code> by default to determine
the audit directory and then uploads all files in that directory that
contain valid audit records to the database configured by the  by
default to determine the audit directory and then uploads all files in
that directory that contain valid audit records to the database
configured by the <strong><code>globus_gram_job_manager_auditing_setup_scripts</code></strong>
package. If the upload completes successfully, the audit files will be
removed.</p>
</div>
<div class="paragraph">
<p>The full set of command-line options to <strong><code>globus-gram-audit</code></strong>
consist of:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>--conf <em>CONFIG_FILE</em></strong></dt>
<dd>
<p>Use <em>CONFIG_FILE</em> instead of the default from the configuration file for audit database configuration.</p>
</dd>
<dt class="hdlist1"><strong>--check</strong></dt>
<dd>
<p>Check whether the insertion of a record was successful by querying the database after inserting the records. This is used in tests.</p>
</dd>
<dt class="hdlist1"><strong>--delete</strong></dt>
<dd>
<p>Delete audit records from the database right after inserting them. This is used in tests to avoid filling the databse with test records.</p>
</dd>
<dt class="hdlist1"><strong>--audit-directory <em>DIR</em></strong></dt>
<dd>
<p>Look for audit records in <em>DIR</em>, instead of looking in the directory specified in the job manager configuration. This is used in tests to control which records are loaded to the database and then deleted.</p>
</dd>
<dt class="hdlist1"><strong>--query <em>SQL</em></strong></dt>
<dd>
<p>Perform the given SQL query on the audit database. This uses the database information from the configuration file to determine how to contact the database.</p>
</dd>
<dt class="hdlist1"><strong>--quiet</strong></dt>
<dd>
<p>Reduce the amount of output for common operations.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_files_3">FILES</h4>
<div class="paragraph">
<p>The <strong><code>globus-gram-audit</code></strong> uses the following files (paths relative
to <code>$GLOBUS_LOCATION</code>).</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>etc/globus-gram-job-manager.conf</code></strong></dt>
<dd>
<p>GRAM5 job manager configuration. It includes the default path to the audit directory</p>
</dd>
<dt class="hdlist1"><strong><code>etc/globus-gram-audit.conf</code></strong></dt>
<dd>
<p>Audit configuration. It includes the information needed to contact the audit database.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gram5-cmd-globus-job-manager">GLOBUS-JOB-MANAGER(8)</h3>
<div class="sect3">
<h4 id="_name_4">NAME</h4>
<div class="paragraph">
<p>globus-job-manager - Execute and monitor jobs</p>
</div>
</div>
<div class="sect3">
<h4 id="_synopsis_4">SYNOPSIS</h4>
<div class="paragraph">
<p><strong><code>globus-job-manager</code></strong> <code>-type</code> <em>LRM</em> [<code>-conf</code> <em>CONFIG_PATH</em>] [<code>-help</code> ] [<code>-globus-host-manufacturer</code> <em>MANUFACTURER</em>] [<code>-globus-host-cputype</code> <em>CPUTYPE</em>] [<code>-globus-host-osname</code> <em>OSNAME</em>] [<code>-globus-host-osversion</code> <em>OSVERSION</em>] [<code>-globus-gatekeeper-host</code> <em>HOST</em>] [<code>-globus-gatekeeper-port</code> <em>PORT</em>] [<code>-globus-gatekeeper-subject</code> <em>SUBJECT</em>] [<code>-home</code> <em>GLOBUS_LOCATION</em>] [<code>-target-globus-location</code> <em>TARGET_GLOBUS_LOCATION</em>] [<code>-condor-arch</code> <em>ARCH</em>] [<code>-condor-os</code> <em>OS</em>] [<code>-history</code> <em>HISTORY_DIRECTORY</em>] [<code>-scratch-dir-base</code> <em>SCRATCH_DIRECTORY</em>] [<code>-enable-syslog</code> ] [<code>-stdio-log</code> <em>LOG_DIRECTORY</em>] [<code>-log-pattern</code> <em>PATTERN</em>] [<code>-log-levels</code> <em>LEVELS</em>] [<code>-state-file-dir</code> <em>STATE_DIRECTORY</em>] [<code>-globus-tcp-port-range</code> <em>PORT_RANGE</em>] [<code>-globus-tcp-source-range</code> <em>SOURCE_RANGE</em>] [<code>-x509-cert-dir</code> <em>TRUSTED_CERTIFICATE_DIRECTORY</em>] [<code>-cache-location</code> <em>GASS_CACHE_DIRECTORY</em>] [<code>-k</code> ] [<code>-extra-envvars</code> <em>VAR=VAL,&#8230;&#8203;</em>] [<code>-seg-module</code> <em>SEG_MODULE</em>] [<code>-audit-directory</code> <em>AUDIT_DIRECTORY</em>] [<code>-globus-toolkit-version</code> <em>TOOLKIT_VERSION</em>] [<code>-disable-streaming</code> ] [<code>-disable-usagestats</code> ] [<code>-usagestats-targets</code> <em>TARGET</em>] [<code>-service-tag</code> <em>SERVICE_TAG</em>]</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_4">Description</h4>
<div class="paragraph">
<p>The <strong><code>globus-job-manager</code></strong> program is a servivce which starts and
controls GRAM jobs which are executed by a local resource management
system, such as LSF or Condor. The <strong><code>globus-job-manager</code></strong> program is
typically started by the <strong><code>globus-gatekeeper</code></strong> program and not
directly by a user. It runs until all jobs it is managing have
terminated or its delegated credentials have expired.</p>
</div>
<div class="paragraph">
<p>Typically, users interact with the <strong><code>globus-job-manager</code></strong> program
via client applications such as <strong><code>globusrun</code></strong>,
<strong><code>globus-job-submit</code></strong>, or tools such as CoG jglobus or Condor-G.</p>
</div>
<div class="paragraph">
<p>The full set of command-line options to <strong><code>globus-job-manager</code></strong>
consists of:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-help</strong></dt>
<dd>
<p>Display a help message to standard error and exit</p>
</dd>
<dt class="hdlist1"><strong>-type <em>LRM</em></strong></dt>
<dd>
<p>Execute jobs using the local resource manager named <em>LRM</em>.</p>
</dd>
<dt class="hdlist1"><strong>-conf <em>CONFIG_PATH</em></strong></dt>
<dd>
<p>Read additional command-line arguments from the file <em>CONFIG_PATH</em>. If present, this must be the first command-line argument to the <strong><code>globus-job-manager</code></strong> program.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>-globus-host-manufacturer
                <em>MANUFACTURER</em></strong>::
     Indicate the manufacturer of the system which the jobs will execute on. This parameter sets the value of the <code>$(GLOBUS_HOST_MANUFACTURER)</code> RSL substitution to <em>MANUFACTURER</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-globus-host-cputype <em>CPUTYPE</em></strong></dt>
<dd>
<p>Indicate the CPU type of the system which the jobs will execute on. This parameter sets the value of the <code>$(GLOBUS_HOST_CPUTYPE)</code> RSL substitution to <em>CPUTYPE</em></p>
</dd>
<dt class="hdlist1"><strong>-globus-host-osname <em>OSNAME</em></strong></dt>
<dd>
<p>Indicate the operating system type of the system which the jobs will execute on. This parameter sets the value of the <code>$(GLOBUS_HOST_OSNAME)</code> RSL substitution to <em>OSNAME</em></p>
</dd>
<dt class="hdlist1"><strong>-globus-host-osversion <em>OSVERSION</em></strong></dt>
<dd>
<p>Indicate the operating system version of the system which the jobs will execute on. This parameter sets the value of the <code>$(GLOBUS_HOST_OSVERSION)</code> RSL substitution to <em>OSVERSION</em></p>
</dd>
<dt class="hdlist1"><strong>-globus-gatekeeper-host <em>HOST</em></strong></dt>
<dd>
<p>Indicate the host name of the machine which the job was submitted to. This parameter sets the value of the <code>$(GLOBUS_GATEKEEPER_HOST)</code> RSL substitution to <em>HOST</em></p>
</dd>
<dt class="hdlist1"><strong>-globus-gatekeeper-port <em>PORT</em></strong></dt>
<dd>
<p>Indicate the TCP port number of gatekeeper to which jobs are submitted to. This parameter sets the value of the <code>$(GLOBUS_GATEKEEPER_PORT)</code> RSL substitution to <em>PORT</em></p>
</dd>
<dt class="hdlist1"><strong>-globus-gatekeeper-subject <em>SUBJECT</em></strong></dt>
<dd>
<p>Indicate the X.509 identity of the gatekeeper to which jobs are submitted to. This parameter sets the value of the <code>$(GLOBUS_GATEKEEPER_SUBJECT)</code> RSL substitution to <em>SUBJECT</em></p>
</dd>
<dt class="hdlist1"><strong>-home <em>GLOBUS_LOCATION</em></strong></dt>
<dd>
<p>Indicate the path where the Grid Community Toolkit is installed on the service node. This is used by the job manager to locate its support and configuration files.</p>
</dd>
<dt class="hdlist1"><strong>-target-globus-location <em>TARGET_GLOBUS_LOCATION</em></strong></dt>
<dd>
<p>Indicate the path where the Grid Community Toolkit is installed on the execution host. If this is omitted, the value specified as a parameter to <em>-home</em> is used. This parameter sets the value of the <code>$(GLOBUS_LOCATION)</code> RSL substitution to <em>TARGET_GLOBUS_LOCATION</em></p>
</dd>
<dt class="hdlist1"><strong>-history <em>HISTORY_DIRECTORY</em></strong></dt>
<dd>
<p>Configure the job manager to write job history files to <em>HISTORY_DIRECTORY</em>. These files are described in the FILES section below.</p>
</dd>
<dt class="hdlist1"><strong>-scratch-dir-base <em>SCRATCH_DIRECTORY</em></strong></dt>
<dd>
<p>Configure the job manager to use <em>SCRATCH_DIRECTORY</em> as the default scratch directory root if a relative path is specified in the job RSL&#8217;s <code>scratch_dir</code> attribute.</p>
</dd>
<dt class="hdlist1"><strong>-enable-syslog</strong></dt>
<dd>
<p>Configure the job manager to write log messages via syslog. Logging is further controlled by the argument to the <em>-log-levels</em> parameter described below.</p>
</dd>
<dt class="hdlist1"><strong>-log-pattern <em>PATTERN</em></strong></dt>
<dd>
<p>Configure the job manager to write log messages to files named by the string <em>PATTERN</em>. The <em>PATTERN</em> string may contain job-independent RSL substitutions such as <code>$(HOME)</code>, <code>$(LOGNAME)</code>, etc, as well as the special RSL substition <code>$(DATE)</code> which will be resolved at log time to the date in YYYYMMDD form.</p>
</dd>
<dt class="hdlist1"><strong>-stdio-log <em>LOG_DIRECTORY</em></strong></dt>
<dd>
<p>Configure the job manager to write log messages to files in the <em>LOG_DIRECTORY</em> directory. This is a backward-compatible parameter, equivalent to '-log-pattern '.</p>
</dd>
<dt class="hdlist1"><strong>-log-levels <em>LEVELS</em></strong></dt>
<dd>
<p>Configure the job manager to write log messages of certain levels to syslog and/or log files. The available log levels are <code>FATAL</code>, <code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code>, and <code>TRACE</code>. Multiple values can be combined with the <code>|</code> character. The default value of logging when enabled is <code>FATAL|ERROR</code>.</p>
</dd>
<dt class="hdlist1"><strong>-state-file-dir <em>STATE_DIRECTORY</em></strong></dt>
<dd>
<p>Configure the job manager to write state files to <em>STATE_DIRECTORY</em>. If not specified, the job manager uses the default of <code>$GLOBUS_LOCATION/tmp/gram_job_state/</code>. This directory must be writable by all users and be on a file system which supports POSIX advisory file locks. . This directory must be writable by all users and be on a file system which supports POSIX advisory file locks.</p>
</dd>
<dt class="hdlist1"><strong>-globus-tcp-port-range <em>PORT_RANGE</em></strong></dt>
<dd>
<p>Configure the job manager to restrict its TCP/IP communication to use ports in the range described by <em>PORT_RANGE</em>. This value is also made available in the job environment via the <code>GLOBUS_TCP_PORT_RANGE</code> environment variable.</p>
</dd>
<dt class="hdlist1"><strong>-globus-tcp-source-range <em>SOURCE_RANGE</em></strong></dt>
<dd>
<p>Configure the job manager to restrict its TCP/IP communication to use source ports in the range described by <em>SOURCE_RANGE</em>. This value is also made available in the job environment via the <code>GLOBUS_TCP_SOURCE_RANGE</code> environment variable.</p>
</dd>
<dt class="hdlist1"><strong>-x509-cert-dir <em>TRUSTED_CERTIFICATE_DIRECTORY</em></strong></dt>
<dd>
<p>Configure the job manager to search <em>TRUSTED_CERTIFICATE_DIRECTORY</em> for its list of trusted CA certificates and their signing policies. This value is also made available in the job environment via the <code>X509_CERT_DIR</code> environment variable.</p>
</dd>
<dt class="hdlist1"><strong>-cache-location <em>GASS_CACHE_DIRECTORY</em></strong></dt>
<dd>
<p>Configure the job manager to use the path <em>GASS_CACHE_DIRECTORY</em> for its temporary GASS-cache files. This value is also made available in the job environment via the <code>GLOBUS_GASS_CACHE_DEFAULT</code> environment variable.</p>
</dd>
<dt class="hdlist1"><strong>-k</strong></dt>
<dd>
<p>Configure the job manager to assume it is using Kerberos for authentication instead of X.509 certificates. This disables some certificate-specific processing in the job manager.</p>
</dd>
<dt class="hdlist1"><strong>-extra-envvars <em>VAR=VAL,&#8230;&#8203;</em></strong></dt>
<dd>
<p>Configure the job manager to define a set of environment variables in the job environment beyond those defined in the base job environment. The format of the parameter to this argument is a comma-separated sequence of VAR=VAL pairs, where <code>VAR</code> is the variable name and <code>VAL</code> is the variable&#8217;s value. If the value is not specified, then the value of the variable in the job manager&#8217;s environment is used. This option may be present multiple times on the command-line or the job manager configuration file to append multiple environment settings.</p>
</dd>
<dt class="hdlist1"><strong>-seg-module <em>SEG_MODULE</em></strong></dt>
<dd>
<p>Configure the job manager to use the schedule event generator module named by <em>SEG_MODULE</em> to detect job state changes events from the local resource manager, in place of the less efficient polling operations used in GT2. To use this, one instance of the <strong><code>globus-job-manager-event-generator</code></strong> must be running to process events for the LRM into a generic format that the job manager can parse.</p>
</dd>
<dt class="hdlist1"><strong>-audit-directory <em>AUDIT_DIRECTORY</em></strong></dt>
<dd>
<p>Configure the job manager to write audit records to the directory named by <em>AUDIT_DIRECTORY</em>. This records can be loaded into a database using the <strong><code>globus-gram-audit</code></strong> program.</p>
</dd>
<dt class="hdlist1"><strong>-globus-toolkit-version <em>TOOLKIT_VERSION</em></strong></dt>
<dd>
<p>Configure the job manager to use <em>TOOLKIT_VERSION</em> as the version for audit and usage stats records.</p>
</dd>
<dt class="hdlist1"><strong>-service-tag <em>SERVICE_TAG</em></strong></dt>
<dd>
<p>Configure the job manager to use <em>SERVICE_TAG</em> as a unique identifier to allow multiple GRAM instances to use the same job state directories without interfering with each other&#8217;s jobs. If not set, the value <code>untagged</code> will be used.</p>
</dd>
<dt class="hdlist1"><strong>-disable-streaming</strong></dt>
<dd>
<p>Configure the job manager to disable file streaming. This is propagated to the LRM script interface but has no effect in GRAM5.</p>
</dd>
<dt class="hdlist1"><strong>-disable-usagestats</strong></dt>
<dd>
<p>Disable sending of any usage stats data, even if <em>-usagestats-targets</em> is present in the configuration.</p>
</dd>
<dt class="hdlist1"><strong>-usagestats-targets <em>TARGET</em></strong></dt>
<dd>
<p>Send usage packets to a data collection service for analysis. The <em>TARGET</em> string consists of a comma-separated list of HOST:PORT combinations, each contaiing an optional list of data to send. See <a href="http://confluence.globus.org/display/~bester/GRAM5+Usage+Stats+Packets">Usage Stats Packets</a> for more information about the tags. Special tag strings of <code>all</code> (which enables all tags) and <code>default</code> may be used, or a sequence of characters for the various tags. If this option is not present in the configuration, then the default of usage-stats.globus.org:4810 is used.</p>
</dd>
<dt class="hdlist1"><strong>-condor-arch <em>ARCH</em></strong></dt>
<dd>
<p>Set the architecture specification for condor jobs to be <em>ARCH</em> in job classified ads generated by the GRAM5 codnor LRM script. This is required for the condor LRM but ignored for all others.</p>
</dd>
<dt class="hdlist1"><strong>-condor-os <em>OS</em></strong></dt>
<dd>
<p>Set the operating system specification for condor jobs to be <em>OS</em> in job classified ads generated by the GRAM5 codnor LRM script. This is required for the condor LRM but ignored for all others.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_environment_2">Environment</h4>
<div class="paragraph">
<p>If the following variables affect the execution of
<strong><code>globus-job-manager</code></strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>HOME</code></strong></dt>
<dd>
<p>User&#8217;s home directory.</p>
</dd>
<dt class="hdlist1"><strong><code>LOGNAME</code></strong></dt>
<dd>
<p>User&#8217;s name.</p>
</dd>
<dt class="hdlist1"><strong><code>JOBMANAGER_SYSLOG_ID</code></strong></dt>
<dd>
<p>String to prepend to syslog audit messages.</p>
</dd>
<dt class="hdlist1"><strong><code>JOBMANAGER_SYSLOG_FAC</code></strong></dt>
<dd>
<p>Facility to log syslog audit messages as.</p>
</dd>
<dt class="hdlist1"><strong><code>JOBMANAGER_SYSLOG_LVL</code></strong></dt>
<dd>
<p>Priority level to use for syslog audit messages.</p>
</dd>
<dt class="hdlist1"><strong><code>GATEKEEPER_JM_ID</code></strong></dt>
<dd>
<p>Job manager ID to be used in syslog audit records.</p>
</dd>
<dt class="hdlist1"><strong><code>GATEKEEPER_PEER</code></strong></dt>
<dd>
<p>Peer information to be used in syslog audit records</p>
</dd>
<dt class="hdlist1"><strong><code>GLOBUS_ID</code></strong></dt>
<dd>
<p>Credential information to be used in syslog audit records</p>
</dd>
<dt class="hdlist1"><strong><code>GLOBUS_JOB_MANAGER_SLEEP</code></strong></dt>
<dd>
<p>Time (in seconds) to sleep when the job manager is started. [For debugging purposes only]</p>
</dd>
<dt class="hdlist1"><strong><code>GRID_SECURITY_HTTP_BODY_FD</code></strong></dt>
<dd>
<p>File descriptor of an open file which contains the initial job request and to which the initial job reply should be sent. This file descriptor is inherited from the <strong><code>globus-gatekeeper</code></strong>.</p>
</dd>
<dt class="hdlist1"><strong><code>X509_USER_PROXY</code></strong></dt>
<dd>
<p>Path to the X.509 user proxy which was delegated by the client to the <strong><code>globus-gatekeeper</code></strong> program to be used by the job manager.</p>
</dd>
<dt class="hdlist1"><strong><code>GRID_SECURITY_CONTEXT_FD</code></strong></dt>
<dd>
<p>File descriptor containing an exported security context that the job manager should use to reply to the client which submitted the job.</p>
</dd>
<dt class="hdlist1"><strong><code>GLOBUS_USAGE_TARGETS</code></strong></dt>
<dd>
<p>Default list of usagestats services to send usage packets to.</p>
</dd>
<dt class="hdlist1"><strong><code>GLOBUS_TCP_PORT_RANGE</code></strong></dt>
<dd>
<p>Default range of allowed TCP ports to listen on. The <em>-globus-tcp-port-range</em> command-line option overrides this.</p>
</dd>
<dt class="hdlist1"><strong><code>GLOBUS_TCP_SOURCE_RANGE</code></strong></dt>
<dd>
<p>Default range of allowed TCP ports to bind to. The <em>-globus-tcp-source-range</em> command-line option overrides this.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_files_4">Files</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/LRM.TAG.red</code></strong></dt>
<dd>
<p>Job manager delegated user credential.</p>
</dd>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/LRM.TAG.lock</code></strong></dt>
<dd>
<p>Job manager state lock file.</p>
</dd>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/LRM.TAG.pid</code></strong></dt>
<dd>
<p>Job manager pid file.</p>
</dd>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/LRM.TAG.sock</code></strong></dt>
<dd>
<p>Job manager socket for inter-job manager communications.</p>
</dd>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/JOB_ID/</code></strong></dt>
<dd>
<p>Job-specific state directory.</p>
</dd>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/JOB_ID/stdin</code></strong></dt>
<dd>
<p>Standard input which has been staged from a remote URL.</p>
</dd>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/JOB_ID/stdout</code></strong></dt>
<dd>
<p>Standard output which will be staged from a remote URL.</p>
</dd>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/JOB_ID/stderr</code></strong></dt>
<dd>
<p>Standard error which will be staged from a remote URL.</p>
</dd>
<dt class="hdlist1"><strong><code>$HOME/.globus/job/HOSTNAME/JOB_ID/x509_user_proxy</code></strong></dt>
<dd>
<p>Job-specific delegated credential.</p>
</dd>
<dt class="hdlist1"><strong><code>$GLOBUS_LOCATION/tmp/gram_job_state/job.HOSTNAME.JOB_ID</code></strong></dt>
<dd>
<p>Job state file.</p>
</dd>
<dt class="hdlist1"><strong><code>$GLOBUS_LOCATION/tmp/gram_job_state/job.HOSTNAME.JOB_ID.lock</code></strong></dt>
<dd>
<p>Job state lock file. In most cases this will be a symlink to the job manager lock file.</p>
</dd>
<dt class="hdlist1"><strong><code>$GLOBUS_LOCATION/etc/globus-job-manager.conf</code></strong></dt>
<dd>
<p>Default location of the global job manager configuration file.</p>
</dd>
<dt class="hdlist1"><strong><code>$GLOBUS_LOCATION/etc/grid-services/jobmanager-LRM</code></strong></dt>
<dd>
<p>Default location of the LRM-specific gatekeeper configuration file.</p>
</dd>
<dt class="hdlist1"><strong><code>$GLOBUS_LOCATION/etc/globus/gram/job&#8212;&#8203;manager.rvf</code></strong></dt>
<dd>
<p>Default location of the site-specific job manager RSL validation file.</p>
</dd>
<dt class="hdlist1"><strong><code>$GLOBUS_LOCATION/etc/globus/gram/lrm.rvf</code></strong></dt>
<dd>
<p>Default location of the site-specific job manager RSL validation file for the named lrm.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_see_also_2">See Also</h4>
<div class="paragraph">
<p><code>globusrun(1)</code>, <code>globus-gatekeeper(8)</code>,
<code>globus-personal-gatekeeper(1)</code>, <code>globus-gram-audit(8)</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gram5-cmd-globus-rvf-check">GLOBUS-RVF-CHECK(8)</h3>
<div class="sect3">
<h4 id="_name_5">NAME</h4>
<div class="paragraph">
<p>globus-rvf-check - Edit a GRAM5 RSL validation file</p>
</div>
</div>
<div class="sect3">
<h4 id="_synopsis_5">SYNOPSIS</h4>
<div class="paragraph">
<p><strong><code>globus-rvf-check</code></strong> [<code>-h</code> ] [<code>-help</code> ]</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_5">Description</h4>
<div class="paragraph">
<p>The <strong><code>globus-rvf-check</code></strong> command is a utility which checks the
syntax of a RSL validation file, and prints out parse errors when
encountered. It can also parse the RVF file contents and then dump
file&#8217;s contents to stdout, after canonicalizing values and quoting. The
exit code of <strong><code>globus-rvf-check</code></strong> is 0 if all files specified on the
command line exist and have no parse errors.</p>
</div>
<div class="paragraph">
<p>The full set of command-line options to <strong><code>globus-rvf-check</code></strong>
consists of:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-h, -help, --help</strong></dt>
<dd>
<p>Print command-line option summary and exit</p>
</dd>
<dt class="hdlist1"><strong>-d</strong></dt>
<dd>
<p>Dump the RVF contents to stdout. In the output, Each file which is parsed will be prefixed by an RVF comment which contains the input filename. If not specified, <strong><code>globus-rvf-check</code></strong> just prints a diagnostic message to standard output indicating whether the file could be parsed.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gram5-cmd-globus-rvf-edit">GLOBUS-RVF-EDIT(8)</h3>
<div class="sect3">
<h4 id="_name_6">NAME</h4>
<div class="paragraph">
<p>globus-rvf-edit - Edit a GRAM5 RSL validation file</p>
</div>
</div>
<div class="sect3">
<h4 id="_synopsis_6">SYNOPSIS</h4>
<div class="paragraph">
<p><strong><code>globus-rvf-edit</code></strong> [<code>-h</code> ]</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_6">Description</h4>
<div class="paragraph">
<p>The <strong><code>globus-rvf-edit</code></strong> command is a utility which opens the default
editor on a specified RSL validation file, and then, when editing
completes, runs the <strong><code>globus-rvf-check</code></strong> command to verify that the
RVF file syntax is correct. If a parse error occurs, the user will be
given an option to rerun the editor or discard the modifications.</p>
</div>
<div class="paragraph">
<p>The full set of command-line options to <strong><code>globus-rvf-edit</code></strong> consists
of:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-h</strong></dt>
<dd>
<p>Print command-line option summary and exit</p>
</dd>
<dt class="hdlist1"><strong>-s</strong></dt>
<dd>
<p>Edit of the site-specific RVF file, which provides override values applicable to all LRMs installed on the system.</p>
</dd>
<dt class="hdlist1"><strong>-l <em>LRM</em></strong></dt>
<dd>
<p>Edit the site-specific LRM overrides for the LRM named by the <em>LRM</em> parameter to the option.</p>
</dd>
<dt class="hdlist1"><strong>-f <em>PATH</em></strong></dt>
<dd>
<p>Edit the RVF file located at <em>PATH</em></p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="globus-scheduler-event-generator">GLOBUS-SCHEDULER-EVENT-GENERATOR(8)</h3>
<div class="sect3">
<h4 id="_name_7">NAME</h4>
<div class="paragraph">
<p>globus-scheduler-event-generator - Process LRM events into a common format for use with GRAM</p>
</div>
</div>
<div class="sect3">
<h4 id="_synopsis_7">SYNOPSIS</h4>
<div class="paragraph">
<p><strong><code>globus-scheduler-event-generator</code></strong> <code>-s</code> <em>LRM</em> <br>
<br>
 [<code>-t</code> <em>TIMESTAMP</em>] [<code>-d</code> <em>DIRECTORY</em>] <br>
<br>
 [<code>-b</code> ] [<code>-p</code> <em>PIDFILE</em>]</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_7">Description</h4>
<div class="paragraph">
<p>The <strong><code>globus-scheduler-event-generator</code></strong> program processes
information from a local resource manager to generate LRM-independent
events which GRAM can use to track job state changes. Typically, the
<strong><code>globus-scheduler-event-generator</code></strong> is started at system boot time
for all LRM adapters which have been installed. The only required
parameter to <strong><code>globus-scheduler-event-generator</code></strong> is '-s ', which
indicates what LRM-specific module to load. A list of available modules
can be found by using the <strong><code>globus-scheduler-event-generator-admin
</code></strong> command.</p>
</div>
<div class="paragraph">
<p>Other options control how the <strong><code>globus-scheduler-event-generator</code></strong>
program runs and where its output goes. These options are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-t <em>TIMESTAMP</em></strong></dt>
<dd>
<p>     Start processing events which start at <em>TIMESTAMP</em> in seconds since the
UNIX epoch. If not present, the <strong><code>globus-scheduler-event-generator</code></strong>
will process events from the time it was started, and not look for
historical events.</p>
</dd>
<dt class="hdlist1"><strong>-d <em>DIRECTORY</em></strong></dt>
<dd>
<p>     Write the event log to files in <em>DIRECTORY</em>, instead of printing them to
standard output. Within <em>DIRECTORY</em>, logs will be named by the time when
they were created in <em>YYYYMMDD</em> format.</p>
</dd>
<dt class="hdlist1"><strong>-b</strong></dt>
<dd>
<p>     Run the <strong><code>globus-scheduler-event-generator</code></strong> program in the
background.</p>
</dd>
<dt class="hdlist1"><strong>-p <em>PIDFILE</em></strong></dt>
<dd>
<p>     Write the process-id of <strong><code>globus-scheduler-event-generator</code></strong> to
<em>PIDFILE</em>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_files_5">Files</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>/var/lib/globus/globus-seg-LRM/YYYYMMDD</code></strong></dt>
<dd>
<p>LRM-independent event log generated by <strong><code>globus-scheduler-event-generator</code></strong></p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_see_also_3">See Also</h4>
<div class="paragraph">
<p><code>globus-scheduler-event-generator-admin(8)</code>, <code>globus-job-manager(8)</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="globus-scheduler-event-generator-admin">GLOBUS-SCHEDULER-EVENT-GENERATOR-ADMIN(8)</h3>
<div class="sect3">
<h4 id="_name_8">NAME</h4>
<div class="paragraph">
<p>globus-scheduler-event-generator-admin - Manage SEG modules</p>
</div>
</div>
<div class="sect3">
<h4 id="_synopsis_8">SYNOPSIS</h4>
<div class="paragraph">
<p><strong><code>globus-scheduler-event-generator-admin</code></strong> [<code>-h</code> ]</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_8">Description</h4>
<div class="paragraph">
<p>The <strong><code>globus-scheduler-event-generator-admin</code></strong> program manages SEG
modules which are used by the <strong><code>globus-scheduler-event-generator</code></strong>
to monitor a local resource manager or batch system for events. The
<strong><code>globus-scheduler-event-generator-admin</code></strong> can list, enable, or
disable specific SEG modules. The <em>-h</em> command-line option shows a brief
usage message.</p>
</div>
<div class="sect4">
<h5 id="_listing_seg_modules">Listing SEG Modules</h5>
<div class="paragraph">
<p>The <em>-l</em> command-line option to
<strong><code>globus-scheduler-event-generator-admin</code></strong> will cause it to list all
of the SEG modules which are available to be run by the
<strong><code>globus-scheduler-event-generator</code></strong>. In the output, the service
name will be followed by its status in brackets. Possible status strings
are <code>ENABLED</code> and <code>DISABLED</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enabling_seg_modules">Enabling SEG Modules</h5>
<div class="paragraph">
<p>The '-e ' command-line option to
<strong><code>globus-scheduler-event-generator-admin</code></strong> will cause it to enable
the module so that the init script for the
<strong><code>globus-scheduler-event-generator</code></strong> will run it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_disabling_seg_modules">Disabling SEG Modules</h5>
<div class="paragraph">
<p>The '-d ' command-line option to
<strong><code>globus-scheduler-event-generator-admin</code></strong> will cause it to disable
the module so that it will not be started by the
<strong><code>globus-scheduler-event-generator</code></strong> init script.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_files_6">Files</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>/etc/globus/scheduler-event-generator</code></strong></dt>
<dd>
<p>Default location of enabled SEG modules.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_see_also_4">See Also</h4>
<div class="paragraph">
<p><code>globus-scheduler-event-generator(8)</code></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-usage">Usage statistics collection by the Globus Alliance</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="gram5-usage-stats">GRAM5-specific usage statistics</h3>
<div class="paragraph">
<p>The following usage statistics are sent by default in a UDP packet (in
addition to the GRAM component code, packet version, timestamp, and
source IP address) at the end of each job.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Job Manager Session ID</p>
</li>
<li>
<p>dryrun used</p>
</li>
<li>
<p>RSL Host Count</p>
</li>
<li>
<p>Timestamp when job hit <code>GLOBUS_GRAM_PROTOCOL_JOB_STATE_UNSUBMITTED</code></p>
</li>
<li>
<p>Timestamp when job hit <code>GLOBUS_GRAM_PROTOCOL_JOB_STATE_FILE_STAGE_IN</code></p>
</li>
<li>
<p>Timestamp when job hit <code>GLOBUS_GRAM_PROTOCOL_JOB_STATE_PENDING</code></p>
</li>
<li>
<p>Timestamp when job hit <code>GLOBUS_GRAM_PROTOCOL_JOB_STATE_ACTIVE</code></p>
</li>
<li>
<p>Timestamp when job hit <code>GLOBUS_GRAM_PROTOCOL_JOB_STATE_FAILED</code></p>
</li>
<li>
<p>Timestamp when job hit <code>GLOBUS_GRAM_PROTOCOL_JOB_STATE_FILE_STAGE_OUT</code></p>
</li>
<li>
<p>Timestamp when job hit <code>GLOBUS_GRAM_PROTOCOL_JOB_STATE_DONE</code></p>
</li>
<li>
<p>Job Failure Code</p>
</li>
<li>
<p>Number of times status is called</p>
</li>
<li>
<p>Number of times register is called</p>
</li>
<li>
<p>Number of times signal is called</p>
</li>
<li>
<p>Number of times refresh is called</p>
</li>
<li>
<p>Number of files named in file_clean_up RSL</p>
</li>
<li>
<p>Number of files being staged in (including executable, stdin) from http servers</p>
</li>
<li>
<p>Number of files being staged in (including executable, stdin) from https servers</p>
</li>
<li>
<p>Number of files being staged in (including executable, stdin) from ftp servers</p>
</li>
<li>
<p>Number of files being staged in (including executable, stdin) from gsiftp servers</p>
</li>
<li>
<p>Number of files being staged into the GASS cache from http servers</p>
</li>
<li>
<p>Number of files being staged into the GASS cache from https servers</p>
</li>
<li>
<p>Number of files being staged into the GASS cache from ftp servers</p>
</li>
<li>
<p>Number of files being staged into the GASS cache from gsiftp servers</p>
</li>
<li>
<p>Number of files being staged out (including stdout and stderr) to http servers</p>
</li>
<li>
<p>Number of files being staged out (including stdout and stderr) to https servers</p>
</li>
<li>
<p>Number of files being staged out (including stdout and stderr) to ftp servers</p>
</li>
<li>
<p>Number of files being staged out (including stdout and stderr) to gsiftp servers</p>
</li>
<li>
<p>Bitmask of used RSL attributes (values are 2^id from the gram5_rsl_attributes table)</p>
</li>
<li>
<p>Number of times unregister is called</p>
</li>
<li>
<p>Value of the <code>count</code> RSL attribute</p>
</li>
<li>
<p>Comma-separated list of string names of other RSL attributes not in the set defined in <code>globus-gram-job-manager.rvf</code></p>
</li>
<li>
<p>Job type string</p>
</li>
<li>
<p>Number of times the job was restarted</p>
</li>
<li>
<p>Total number of state callbacks sent to all clients for this job</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following information can be sent as well in a job status packet but
it is not sent unless explicitly enabled by the system administrator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Value of the executable RSL attribute</p>
</li>
<li>
<p>Value of the arguments RSL attribute</p>
</li>
<li>
<p>IP adddress and port of the client that submitted the job</p>
</li>
<li>
<p>User DN of the client that submitted the job</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to job-related status, the job manager sends information
periodically about its execution status. The following information is
sent by default in a UDP packet (in addition to the GRAM component code,
packet version, timestamp, and source IP address) at job manager start
and every 1 hour during the job manager lifetime:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Job Manager Start Time</p>
</li>
<li>
<p>Job Manager Session ID</p>
</li>
<li>
<p>Job Manager Status Time</p>
</li>
<li>
<p>Job Manager Version</p>
</li>
<li>
<p>LRM</p>
</li>
<li>
<p>Poll used</p>
</li>
<li>
<p>Audit used</p>
</li>
<li>
<p>Number of restarted jobs</p>
</li>
<li>
<p>Total number of jobs</p>
</li>
<li>
<p>Total number of failed jobs</p>
</li>
<li>
<p>Total number of canceled jobs</p>
</li>
<li>
<p>Total number of completed jobs</p>
</li>
<li>
<p>Total number of dry-run jobs</p>
</li>
<li>
<p>Peak number of concurrently managed jobs</p>
</li>
<li>
<p>Number of jobs currently being managed</p>
</li>
<li>
<p>Number of jobs currently in the UNSUBMITTED state</p>
</li>
<li>
<p>Number of jobs currently in the STAGE_IN state</p>
</li>
<li>
<p>Number of jobs currently in the PENDING state</p>
</li>
<li>
<p>Number of jobs currently in the ACTIVE state</p>
</li>
<li>
<p>Number of jobs currently in the STAGE_OUT state</p>
</li>
<li>
<p>Number of jobs currently in the FAILED state</p>
</li>
<li>
<p>Number of jobs currently in the DONE state</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also, please see our
<a href="/toolkit/docs/latest-stable/Usage_Stats.html">policy statement</a> on
the collection of usage statistics.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gram5-admin-index">Index</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Not recommended for production use
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. This LRM uses a SEG-like mechanism included in the <strong><code>globus-job-manager</code></strong> program, but not the <strong><code>globus-scheduler-event-generator</code></strong> service.
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>