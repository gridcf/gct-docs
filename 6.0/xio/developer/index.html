<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>GCT 6.0 XIO : Developer&#8217;s Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body id="xioDeveloper" class="book toc2 toc-left">
<div id="header">
<h1>GCT 6.0 XIO : Developer&#8217;s Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#xio-developer-beforeyoubegin">Before you begin</a>
<ul class="sectlevel2">
<li><a href="#xio-features">Feature summary</a></li>
<li><a href="#xio-platforms">Tested platforms</a></li>
<li><a href="#xio-compatibility">Backward compatibility summary</a></li>
<li><a href="#xio-dependencies">Technology dependencies</a></li>
<li><a href="#xio-security-considerations">Security considerations for XIO</a></li>
</ul>
</li>
<li><a href="#x-xio-user-quick-start">Using the Globus XIO API for IO operations within C programs</a>
<ul class="sectlevel2">
<li><a href="#x-xio-user-quick-start-Introduction-quick">Introduction</a></li>
<li><a href="#x-xio-user-quick-start-ActivateGlobus">Activate the Globus XIO Module</a></li>
<li><a href="#x-xio-user-quick-start-LoadDriver">Load Driver</a></li>
<li><a href="#x-xio-user-quick-start-CreateStack">Create Stack</a></li>
<li><a href="#x-xio-user-quick-start-OpeningHandle">Opening Handle</a></li>
<li><a href="#x-xio-user-quick-start-PayOff">Pay Off</a></li>
</ul>
</li>
<li><a href="#x-xio-driver-quick-start">Driver Quick Start</a>
<ul class="sectlevel2">
<li><a href="#x-xio-driver-quick-start-Introduction-quick">Introduction</a></li>
<li><a href="#x-xio-driver-quick-start-dataStructure">Data Structures</a></li>
<li><a href="#x-xio-driver-quick-start-attributes">Attributes</a></li>
<li><a href="#x-xio-driver-quick-start-target">Target</a></li>
<li><a href="#x-xio-driver-quick-start-handle">Handle</a></li>
<li><a href="#x-xio-driver-quick-start-IO-Operations">IO Operations</a></li>
<li><a href="#x-xio-driver-quick-start-glue">The Glue</a></li>
</ul>
</li>
<li><a href="#xio-developer-tutorials">Tutorials</a></li>
<li><a href="#xio-developer-archdes">Architecture and design overview</a>
<ul class="sectlevel2">
<li><a href="#x-xio-driver-quick-start-Introduction-arch">Introduction</a></li>
<li><a href="#x-xio-driver-quick-start-Framework">Framework</a></li>
<li><a href="#x-xio-driver-quick-start-Drivers">Drivers</a></li>
<li><a href="#x-xio-driver-quick-start-Example">Example</a></li>
<li><a href="#x-xio-driver-quick-start-Driver-Interface">Driver Interface</a></li>
</ul>
</li>
<li><a href="#xio-apis">XIO APIs</a>
<ul class="sectlevel2">
<li><a href="#_programming_model_overview">Programming Model Overview</a></li>
<li><a href="#_component_api">Component API</a></li>
</ul>
</li>
<li><a href="#xio-developer-env">Environment Variable Interface</a>
<ul class="sectlevel2">
<li><a href="#xio-env-var">Environmental variables for XIO</a></li>
</ul>
</li>
<li><a href="#xio-developer-debugging">Debugging</a></li>
<li><a href="#xio-admin-troubleshooting">Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#_set_globus_location_correctly">Set GLOBUS_LOCATION correctly</a></li>
<li><a href="#xio-error-codes">Errors</a></li>
</ul>
</li>
<li><a href="#xio-developer-relateddocs">Related Documentation</a></li>
<li><a href="#xio-driver-addons">Appendix A: Add on</a>
<ul class="sectlevel2">
<li><a href="#xio-drivers-addon-intro">Introduction</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Grid Community Toolkit documentation was taken from the Globus Toolkit 6.0 documentation.
As a result, there may be inaccuracies and outdated information.
Please report any problems to the Grid Community Forums as <a href="https://github.com/gridcf/gct-docs/issues">GitHub issues</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="../../index.html">GCT</a> &#8594; <a href="../index.html">XIO</a> &#8594; GCT 6.0 XIO : Developer&#8217;s Guide</p>
</div>
<div id="xio-developer-introduction" class="openblock">
<div class="title">Introduction</div>
<div class="content">
<div class="paragraph">
<p>This guide contains information of interest to developers working with
XIO. It provides reference information for application developers,
including APIs, architecture, procedures for using the APIs and code
samples.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-developer-beforeyoubegin">Before you begin</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="xio-features">Feature summary</h3>
<div class="paragraph">
<p>Supported Features</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Driver specific string attributes. Set values like <strong>tcp buffer size</strong> via string at runtime.</p>
</li>
<li>
<p>UDT driver.</p>
</li>
<li>
<p>Mode E Driver</p>
</li>
<li>
<p>Telnet Driver</p>
</li>
<li>
<p>Queuing Driver</p>
</li>
<li>
<p>Ordering Driver</p>
</li>
<li>
<p>Dynamically loadable drivers.</p>
</li>
<li>
<p>Single API to swappable IO implementations.</p>
</li>
<li>
<p>Asynchronous IO support.</p>
</li>
<li>
<p>Native timeout support.</p>
</li>
<li>
<p>Data descriptors for providing driver specific hints.</p>
</li>
<li>
<p>Modular driver stacks to maximize code reuse.</p>
</li>
<li>
<p>TCP, UDP, file, HTTP, telnet, mode E, GSI drivers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Deprecated Features</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GSSAPI_FTP driver now distributed with the GridFTP Server</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="xio-platforms">Tested platforms</h3>
<div class="paragraph">
<p>Tested Platforms for XIO:</p>
</div>
<table id="tested-platforms" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Tested Platforms</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operating System</th>
<th class="tableblock halign-left valign-top">Distribution</th>
<th class="tableblock halign-left valign-top">Version(s)</th>
<th class="tableblock halign-left valign-top">Architecture(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="10"><p class="tableblock">Linux</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">CentOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5, 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fedora</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20, 21, 22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Red Hat Enterprise Linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5, 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Scientific Linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5, 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUSE Linux Enterprise Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11SP3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debian</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6, 7, 8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, amd64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.04LTS, 14.04LTS, 14.10, 15.04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, amd64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Mac OS X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6-10.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solaris</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OmniOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r151006</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Windows 7</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Cygwin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">MingW64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="xio-compatibility">Backward compatibility summary</h3>
<div class="paragraph">
<p>Protocol changes since GT version 5.2</p>
</div>
<div class="ulist">
<ul>
<li>
<p>None.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>API changes since GT version 5.2</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>globus_xio_stack_copy</code> added to the API. This allows a user to duplicated a configured stack.</p>
</li>
<li>
<p><code>globus_xio_driver_set_eof_received</code> added to the driver API. This function allows drivers to have multiple outstanding reads at one time.</p>
</li>
<li>
<p><code>globus_xio_driver_eof_received</code> added to the driver API. Working in conjunction with <code>globus_xio_driver_set_eof_received</code> to allow drivers to have multiple outstanding reads.</p>
</li>
<li>
<p>Users can now pass in a NULL callback for timeouts and it is assumed that when time expires the user wants the operation to timeout. Previously a user callback was required where the user would decide if they wanted the timeout.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="xio-dependencies">Technology dependencies</h3>
<div class="paragraph">
<p>XIO depends on the following GCT components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Globus Core</p>
</li>
<li>
<p>Globus Common</p>
</li>
<li>
<p>Globus GSSAPI</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="xio-security-considerations">Security considerations for XIO</h3>
<div class="paragraph">
<p>Globus XIO is a framework for creating network protocols. Several
existing protocols, such as TCP, come built into the framework. XIO
itself introduces no known security risks. However, all network
applications expose systems to the risks inherent when outsiders can
connect to them. Also included in the XIO distribution is the GSI
driver, which provides a driver that allows for secure connections.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="x-xio-user-quick-start">Using the Globus XIO API for IO operations within C programs</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="x-xio-user-quick-start-Introduction-quick">Introduction</h3>
<div class="paragraph">
<p>This Guide explains how to use the Globus XIO API for IO operations
within C programs. Since Globus XIO is a simple API it is pretty
straight forward. The best way to become familiar with it is by looking
at an example. See <a href="../globus_xio_example.c">globus_xio_example.c</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-user-quick-start-ActivateGlobus">Activate the Globus XIO Module</h3>
<div class="paragraph">
<p>Let&#8217;s examine the case where a user wishes to use Globus XIO for reading
data from a file. As in all globus programs the first thing that must be
done is to activate the globus module. Until activated no globus_xio
function calls can be successfully executed. It is activated with the
following line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    globus_module_activate(GLOBUS_XIO_MODULE);</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-user-quick-start-LoadDriver">Load Driver</h3>
<div class="paragraph">
<p>Let&#8217;s examine the case where a user wishes to use Globus XIO for reading
data. The next step is to load all the drivers needed to complete the IO
operations in which you are interested. The function
globus_xio_load_driver() is used to load a driver. In order to
successfully call this function you must know the name of all the
drivers you wish to load. For this example we only want to load the file
IO driver. The prepackaged file IO driver&#8217;s name is: "file". This driver
would be loaded with the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    globus_result_t                     res;
    globus_xio_driver_t                 driver;

    res = globus_xio_driver_load(&amp;driver, "file");</pre>
</div>
</div>
<div class="paragraph">
<p>If upon completion of the above function call <code>res</code> returns
GLOBUS_SUCCESS then the driver was successfully loaded and can be
referenced with the variable "driver".</p>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-user-quick-start-CreateStack">Create Stack</h3>
<div class="paragraph">
<p>Now that globus_xio is activated and we have a driver loaded we need to
build a driver stack. In our example the stack is very simple as it
consists of only one driver, the file driver. The stack is established
with the following code (building off of the above code snippets):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    globus_xio_stack_t              stack;

    globus_xio_stack_init(&amp;stack);
    globus_xio_stack_push_driver(stack, driver);</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-user-quick-start-OpeningHandle">Opening Handle</h3>
<div class="paragraph">
<p>Now that the stack is created we can open a handle to the file. There
are two ways that a handle can be opened. The first is a passive open.
An example of this is a TCP listener. The open is performed passively by
waiting for some other entity to act upon it. The second is an active
open. An active open is the opposite of a passive open. The TCP counter
example for this is a connect. The users initiates the open. In our
example we shall be performing an active open.</p>
</div>
<div class="paragraph">
<p>Before opening a handle it must be initialized. The following
illustrates initialization for client side handles:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    globus_xio_handle_t             handle;

    res = globus_xio_handle_create(&amp;handle, stack);</pre>
</div>
</div>
<div class="paragraph">
<p>Server side handles are a bit more complicated. First we must introduce
the data structure <code>globus_xio_server_t</code>. This structure shares many
concepts with a TCP listener, mainly that it spawns handles
("connections") as passive open requests are made. If the user wishes to
accept a new connection a call to globus_xio_accept() or
globus_xio_register_accept() will initialize a new handle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    globus_xio_server_t         server;
    globus_xio_handle_t         handle;
    globus_result_t             res;

    res = globus_xio_server_create(&amp;server_handle, NULL, stack);
    res = globus_xio_server_accept(&amp;handle, server);</pre>
</div>
</div>
<div class="paragraph">
<p>Once the handle is initialized it should be opened in order to perform
read and write operations upon it. It the handle is a client then a
"contact string" is required. This string represents the target that the
user wishes to open:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    globus_xio_attr_t           attr;
    char *                      contact_string = "file:/etc/groups";

    globus_xio_attr_init(&amp;attr);
    globus_xio_open(xio_handle, contact_string, attr);
    globus_xio_attr_destroy(attr);</pre>
</div>
</div>
<div class="paragraph">
<p>note: attrs can be used to color the behaviors of a handle. For a
conceptual understanding, they are not important and a user is free to
simple pass NULL wherever an attr is required.</p>
</div>
<div class="paragraph">
<p>Now that we have an open handle to a file we can read or write data to
it with either globus_xio_read() or globus_xio_write(). Once we are
finished performing IO operations on the handle globus_xio_close(handle)
should be called.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-user-quick-start-PayOff">Pay Off</h3>
<div class="paragraph">
<p>This may seem like quite a bit of effort for simple reading a file, and
it is. However the advantages become clear when exploring the swapping
of other drivers. In the above example it would be trivial to change the
IO operations from file IO to TCP, or HTTP, or ftp. All the the user
would need to do is change the driver name string passed to
globus_xio_load_driver() and the contact string passed to
globus_xio_target_init(). This can easily be done at runtime, as the
program <a href="../globus_xio_example.c">globus_xio_example.c</a> demonstrates.</p>
</div>
<div class="paragraph">
<p>So the little program <a href="../globus_xio_example.c">globus_xio_example.c</a>
has the ability to be any reading client or server (HTTP, ftp, TCP,
file, etc) as long as the proper drivers are in the LD_LIBRARY_PATH.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="x-xio-driver-quick-start">Driver Quick Start</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="x-xio-driver-quick-start-Introduction-quick">Introduction</h3>
<div class="paragraph">
<p>This Guide explains how to create a transport driver for Globus XIO. For
the purpose of exploring both what a transform driver is and how to
write one this guide will walk through an example driver. The full
source code for the driver can be found at
<a href="../globus_xio_driver_example.c">Driver Example</a>. This example
implements a file driver for globus_xio. If a user of globus_xio were to
put this file at the bottom of the stack, they could access files on the
local file system.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-dataStructure">Data Structures</h3>
<div class="paragraph">
<p>There are three data structures that will be explored in this example:
attribute, target, and handle. The driver defines the memory layout of
these data structures but the globus_xio framework imposes certain
semantics upon them. It is up to the driver how to use them, but
globus_xio will be expecting certain behaviors.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-attributes">Attributes</h3>
<div class="paragraph">
<p>Each driver may have its own attribute structure. The attribute gives
the globus_xio user API an opportunity to tweak parameters inside the
driver. The single attribute structure is used for all possible driver
specific attributes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Target attributes</p>
</li>
<li>
<p>Handle attributes</p>
</li>
<li>
<p>Server attributes</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>How each of these can use the attribute structure will be unveiled as
the tutorial continues. For now it is simply important to remember there
is attribute structure used to initiate of the driver ADTs.</p>
</div>
<div class="paragraph">
<p>A driver is not required to have an attribute support at all. However if
the driver author chooses to support attributes the following functions
must be implemented:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>typedef globus_result_t
(*globus_xio_driver_attr_init_t)(
       void **                          out_attr);

typedef globus_result_t
(*globus_xio_driver_attr_cntl_t)(
       void *                           attr,
       int                              cmd,
       va_list                          ap);

typedef globus_result_t
(*globus_xio_driver_attr_copy_t)(
       void **                          dst,
       void *                           src);

typedef globus_result_t
(*globus_xio_driver_attr_destroy_t)(
       void *                           attr);</pre>
</div>
</div>
<div class="paragraph">
<p>See
<a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fxio%5f%5fgridftp%5f%5fdriver.html">driver
API doc</a> for more information.</p>
</div>
<div class="paragraph">
<p>We shall now take our first look at the file
<a href="../globus_xio_driver_example.c">Driver Example</a>. The file driver
needs a way to provide the user level programmer with a means of setting
the mode and flags when a file is open (akin to the POSIX function
<code>open()</code>).</p>
</div>
<div class="paragraph">
<p>The first step in creating this ability is to a) define the attribute
structure and b) implement the<code> globus_xio_driver_attr_init_t</code>
function which will initialize it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/*
 *  attribute structure
 */
struct globus_l_xio_file_attr_s
{
    int                                 mode;
    int                                 flags;
}

globus_result_t
globus_xio_driver_file_attr_init(
    void **                             out_attr)
{
    struct globus_l_xio_file_attr_s *   file_attr;

    /*
     *  create a file attr structure and initialize its values
     */
    file_attr = malloc(sizeof(struct globus_l_xio_file_attr_s));

    file_attr-&gt;flags = O_CREAT;
    file_attr-&gt;mode = S_IRWXU;

    /* set the out parameter to the driver attr */
    *out_attr = file_attr;

    return GLOBUS_SUCCESS;
}</pre>
</div>
</div>
<div class="paragraph">
<p>The above simply defines a structure that can hold two integers, mode
and flags, then defines a function the will allocate and initialize this
structure. <code>globus_xio</code> hides much of the memory management of these
attribute structures from the driver. However, it does need the driver
to provide a means of copying them, and free all resources associated
with them. In the case of the file driver example, these are both
simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus_result_t
globus_xio_driver_file_attr_copy(
        void **                         dst,
        void *                          src)
{
        struct globus_l_xio_file_attr_s *file_attr;

        file_attr = malloc(sizeof(struct globus_l_xio_file_attr_s));

        memcpy(file_attr, src, sizeof(struct globus_l_xio_file_attr_s));

        *dst = file_attr;

        return GLOBUS_SUCCESS;
}

globus_result_t
globus_xio_driver_file_attr_destroy(
        void *                          attr)
{
        free(attr);

        return GLOBUS_SUCCESS;
}</pre>
</div>
</div>
<div class="paragraph">
<p>The above code should be fairly clear. Obviously we need a method with
which the user can set flags and mode. This is accomplished with the
following interface function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus_result_t
globus_xio_driver_file_attr_cntl(
        void *                          attr,
        int                             cmd,
        va_list                         ap)
{
        struct globus_l_xio_file_attr_s *file_attr;
        int *                           out_i;

        file_attr = attr;
        switch(cmd)
        {
                case GLOBUS_XIO_FILE_SET_MODE:
                        file_attr-&gt;mode = va_arg(ap, int);
                        break;

                case GLOBUS_XIO_FILE_GET_MODE:
                        out_i = va_arg(ap, int *);
                        *out_i = file_attr-&gt;mode;
                        break;

                case GLOBUS_XIO_FILE_SET_FLAGS:
                        file_attr-&gt;flags = va_arg(ap, int);
                        break;

                case GLOBUS_XIO_FILE_GET_FLAGS:
                        out_i = va_arg(ap, int *);
                        *out_i = file_attr-&gt;flags;
                        break;

                default:
                        return FILE_DRIVER_ERROR_COMMAND_NOT_FOUND;
                        break;
        }

        return GLOBUS_SUCCESS;
}</pre>
</div>
</div>
<div class="paragraph">
<p>This function is called passing the driver an <code>initialized file_attr</code>
structure, a command, and a variable argument list.</p>
</div>
<div class="paragraph">
<p>Based on the value of <code>cmd</code>, the driver decides to do one of the
following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>set flags or mode from the <code>va_args</code></p>
</li>
<li>
<p>return flags or mode to the user via a pointer in <code>va_args</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-target">Target</h3>
<div class="paragraph">
<p>A target structure represents what a driver will open. It is initialized
from a contact string and an attribute. In the case of a file driver,
the target simply holds onto the contact string as a path to the file.</p>
</div>
<div class="paragraph">
<p>The file driver implements the following target functions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus_result_t
globus_xio_driver_file_target_init(
        void **                         out_target,
        void *                          target_attr,
        const char *                    contact_string,
        globus_xio_driver_stack_t       stack)
{
        struct globus_l_xio_file_target_s *target;

        /* create the target structure and copy the contact string into it */
        target = malloc(sizeof(struct globus_l_xio_file_target_s));
        strncpy(target-&gt;pathname, contact_string, sizeof(target-&gt;pathname) - 1);
        target-&gt;pathname[sizeof(target-&gt;pathname) - 1] = '\0';

        return GLOBUS_SUCCESS;
}

/*
 *  destroy the target structure
 */
globus_result_t
globus_xio_driver_file_target_destroy(
        void *                          target)
{
        free(target);

        return GLOBUS_SUCCESS;
}</pre>
</div>
</div>
<div class="paragraph">
<p>The above function handles the creation and destruction of the file
driver&#8217;s target structure.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>When the target is created, the contact string is copied into it. It is invalid to just copy the pointer to the contact string. As soon as this interface function returns, that pointer is no longer valid.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-handle">Handle</h3>
<div class="paragraph">
<p>The most interesting of the three data types discussed here is the
handle. All typical IO operations (open, close, read, write) are
performed on the handle. The handle is the initialized form of the
target and an attr. The driver developer should use this ADT to keep
track of any state information they will need in order to perform reads
and writes.</p>
</div>
<div class="paragraph">
<p>In the example case, the driver handle is fairly simple as the driver is
merely a wrapper around POSIX calls:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>struct globus_l_xio_file_handle_s
{
    int                                 fd;
};</pre>
</div>
</div>
<div class="paragraph">
<p>The reader should review the following functions in
<a href="../globus_xio_driver_example.c">Driver Example</a> in order to see how
the handle structure is used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>globus_xio_driver_file_open()</code></p>
</li>
<li>
<p><code>globus_xio_driver_file_write()</code></p>
</li>
<li>
<p><code>globus_xio_driver_file_read()</code></p>
</li>
<li>
<p><code>globus_xio_driver_file_close()</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-IO-Operations">IO Operations</h3>
<div class="paragraph">
<p>The read and write interface functions are called in response to a user
read or write request. Both functions are provided with a vector that
has at least the same members as the <code>struct iovec</code> and a vector
length. As of now, the iovec elements may contain extra members, so if
you wish to use <code>readv()</code> or <code>writev()</code>, you will have to transfer
the <code>iov_base</code> and <code>iov_len</code> members to the POSIX iovec.</p>
</div>
<div class="paragraph">
<p>As with the open and close interface functions, if an error occurs
before any real processing has occurred, the interface function may
simply return the error (in a <code>result_t</code>), effectively canceling the
operation. However, once bytes have been read or written, you must not
return the error. You must report the number of bytes read/written along
with the result.</p>
</div>
<div class="paragraph">
<p>When an operation is done, either by error or successful completion, the
operation must be <em>finished</em>. To do this, a call must be made to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus_result_t
globus_xio_driver_finished_read/write(
    globus_xio_driver_operation_t       op,
    globus_result_t                     res,
    globus_ssize_t                      nbytes);</pre>
</div>
</div>
<div class="sect3">
<h4 id="x-xio-driver-quick-start-calls">Blocking vs Non-blocking Calls</h4>
<div class="paragraph">
<p>In general, the driver developer does not need to concern himself with
how the user made the call. Whether it was a blocking or an asynchronous
call, XIO will handle things correctly.</p>
</div>
<div class="paragraph">
<p>However the call was made, the driver developer can call
globus_xio_driver_finished_{open, read, write, close} either while in
the original interface call, in a separate thread, or in a separate
callback kick out via the globus_callback API.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-glue">The Glue</h3>
<div class="paragraph">
<p>Through a process not finalized yet, XIO will request the
<code>globus_xio_driver_t</code> structure from the driver. This structure
defines all of the interface functions that the driver supports. In
detail:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/*
 *  main io interface functions
 */
globus_xio_driver_open_t                open_func;
globus_xio_driver_close_t               close_func;
globus_xio_driver_read_t                read_func;
globus_xio_driver_write_t               write_func;
globus_xio_driver_handle_cntl_t         handle_cntl_func;

globus_xio_driver_target_init_t         target_init_func;
globus_xio_driver_target_destroy_t      target_destroy_finc;

/*
 * target init functions.  Must have client or server
 */
globus_xio_driver_server_init_t         server_init_func;
globus_xio_driver_server_accept_t       server_accept_func;
globus_xio_driver_server_destroy_t      server_destroy_func;
globus_xio_driver_server_cntl_t         server_cntl_func;

/*
 *  driver attr functions.  All or none may be NULL
 */
globus_xio_driver_attr_init_t           attr_init_func;
globus_xio_driver_attr_copy_t           attr_copy_func;
globus_xio_driver_attr_cntl_t           attr_cntl_func;
globus_xio_driver_attr_destroy_t        attr_destroy_func;

/*
 *  data descriptor functions.  All or none
 */
globus_xio_driver_data_descriptor_init_t            dd_init;
globus_xio_driver_driver_data_descriptor_copy_t     dd_copy;
globus_xio_driver_driver_data_descriptor_destroy_t  dd_destroy;
globus_xio_driver_driver_data_descriptor_cntl_t     dd_cntl;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-developer-tutorials">Tutorials</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="../xio.ppt">PowerPoint Tutorial</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-developer-archdes">Architecture and design overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="x-xio-driver-quick-start-Introduction-arch">Introduction</h3>
<div class="paragraph">
<p>This document shall explain the external view of the Globus XIO
architecture. Globus XIO is broken down into two main components,
framework and drivers. The following picture illustrates the
architecture:</p>
</div>
<div id="xio_arch" class="openblock">
<div class="title">XIO Architecture</div>
<div class="content">
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="xio_arch.jpg" alt="xio arch">
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-Framework">Framework</h3>
<div class="paragraph">
<p>The Globus XIO framework manages IO operation requests that an
application makes via the user API. The framework does no work to
deliver the data in an IO operation nor does it manipulate the data. All
of that work is done by the drivers. The framework&#8217;s job is to manage
requests and map them to the drivers interface. It is the drivers
themselves that are responsible for manipulating and transporting the
data.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-Drivers">Drivers</h3>
<div class="paragraph">
<p>A driver is the component of Globus XIO that is responsible for
manipulating and transporting the users data. There are two types of
drivers, transform and transport. Transform drivers are those that
manipulate the data buffers passed to it via the user API and the XIO
framework. Transport drivers are those that are capable of sending the
data over a wire.</p>
</div>
<div class="paragraph">
<p>Drivers are grouped into stacks, that is, one driver on top of another.
When an IO operation is requested the Globus XIO framework passes the
operation request to every driver in the order they are in the stack.
When the bottom level driver (the transport driver) finishes shipping
the data, it passes the data request back to the XIO framework. Globus
XIO will then deliver the request back up the stack in this manner until
it reaches the top, at which point the application will be notified that
there request is completed.</p>
</div>
<div class="paragraph">
<p>In a driver stack there can only be one transport driver. The reason for
this is that the transport driver is the one responsible for sending or
receiving the data. Once this type of operation is performed it makes no
sense to pass the request down the stack, as the data has just been
transfered. It is now time to pass the operation back up the stack.</p>
</div>
<div class="paragraph">
<p>There can be many transform drivers in any given driver stack. A
transform driver is one that can manipulate the requested operations as
they pass. Some good examples of transform drivers are security wrappers
and compression. However, a transport driver can also be one that adds
additional protocol. For example a stack could consist of a TCP
transport driver and an HTTP transform driver. The HTTP driver would be
responsible for marshaling the HTTP protocol and the TCP driver would be
responsible for shipping that protocol over the wire.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-Example">Example</h3>
<div class="paragraph">
<p>In the following picture we illustrate a user application using Globus
XIO to speak the GridFTP protocol across a TCP connection:</p>
</div>
<div id="xio_app" class="openblock">
<div class="title">XIO Application</div>
<div class="content">
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="xio_app.jpg" alt="xio app">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The user has built a stack consisting of one transform driver and one
transport driver. TCP is the transport driver in this stack, and as all
transport modules must be, it is at the bottom of the stack. Above TCP
is the GSI transform driver which performs necessary messaging to
authenticate a user and the integrity of the data.</p>
</div>
<div class="paragraph">
<p>The first thing the user application will do after building the stack is
call the XIO user API function globus_xio_open(). The Globus XIO
framework will create internal data structures for tracking this
operation and then pass the operation request to the GSI driver. The GSI
driver has nothing to do before the underlying stack has opened a handle
so it simply passes the request down the stack. The request is thereby
passed to the TCP driver. The TCP driver will then execute the socket
level transport code contained within it to establish a connection to
the given contact string.</p>
</div>
<div class="paragraph">
<p>Once the TCP connection has been established the TCP driver will notify
the XIO framework that it has completed its request and thereby the GSI
driver will be notified that the open operation it had previously passed
down the stack has now completed. At this point the GSI driver will
start the authentication processes (note that at this point the user
does not yet have an open handle). The GSI driver has an open handle and
upon it several sends and receives are performed to authenticate the
connection. If the GSI driver is not satisfied with the authentication
process it closes the handle it has to the stack below it and tells the
XIO framework that it has completed the open request with an error. If
it is satisfied it simply tells the XIO framework that it has completed
the open operation. The user is now notified that the open operation
completed, and if it was successful they now have an open handle.</p>
</div>
<div class="paragraph">
<p>Other operations work in much the same way. When a user posts a read the
read request is first delivered to the GSI driver. The GSI driver will
wrap the buffer and pass the modified buffer down the stack. The
framework will then deliver the write request with the newly modified
buffer to the TCP driver. The TCP driver will write the data across the
socket mapped to this handle. When it finishes it notifies the
framework, which notifies the GSI driver. The GSI driver has nothing
more to do so it notifies the framework that it is complete and the
framework then notifies the user.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-xio-driver-quick-start-Driver-Interface">Driver Interface</h3>
<div class="paragraph">
<p>There is a well defined interface to a driver. Drivers are modular
components with specific tasks. The purpose of drivers in the Globus XIO
library is extensibility. As more and more protocols are developed, more
and more drivers can be written to implement these protocols. As new
drivers are written they can be added to Globus XIO as either statically
linked libraries or dynamically loaded libraries. In the case of dynamic
loading it is not even necessary to recompile existing source code. Each
driver has a unique name according to the Globus XIO driver naming
convention. A program simply needs to be aware of this name (this can be
passed in via the command line) and the Globus XIO framework will be
responsible for loading the driver.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The above example is simplified for the purposes of understanding. There
are optimizations built into Globus XIO which alter the course of events
outlined above. However, conceptually the above is accurate.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-apis">XIO APIs</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_programming_model_overview">Programming Model Overview</h3>
<div class="paragraph">
<p>Globus XIO is based on an event based asynchronous programming model.
This model is described in great detail at:
<a href="#globus-async">Asynchronous Event Handling</a>. In short, with Globus
XIO, connections are opened and closed. While open, read and write
requests are posted with a callback function pointer given by the user.
When the event completes, the given callback is called.</p>
</div>
</div>
<div class="sect2">
<h3 id="_component_api">Component API</h3>
<div class="paragraph">
<p>You can find documentation of the XIO library at:</p>
</div>
<div class="paragraph">
<p><a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fxio.html">http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fxio.html</a></p>
</div>
<div class="paragraph">
<p>For information on the internationalization API, see
<a href="../../ccommonlib/pi/index.html#ccommonlib-apis">C Common Library APIs</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-developer-env">Environment Variable Interface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="xio-env-var">Environmental variables for XIO</h3>
<div class="paragraph">
<p>The vast majority of the environment variables that affect the Globus
XIO framework are defined by the driver in use. The following are links
to descriptions of the more common driver environment variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fxio%5f%5ftcp%5f%5fdriver%5f%5fenvs.html">TCP Driver Environment Variables</a></p>
</li>
<li>
<p><a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fxio%5f%5ffile%5f%5fdriver%5f%5fenvs.html">File Driver Environment Variables</a></p>
</li>
<li>
<p><a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fxio%5f%5fgsi%5f%5fdriver.html#globus%5fxio%5fgsi%5fdriver%5fenvs%5fsect">GSI Driver Environment Variables</a></p>
</li>
<li>
<p><a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fxio%5f%5fudp%5f%5fdriver%5f%5fenvs.html">UDP Driver Environment Variables</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-developer-debugging">Debugging</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>All standard C debugging techniques apply to debugging XIO applications.
Also, Globus XIO provides users with some additional debugging
information. If the environment variable GLOBUS_XIO_DEBUG is set
debugging information will be written to a file or stdout. The
information generated is particularly useful to identify a suspect bug
in Globus XIO. GLOBUS_XIO_DEBUG is set in the following way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>GLOBUS_XIO_DEBUG="&lt;level&gt;  [,[[#]&lt;file name&gt;][,&lt;flag&gt;[,&lt;timestamp_levels&gt;]]"</pre>
</div>
</div>
<div class="paragraph">
<p>The value of <code>&lt;level&gt;</code> can take on the logical OR of any of the
following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GLOBUS_XIO_DEBUG_ERROR = 1</p>
</li>
<li>
<p>GLOBUS_XIO_DEBUG_WARNING = 2</p>
</li>
<li>
<p>GLOBUS_XIO_DEBUG_TRACE = 4</p>
</li>
<li>
<p>GLOBUS_XIO_DEBUG_INTERNAL_TRACE = 8</p>
</li>
<li>
<p>GLOBUS_XIO_DEBUG_INFO = 16</p>
</li>
<li>
<p>GLOBUS_XIO_DEBUG_STATE = 32</p>
</li>
<li>
<p>GLOBUS_XIO_DEBUG_INFO_VERBOSE = 64</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>&lt;file name&gt;</code> is a debug output file, if empty stderr will be used by
default. If a <em>#</em> precedes the filename, the file will be overwritten on
each run. Otherwise, the output will be appended to the existing file.</p>
</div>
<div class="paragraph">
<p><code>&lt;flags&gt;</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>0 = default</p>
</li>
<li>
<p>1 = show thread ids</p>
</li>
<li>
<p>2 = append the pid to debug filename</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-admin-troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_set_globus_location_correctly">Set GLOBUS_LOCATION correctly</h3>
<div class="ulist">
<ul>
<li>
<p>The environment variable <code>GLOBUS_LOCATION</code> must be set to a valid GCT 6.0 installation.</p>
</li>
<li>
<p>Various other environment variables must be set in order to easily use the GlobusXIO application. The proper environment can be established by running: <code>source $GLOBUS_LOCATION/etc/globus-user-env.sh</code> or <code>source $GLOBUS_LOCATION/etc/globus-user-env.csh</code> depending on the shell you are using.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="xio-error-codes">Errors</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. XIO Errors</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error Code</th>
<th class="tableblock halign-left valign-top">Definition</th>
<th class="tableblock halign-left valign-top">Possible Solutions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Operation was canceled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An I/O operation has been canceled by a close or a cancel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In most cases this will be intentionally performed by the
  application developer.  In unexpected cases the applciation
  developer should verify that there is not a race condition
  relating to closing a handle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Operation timed out</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Occurs when the application developer associates a timeout with
  a handle&#8217;s I/O operations.  If no I/O is performed before the
  timeout expires this error will be triggered.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The remote side of connection might be hung and busy.  The network
   could have higher latencies than expected.  The filesystem might
   be over worked.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>An end of file occurred</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This occurs when and EOF is detected on the file descriptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When doing file I/O this like means you read to the end of the file
  and thus you are finished and should now close it.  On network
  connections however it means the socket was closed on the remote
  end.  This can happen it the remote side suddenly dies (seg-fault
  is common here) or if the remote side chooses to close the connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Contact string invalid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A poorly formed contact string was passed in to open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the format of the contact string with the documentation of
  the drivers in use.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Memory allocation failed on XXXX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">malloc failed.  The system is likely quite overloaded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Free up memory in your application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> System error in XXXX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A low level system error occurred.  The errno and errstring should
    indicate more information.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Invalid stack</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requested stack does not meet XIO standards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Most likely a transport driver is not on the bottom of the stack,
  or 2 transport drivers are in the stack.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Operation already registered</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With certain common drivers like TCP and FILE, only one specific
  operations can be registered at a time (1 read, 1 write).  If
  another operation of the same type is posted to the handle before
  receiving the previous operations callback, this error can occur.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restructure the application code so that it waits for the callback
  before registering the next IO operation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Unexpected state</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The internal logic of XIO came across a logical path that should
  not be possible.  Often times this is due to application memory
  corruption or trying to perform an IO operation on a closed or
  otherwise invalid handle.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use valgrind or some sort of memory managment tool to verify there
  is no memory corruption.  Try to recreate the problem in a small
  program.  Submit the program and the memory trace to the
  <a href="http://jira.globus.org">Globus bug tracker</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Driver in handle has been unloaded</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A driver associated with the offending operation has already been
  unloaded by the application code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that you are not unloading drivers until they are no longer
  in use.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Module not activated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globus_module_activate(GLOBUS_XIO_MODULE); has not been called.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Call this before making any other XIO API calls.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-developer-relateddocs">Related Documentation</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="http://www-unix.mcs.anl.gov/~kettimut/xio/XIO%5fPerformance.pdf">Performance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xio-driver-addons">Appendix A: Add on</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="xio-drivers-addon-intro">Introduction</h3>
<div class="paragraph">
<p>Here we describe a GPT bundle of some useful GlobusXIO drivers. The
drivers are not packaged with the standard globus release because they
require external dependencies, or are otherwise best distributed in a
separate release. Here you can get each driver individually, or a bundle
of all the drivers.</p>
</div>
<div class="sect3">
<h4 id="xio-driver-udt_ref">UDT Reference Implementation Driver</h4>
<div class="paragraph">
<p>This driver uses the reference implementation of UDT provided at LINK
and the Globus XIO wrapblock feature to create a Globus XIO UDT driver.</p>
</div>
</div>
<div class="sect3">
<h4 id="xio-driver-token_bucket">Bandwidth Limiting Driver</h4>
<div class="paragraph">
<p>This is a bandwidth limiting driver. It allows the user to specify a
bandwidth cap for a given connection.</p>
</div>
<div class="paragraph">
<p>Features</p>
</div>
<div class="paragraph">
<p>*</p>
</div>
<div class="paragraph">
<p>String Options</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rate=</p>
</li>
<li>
<p>read_rate=</p>
</li>
<li>
<p>write_rate=</p>
</li>
<li>
<p>period=</p>
</li>
<li>
<p>read_period=</p>
</li>
<li>
<p>write_period=</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="xio-driver-popen">Pipe Open Driver</h4>
<div class="paragraph">
<p>This driver will run an executable program with pipes connecting STDIN
and STDOUT of the program to this Globus XIO driver. In this way buffers
are routed from Globus XIO to the executable. This driver is most
notably used with ssh for running remote programs over a secure link.</p>
</div>
<div class="paragraph">
<p>String Options</p>
</div>
<div class="ulist">
<ul>
<li>
<p>blocking=</p>
</li>
<li>
<p>pass_env=</p>
</li>
<li>
<p>argv=</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="xio-driver-bidi">Bidirectional Driver</h4>
<div class="paragraph">
<p>The BIDI driver, bi-directional driver allows a user to turn a
unidirectional pipe, into a bidirectional stream. It does this simply by
opening up 1 uni-directional pipe in each direction. By default it
assumes the use of the ModeE driver, but it can be configured to use any
driver.</p>
</div>
<div class="paragraph">
<p>Important attribute controls are listed here.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GLOBUS_XIO_BIDI_SET_READ_STACK</p>
</li>
<li>
<p>GLOBUS_XIO_BIDI_SET_WRITE_STACK</p>
</li>
<li>
<p>GLOBUS_XIO_BIDI_SET_READ_ATTR</p>
</li>
<li>
<p>GLOBUS_XIO_BIDI_SET_WRITE_ATTR</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="xio-driver-netlog">Netlogger Driver</h4>
<div class="paragraph">
<p>This driver observes IO events on a driver stack and uses netlogger to
log these events.</p>
</div>
<div class="paragraph">
<p>String Options</p>
</div>
<div class="ulist">
<ul>
<li>
<p>filename=</p>
</li>
<li>
<p>mask=</p>
</li>
<li>
<p>type=</p>
</li>
<li>
<p>id=</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="xio-driver-skeleton">Skeleton Driver</h4>
<div class="paragraph">
<p>This is a very simple driver to serve as an example and base for writing
additional drivers. It does nothing but pass operations along the stack</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>