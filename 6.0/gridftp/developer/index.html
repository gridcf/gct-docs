<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>GCT 6.0 GridFTP : Developer&#8217;s Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body id="gridftpDeveloper" class="book toc2 toc-left">
<div id="header">
<h1>GCT 6.0 GridFTP : Developer&#8217;s Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#gridftp-developer-beforeyoubegin">Before you begin</a>
<ul class="sectlevel2">
<li><a href="#gridftp-featuresummary">Feature Summary</a></li>
<li><a href="#gridftp-tested-platforms">Tested platforms</a></li>
<li><a href="#gridftp-backward-compatibility">Backward compatibility summary</a></li>
<li><a href="#gridftp-tech-dependencies">Technology dependencies</a></li>
</ul>
</li>
<li><a href="#gridftp-developer-scenarios">Usage Scenarios</a></li>
<li><a href="#gridftp-developer-tutorials">Tutorials</a></li>
<li><a href="#gridftp-developer-Spec">Command Specifications</a></li>
<li><a href="#gridftp-developer-archdes">Architecture and design overview</a>
<ul class="sectlevel2">
<li><a href="#_gridftp_listening">GridFTP Listening</a></li>
<li><a href="#_gridftp_transfer">GridFTP Transfer</a></li>
<li><a href="#_gridftp_server_and_dsis">GridFTP Server and DSIs</a></li>
<li><a href="#_latest_information_about_hpss">Latest information about HPSS</a></li>
<li><a href="#_latest_information_about_srb">Latest information about SRB</a></li>
</ul>
</li>
<li><a href="#gridftp-api-summary">API Summary</a>
<ul class="sectlevel2">
<li><a href="#_programming_model_overview">Programming Model Overview</a></li>
<li><a href="#_component_api">Component API</a></li>
</ul>
</li>
<li><a href="#gridftp-commandline">GridFTP Commands</a>
<ul class="sectlevel1">
<li><a href="#globus-url-copy">GLOBUS-URL-COPY(1)</a>
<ul class="sectlevel2">
<li><a href="#_name">NAME</a></li>
<li><a href="#globus-url-copy-SYNOPSIS">SYNOPSIS</a></li>
<li><a href="#globus-url-copy-DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#globus-url-copy-OPTIONS">OPTIONS</a></li>
<li><a href="#globus-url-copy-AUTHOR">AUTHOR</a></li>
</ul>
</li>
<li><a href="#globus-url-copy-interactiveclients">Interactive clients for GridFTP</a></li>
<li><a href="#gridftp-command-server">GLOBUS-GRIDFTP-SERVER(8)</a>
<ul class="sectlevel2">
<li><a href="#_name_2">NAME</a></li>
<li><a href="#_synopsis">SYNOPSIS</a></li>
<li><a href="#_description">DESCRIPTION</a></li>
<li><a href="#_options">OPTIONS</a></li>
<li><a href="#_exit_status">EXIT STATUS</a></li>
</ul>
</li>
<li><a href="#globus-gridftp-server-setup-chroot">GLOBUS-GRIDFTP-SERVER-SETUP-CHROOT(8)</a>
<ul class="sectlevel2">
<li><a href="#_name_3">NAME</a></li>
<li><a href="#_synopsis_2">SYNOPSIS</a></li>
<li><a href="#_description_2">DESCRIPTION</a></li>
<li><a href="#_options_2">OPTIONS</a></li>
<li><a href="#_exit_status_2">EXIT STATUS</a></li>
<li><a href="#_author">AUTHOR</a></li>
<li><a href="#_see_also">SEE ALSO</a></li>
</ul>
</li>
<li><a href="#gridftp-guis">Graphical User Interface</a>
<ul class="sectlevel2">
<li><a href="#_globus_online">Globus Online</a></li>
</ul>
</li>
<li><a href="#gridftp-configuring">Configuring GridFTP</a>
<ul class="sectlevel2">
<li><a href="#gridftp-config-overview">GridFTP server configuration overview</a></li>
<li><a href="#gridftp-config-types">Typical configuration</a></li>
<li><a href="#gridftp-config-security-firewalls">Firewall requirements</a></li>
<li><a href="#gridftp-admin-config-security">Configuring Security for GridFTP</a></li>
<li><a href="#_strong_code_globus_gridftp_server_code_strong_quickstart"><strong><code>globus-gridftp-server</code></strong> quickstart</a></li>
<li><a href="#_enabling_file_sharing_with_globus_sharing_service">Enabling File Sharing with Globus Sharing Service</a></li>
</ul>
</li>
<li><a href="#gridftp-developer-env-var">Environment variable interface</a>
<ul class="sectlevel2">
<li><a href="#gridftp-env-var">Environment variables for GridFTP</a></li>
</ul>
</li>
<li><a href="#gridftp-developer-debugging">Debugging</a></li>
<li><a href="#gridftp-troubleshooting">Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#gridftp-error-codes">Error Codes in GridFTP</a></li>
<li><a href="#_establish_control_channel_connection">Establish control channel connection</a></li>
<li><a href="#_try_running_globus_url_copy">Try running globus-url-copy</a></li>
<li><a href="#_if_your_server_starts">If your server starts&#8230;&#8203;</a></li>
<li><a href="#gridftp-troubleshooting-latency">High latency for GridFTP server connections</a></li>
</ul>
</li>
<li><a href="#gridftp-developer-relateddocs">Related Documentation</a></li>
<li><a href="#gridftp-developer-dcsc-spec">DCSC Specification</a>
<ul class="sectlevel2">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_dcsc_command">DCSC Command</a></li>
<li><a href="#dcsc-p">DCSC P</a></li>
<li><a href="#_dcsc_d">DCSC D</a></li>
<li><a href="#_security_considerations">Security Considerations</a></li>
</ul>
</li>
<li><a href="#gridftp-developer-dsi">Developing DSIs for GridFTP</a>
<ul class="sectlevel2">
<li><a href="#_dsi_interface">DSI Interface</a></li>
<li><a href="#_dsi_utility_api">DSI utility API</a></li>
<li><a href="#_implementation">Implementation</a></li>
<li><a href="#_dsi_bones">DSI Bones</a></li>
</ul>
</li>
<li><a href="#gridftp-developer-multicast-driver">GridFTP Multicast</a>
<ul class="sectlevel2">
<li><a href="#_architecture">Architecture</a></li>
<li><a href="#_globus_xio">Globus XIO</a></li>
<li><a href="#gridftp-multicast-networkoverlay-arch">Network Overlay</a></li>
<li><a href="#_results">Results</a></li>
<li><a href="#_protocol_details">Protocol Details</a></li>
<li><a href="#_usage">Usage</a></li>
<li><a href="#gridftp-developer-index">Index</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Grid Community Toolkit documentation was taken from the Globus Toolkit 6.0 documentation.
As a result, there may be inaccuracies and outdated information.
Please report any problems to the Grid Community Forums as <a href="https://github.com/gridcf/gct-docs/issues">GitHub issues</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="../../index.html">GCT</a> &#8594; <a href="../index.html">GridFTP</a> &#8594; GCT 6.0 GridFTP : Developer&#8217;s Guide</p>
</div>
<div class="openblock">
<div class="title">Introduction</div>
<div class="content">
<div class="paragraph">
<p>This guide contains information of interest to developers working with
GridFTP. It provides reference information for application developers,
including APIs, architecture, procedures for using the APIs and code
samples.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-beforeyoubegin">Before you begin</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="gridftp-featuresummary">Feature Summary</h3>
<div class="paragraph">
<p>Features new in GT 6.0:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Wider support for UDT</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Features that continue to be supported from previous versions</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Chrooting GridFTP server</p>
</li>
<li>
<p>Synchronize datasets</p>
</li>
<li>
<p>Improved failure restart capability in globus-url-copy</p>
</li>
<li>
<p>Stall detection</p>
</li>
<li>
<p>Load balancing in globus-url-copy</p>
</li>
<li>
<p>GridFTP over UDT</p>
</li>
<li>
<p>SSH security for GridFTP control channel</p>
</li>
<li>
<p>Running the GridFTP server with GFork GridFTP</p>
</li>
<li>
<p>Multicasting / Network overlays (EXPERIMENTAL)</p>
</li>
<li>
<p>Netlogger&#8217;s bottleneck detection for GridFTP transfers (EXPERIMENTAL)</p>
</li>
<li>
<p>GSI security: This is the PKI based, de facto standard security system used in Grid applications. Kerberos is also possible but is not supported and can be difficult to use due to divergence in the capabilities of GSI and Kerberos.</p>
</li>
<li>
<p>Third-party transfers: Very common in Grid applications, this is where a client mediates a transfer between two servers (both likely at remote sites) rather than between the server and itself (called a client/server
transfer).</p>
</li>
<li>
<p>Cluster-to-cluster data movement or Striping: GridFTP can do coordinated data transfer by using multiple computer nodes at the source and destination.</p>
</li>
<li>
<p>Partial file access: Regions of a file may be accessed by specifying an offset into the file and the length of the block desired.</p>
</li>
<li>
<p>Reliability/restart: The receiving server periodically (the default is 5 seconds, but this can be changed) sends <strong>restart markers</strong> to the client. This marker is a messages specifying what bytes have been successfully written to the disk. If the transfer fails, the client may restart the transfer and provide these markers (or an aggregated equivalent marker), and the transfer will pick up where it left off. This can include holes in the file.</p>
</li>
<li>
<p>Large file support: All file sizes, lengths, and offsets are 64 bits in length.</p>
</li>
<li>
<p>Data channel reuse: Data channel can be held open and reused if the next transfer has the same source, destination, and credentials. This saves the time of connection establishment, authentication, and delegation. This can be a huge performance difference when moving lots of small files.</p>
</li>
<li>
<p>Integrated instrumentation (Performance Markers).</p>
</li>
<li>
<p>Logging/audit trail (Extensive Logging in the server).</p>
</li>
<li>
<p>Parallel transfers (Multiple TCP streams between a pair of hosts).</p>
</li>
<li>
<p>TCP Buffer size control (Protocol supports Manual and Automatic; Only Manual Implemented).</p>
</li>
<li>
<p>Server-side computation (Extended Retrieve (ERET) / Extended Store (ESTO) commands).</p>
</li>
<li>
<p>Based on Standards: RFC 959, RFC 2228, RFC 2389, IETF Draft MLST-16 , GGF GFD.020.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Other Supported Features</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On the client side we provide a scriptable tool called globus-url-copy. This tool can take advantage of all the GridFTP protocol features and can also do protocol translation between FTP, HTTP, HTTPS, and POSIX file IO on the client machine.</p>
</li>
<li>
<p>We also provide a set of development libraries and APIs for developers wishing to add GridFTP functionality to their application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Deprecated Features</p>
</div>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-tested-platforms">Tested platforms</h3>
<table id="tested-platforms" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Tested Platforms</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operating System</th>
<th class="tableblock halign-left valign-top">Distribution</th>
<th class="tableblock halign-left valign-top">Version(s)</th>
<th class="tableblock halign-left valign-top">Architecture(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="10"><p class="tableblock">Linux</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">CentOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5, 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fedora</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20, 21, 22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Red Hat Enterprise Linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5, 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Scientific Linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5, 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUSE Linux Enterprise Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11SP3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debian</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6, 7, 8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, amd64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.04LTS, 14.04LTS, 14.10, 15.04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, amd64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Mac OS X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6-10.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solaris</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OmniOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r151006</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Windows 7</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Cygwin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">MingW64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i386, x86_64</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While the above list includes platforms on which we have tested GridFTP,
it does not imply support for a specific platform. However, we are
interested in hearing reports of success or bug reports on any platform.</p>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-backward-compatibility">Backward compatibility summary</h3>
<div class="paragraph">
<p>Protocol changes since GT 5.2</p>
</div>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>API changes since GT 5.2</p>
</div>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Exception changes since GT 5.2</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Not Applicable (GridFTP is not Java-based)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Schema changes since GT 5.2</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Not Applicable (GridFTP is not SOAP-based)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-tech-dependencies">Technology dependencies</h3>
<div class="paragraph">
<p>GridFTP depends on the following GCT components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Non-WS (General) Authentication &amp; Authorization</p>
</li>
<li>
<p>C Common Libraries</p>
</li>
<li>
<p>XIO</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GridFTP depends on the following 3rd party software:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OpenSSL (version is included in release)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-scenarios">Usage Scenarios</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Do you have a need to move large quantities of data rapidly and reliably
to remote locations? Globus GridFTP is a software suite optimized for
the gamut of data access issues — from bulk file transfer to the details
of getting data out of complex storage systems within sites.</p>
</div>
<div class="paragraph">
<p>Are you concerned about authenticating and authorizing the users? Globus
GridFTP supports various authentication and authorization mechanisms. In
fact, it is easy to plugin in different authorization mechanism.</p>
</div>
<div class="paragraph">
<p>Do you need to move data in and out of a complex storage systems? In
addition to the POSIX file systems, Globus GridFTP can move data in and
out of HPSS and SRB. Capability to access other storage systems can be
easily added by implementing a well-defined pluggable interface called
Data Storage Interface (DSI).</p>
</div>
<div class="paragraph">
<p>Do you need transfer huge volume of data and you do not want to babysit
the transfer? Use the GridFTP client <em>Reliable File Transfer Service</em>.</p>
</div>
<div class="paragraph">
<p>Do you need to protect the data while moving it to the remote location?
Globus GridFTP provides support for data integrity and data encryption.</p>
</div>
<div class="paragraph">
<p>Do you need move your data to remote location that is far away and TCP
limits the performance? Globus GridFTP supports UDT as an alternate
transport protocol for UDT. GridFTP also allows you to use parallel TCP
streams.</p>
</div>
<div class="paragraph">
<p>Do you want to move data from one location to many locations
efficiently? Multicasting capability in Globus GridFTP allows you to do
it.</p>
</div>
<div class="paragraph">
<p>Do you have a network link between source and destination that supports
much higher data rate than the data rate supported by individual nodes
at either end? GridFTP supports cluster-to-cluster data movement –
coordinated data transfer using multiple computer nodes at source and
destination.</p>
</div>
<div class="paragraph">
<p>Do you want to limit the resources used for each client connection on
the server node? Globus GridFTP can be configured to run with GFork to
limit the resource usage. Customized resource control modules can be
plugged in easily.</p>
</div>
<div class="paragraph">
<p>Globus GridFTP has pervasive use in the e-Science Grid community. The
high energy physics community in particular has been a huge user from
the start. The Relativistic Heavy Ion Collider (RHIC) community in
Brookhaven used Globus GridFTP to sustain 600 megabytes per second of
data transfer (from Long Island, New York, to Japan) over 11 days.</p>
</div>
<div class="paragraph">
<p>Frequent large file transfer demands for the British Broadcasting
Corporation (BBC) are met by GridFTP. Typical broadcast hour today
requires 280 GB for all pre-processed media streams. "Everything in
Gridcast is built using Globus Toolkit," said Terry Harmer, Technical
Director at the Belfast e-Science Centre, in an interview
(<a href="http://www.globusconsortium.org/journal/20050816/harmer.html" class="bare">http://www.globusconsortium.org/journal/20050816/harmer.html</a>) in '05
with the Globus Consortium Journal. "We use it as a means by which we
create, define, and deploy services. We are big users of GridFTP."</p>
</div>
<div class="paragraph">
<p>Recently, US Department of Energy&#8217;s Advanced Photon Source user facility
at Argonne transferred more than a terabyte of data (partitioned into
lots of small files) to Australia using GridFTP at a rate 30 times
faster than traditional data transfer mechanisms such as SCP. The Laser
Interferometer Gravitational Wave Observatory (LIGO) project moved 1.5
Terabytes of data from University of Wisconsin at Milwaukee, USA to
Hannover, Germany at a sustained rate of 80 MB/s.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-tutorials">Tutorials</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>There is an online tutorial available at:
<a href="http://gridftp.globus.org/tutorials/">http://gridftp.globus.org/tutorials/</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-Spec">Command Specifications</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>GCT implemention of GridFTP is based on the following standards: RFC
959, RFC 2228, RFC 2389, IETF Draft MLST-16 , OGF GFD.020. In addition
to these standards, some additional commands are implemented as well.
The specification for one such command Data Channel Security Context
(DCSC) is available at <a href="#dcsc-spec">DCSC Specification</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-archdes">Architecture and design overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>GridFTP represents a service that a host is providing. Therefore, the
service must be listening on a port waiting for client to request access
to that service. This is generally handled one of two ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Either an application daemon is running listening for connections, or</p>
</li>
<li>
<p>inetd/xinetd is used.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gridftp_listening">GridFTP Listening</h3>
<div class="paragraph">
<p>The following list describes the process between the service listening
for connection and an exchange of data taking place:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>These services (application daemon or inetd/xinetd) listen for connections.</p>
</li>
<li>
<p>When a connection is received on a "well known" port such as 2811 for GridFTP, inetd does a fork/exec to start up a GridFTP server process and then does a Switch User (SU) so that the server is running in a user account rather than as root for security reasons. At this point, the client has established a control channel to the server.</p>
</li>
<li>
<p>The client will then send a series of commands to configure or describe the transfer that it wants to take place.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_gridftp_transfer">GridFTP Transfer</h3>
<div class="paragraph">
<p>There are basically four important components of the exchange:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The first is security. You must authenticate, and for GridFTP, you must establish encryption on the control channel. The control channel is encrypted by default, though it can be switched off (see the security section for more detail).</p>
</li>
<li>
<p>The second is setup and informational exchanges. The client may specify the type of the file (Binary or ASCII), the MODE of the transfer, he might request the size of a file before transferring it, etc..</p>
</li>
<li>
<p>Third, the information and negotiation for the data channel must be done. How this is handled, depends on whether you are doing a client/server transfer or third party transfer.</p>
</li>
<li>
<p>Finally, a store (STOR), retrieve (RETR), extended store (ESTO) or extended retrieve (ERET) to indicate direction of the transfer and to start data moving.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_gridftp_server_and_dsis">GridFTP Server and DSIs</h3>
<div class="sect3">
<h4 id="_gridftp_and_dsis">GridFTP and DSIs</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The following information is helpful if you want to use GridFTP to
access data in DSIs (such as HPSS and SRB), and non-POSIX data sources.</p>
</div>
<div class="paragraph">
<p>Architecturally, the Globus GridFTP server can be divided into 3
modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the GridFTP protocol module,</p>
</li>
<li>
<p>the (optional) data transform module, and</p>
</li>
<li>
<p>the Data Storage Interface (DSI).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the GCT 6.0 implementation, the data transform module and the DSI have
been merged, although we plan to have separate, chainable, data
transform modules in the future.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This architecture does NOT apply to the WU-FTPD implementation (GT3.2.1 and lower).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="gridftp-protocol">GridFTP Protocol Module</h5>
<div class="paragraph">
<p>The GridFTP protocol module is the module that reads and writes to the
network and implements the GridFTP protocol. This module should not need
to be modified since to do so would make the server non-protocol
compliant, and unable to communicate with other servers.</p>
</div>
</div>
<div class="sect4">
<h5 id="gridftp-data_transform">Data Transform Functionality</h5>
<div class="paragraph">
<p>The data transform functionality is invoked by using the ERET (extended
retrieve) and ESTO (extended store) commands. It is seldom used and
bears careful consideration before it is implemented, but in the right
circumstances can be very useful. In theory, any computation could be
invoked this way, but it was primarily intended for cases where some
simple pre-processing (such as a partial get or sub-sampling) can
greatly reduce the network load. The disadvantage to this is that you
remove any real option for planning, brokering, etc., and any
significant computation could adversely affect the data transfer
performance. Note that the client must also support the ESTO/ERET
functionality as well.</p>
</div>
</div>
<div class="sect4">
<h5 id="gridftp-dsi">Data Storage Interface (DSI) / Data Transform module</h5>
<div class="paragraph">
<p>The Data Storage Interface (DSI) / Data Transform module knows how to
read and write to the "local" storage system and can optionally
transform the data. We put local in quotes because in a complicated
storage system, the storage may not be directly attached, but for
performance reasons, it should be relatively close (for instance on the
same LAN).</p>
</div>
<div class="paragraph">
<p>The interface consists of functions to be implemented such as send
(get), receive (put), command (simple commands that simply succeed or
fail like mkdir), etc..</p>
</div>
<div class="paragraph">
<p>Once these functions have been implemented for a specific storage
system, a client should not need to know or care what is actually
providing the data. The server can either be configured specifically
with a specific DSI, i.e., it knows how to interact with a single class
of storage system, or one particularly useful function for the ESTO/ERET
functionality mentioned above is to load and configure a DSI on the fly.</p>
</div>
<div class="paragraph">
<p>See <a href="../../gridftp/developer/index.html#gridftp-developer-dsi">Developing
DSIs for GridFTP</a> for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_latest_information_about_hpss">Latest information about HPSS</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Last Update: August 2005</p>
</div>
<div class="paragraph">
<p>Working with Los Alamos National Laboratory and the High Performance
Storage System (HPSS) collaboration
(<a href="http://www.hpss-collaboration.org">http://www.hpss-collaboration.org</a>),
we have written a Data Storage Interface (DSI) for read/write access to
HPSS. This DSI would allow an existing application that uses a GridFTP
compliant client to utilize an HPSS data resources.</p>
</div>
<div class="paragraph">
<p>This DSI is currently in testing. Due to changes in the HPSS security
mechanisms, it requires HPSS 6.2 or later, which is due to be released
in Q4 2005. Distribution for the DSI has not been worked out yet, but it
will <strong>probably</strong> be available from both Globus and the HPSS
collaboration. While this code will be open source, it requires
underlying HPSS libraries which are NOT open source (proprietary).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This is a purely server side change, the client does not know what DSI is running, so only a site that is already running HPSS and wants to allow GridFTP access needs to worry about access to these proprietary libraries.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_latest_information_about_srb">Latest information about SRB</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Last Update: August 2005</p>
</div>
<div class="paragraph">
<p>Working with the SRB team at the San Diego Supercomputing Center, we
have written a Data Storage Interface (DSI) for read/write access to
data in the Storage Resource Broker (SRB)
(<a href="http://www.npaci.edu/DICE/SRB" class="bare">http://www.npaci.edu/DICE/SRB</a>). This DSI will enable GridFTP compliant
clients to read and write data to an SRB server, similar in
functionality to the sput/sget commands.</p>
</div>
<div class="paragraph">
<p>This DSI is currently in testing and is not yet publicly available, but
will be available from both the SRB web site (here) and the Globus web
site (here). It will also be included in the next stable release of the
toolkit. We are working on performance tests, but early results indicate
that for wide area network (WAN) transfers, the performance is
comparable.</p>
</div>
<div class="paragraph">
<p>When might you want to use this functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You have existing tools that use GridFTP clients and you want to access data that is in SRB</p>
</li>
<li>
<p>You have distributed data sets that have some of the data in SRB and some of the data available from GridFTP servers.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-api-summary">API Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="sect2">
<h3 id="_programming_model_overview">Programming Model Overview</h3>
<div class="paragraph">
<p>The Globus FTP Client library provides a convenient way of accessing
files on remote FTP servers. In addition to supporting the basic FTP
protocol, the FTP Client library supports several security and
performance extensions to make FTP more suitable for Grid applications.
These extensions are described in the
<a href="http://www.globus.org/alliance/publications/papers/GFD-R.0201.pdf">GridFTP
Protocol document</a>.</p>
</div>
<div class="paragraph">
<p>In addition to protocol support for grid applications, the FTP Client
library provides a
<a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fftp%5f%5fclient%5f%5fplugins.html">plugin
architecture</a> for installing application or grid-specific fault recovery
and performance tuning algorithms within the library. Application
writers may then target their code toward the FTP Client library and, by
simply enabling the appropriate plugins, easily tune their application
to run it on a different grid.</p>
</div>
<div class="paragraph">
<p>All applications which use the Globus FTP Client API must include the
header file <code>globus_ftp_client.h</code> and activate the  and activate the
<a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fftp%5f%5fclient%5f%5factivation.html">GLOBUS_FTP_CLIENT_MODULE</a>.</p>
</div>
<div class="paragraph">
<p>To use the Globus FTP Client API, one must create an
<a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fftp%5f%5fclient%5f%5fhandle.html">FTP
Client handle</a>. This structure contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>context information about FTP operations which are being executed,</p>
</li>
<li>
<p>a cache of FTP control and data connections, and</p>
</li>
<li>
<p>information about plugins which are being used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The specifics of the connection caching and plugins are found in the
"http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fftp%5f%5fclient%5f%5fhandleattr.html[Handle
Attributes]" section of the API documentation.</p>
</div>
<div class="paragraph">
<p>Once the handle is created, one may begin transferring files or doing
other FTP operations by calling the functions in the
"http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fftp%5f%5fclient%5f%5foperations.html[FTP
Operations]" section of the API documentation. In addition to whole-file
transfers, the API supports partial file transfers, restarting transfers
from a known point, and various FTP directory management commands. All
FTP operations may have a set of attributes, defined in the
operationattr section, associated with them to tune various FTP
parameters. The data structures and functions needed to restart a file
transfer are described in the
"http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fftp%5f%5fclient%5f%5frestart%5f%5fmarker.html[Restart
Markers]" section of the API documentation. For operations which require
the user to send to or receive data from an FTP server they must call
the functions described in the "globus_ftp_client_data" section of the
manual.</p>
</div>
<div class="paragraph">
<p>The globus_ftp_control library provides low-level services needed to
implement FTP clients and servers. The API provided is protocol
specific. The data transfer portion of this API provides support for the
standard data methods described in the FTP Specification as well as
extensions for parallel, striped, and partial data transfer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_component_api">Component API</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fftp%5f%5fclient%5f%5fapi.html">C Client Library API</a></p>
</li>
<li>
<p><a href="http://toolkit.globus.org/api/c-globus-6.0/group%5f%5fglobus%5f%5fftp%5f%5fcontrol.html">C Control Library API</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information on the internationalization API, see
<a href="../../ccommonlib/pi/index.html#ccommonlib-apis">C Common Libraries API</a>.</p>
</div>
</div>
</div>
</div>
<h1 id="gridftp-commandline" class="sect0">GridFTP Commands</h1>
<div class="sect1">
<h2 id="globus-url-copy">GLOBUS-URL-COPY(1)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_name">NAME</h3>
<div class="paragraph">
<p>
globus-url-copy - globus-url-copy</p>
</div>
</div>
<div class="sect2">
<h3 id="globus-url-copy-SYNOPSIS">SYNOPSIS</h3>
<div class="paragraph">
<p><strong>globus-url-copy</strong> [options] SOURCE-URL DESTINATION-URL</p>
</div>
</div>
<div class="sect2">
<h3 id="globus-url-copy-DESCRIPTION">DESCRIPTION</h3>
<div class="paragraph">
<p>The <strong>globus-url-copy</strong> program is a command line
tool for multi-protocol data movement. It supports gsiftp:// (GridFTP),
ftp://, http://, https://, sshftp:// and <a href="file:///" class="bare">file:///</a> protocol specifiers
in the URL.</p>
</div>
</div>
<div class="sect2">
<h3 id="globus-url-copy-OPTIONS">OPTIONS</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-help, -usage</strong></dt>
<dd>
<p>Print help.</p>
</dd>
<dt class="hdlist1"><strong>-versions</strong></dt>
<dd>
<p>Print the versions of all modules that this program uses</p>
</dd>
<dt class="hdlist1"><strong>-c, -continue-on-error</strong></dt>
<dd>
<p>Do not die after any errors.  By default, program will exit after most
errors.</p>
</dd>
<dt class="hdlist1"><strong>-a, -ascii</strong></dt>
<dd>
<p>Convert the file to/from ASCII format to/from local file format</p>
</dd>
<dt class="hdlist1"><strong>-b, -binary</strong></dt>
<dd>
<p>Do not apply any conversion to the files. <strong>default</strong></p>
</dd>
<dt class="hdlist1"><strong>-f FILENAME</strong></dt>
<dd>
<p>Read a list of URL pairs from filename.  Each line should contain
sourceURL destURL. Enclose URLs with spaces in double qoutes (").
Blank lines and lines beginning with # will be ignored.</p>
</dd>
<dt class="hdlist1"><strong>-cd, -create-dest</strong></dt>
<dd>
<p>Create destination directory if needed.</p>
</dd>
<dt class="hdlist1"><strong>-r</strong></dt>
<dd>
<p>Copy files in subdirectories</p>
</dd>
<dt class="hdlist1"><strong>-fast</strong></dt>
<dd>
<p>Recommended when using GridFTP servers. Use MODE E for all data transfers,
including reusing data channels between list and transfer
operations.</p>
</dd>
<dt class="hdlist1"><strong>-t SECONDS</strong></dt>
<dd>
<p>Run the transfer for this number of seconds and then end. Useful for
performance testing or forced restart loops.</p>
</dd>
<dt class="hdlist1"><strong>-q, -quiet</strong></dt>
<dd>
<p>Suppress all output for successful operation.</p>
</dd>
<dt class="hdlist1"><strong>-v, -verbose</strong></dt>
<dd>
<p>Display URLs being transferred</p>
</dd>
<dt class="hdlist1"><strong>-vb, -verbose-perf</strong></dt>
<dd>
<p>During the transfer, display the number of bytes transferred and the
transfer rate per second. Show URLs being transferred</p>
</dd>
<dt class="hdlist1"><strong>-dbg, -debugftp</strong></dt>
<dd>
<p>Debug ftp connections. Prints control channel communication to
stderr</p>
</dd>
<dt class="hdlist1"><strong>-rst, -restart</strong></dt>
<dd>
<p>Restart failed ftp operations.</p>
</dd>
<dt class="hdlist1"><strong>-rst-retries RETRIES</strong></dt>
<dd>
<p>The maximum number of times to retry the operation before giving up on the
transfer. Use 0 for infinite. Default is 5.</p>
</dd>
<dt class="hdlist1"><strong>-rst-interval SECONDS</strong></dt>
<dd>
<p>The interval in seconds to wait after a failure before retrying the
transfer.  Use 0 for an exponential backoff. Default is 0.</p>
</dd>
<dt class="hdlist1"><strong>-rst-timeout SECONDS</strong></dt>
<dd>
<p>Maximum time after a failure to keep retrying. Use 0 for no timeout.
Default is 0.</p>
</dd>
<dt class="hdlist1"><strong>-stall-timeout SECONDS, -st SECONDS</strong></dt>
<dd>
<p>How long before cancelling/restarting a transfer with no data movement. Set
to 0 to disable. Default is 600 seconds.</p>
</dd>
<dt class="hdlist1"><strong>-df FILENAME, -dumpfile FILENAME</strong></dt>
<dd>
<p>Path to a file where untransferred URLs will be saved for later restarting.
Resulting file is the same format as the -f input file. If file exists, it
will be read and all other URL input will be ignored.</p>
</dd>
<dt class="hdlist1"><strong>-do FILENAME, -dump-only FILENAME</strong></dt>
<dd>
<p>Perform no write operations on the destination.  Instead, all files
that would be transferred are enumerated and dumped to the specified file.
Resulting file is the same format as the -f input file. Note: if you intend
to use this file as input for a future transfer, the -create-dest option
will be required if any destination directories do not already
exist.</p>
</dd>
<dt class="hdlist1"><strong>-rp, -relative-paths</strong></dt>
<dd>
<p>The path portion of ftp URLs will be interpreted as relative to the user&#8217;s
starting directory on the server. By default, all paths are
root-relative.  When this flag is set, the path portion of the ftp URL must
start with %2F if it designates a root-relative path.</p>
</dd>
<dt class="hdlist1"><strong>-s SUBJECT, -subject SUBJECT</strong></dt>
<dd>
<p>Use this subject to match with both the source and dest servers.</p>
</dd>
<dt class="hdlist1"><strong>-ss SUBJECT, -source-subject SUBJECT</strong></dt>
<dd>
<p>Use this subject to match with the source server</p>
</dd>
<dt class="hdlist1"><strong>-ds SUBJECT, -dest-subject SUBJECT</strong></dt>
<dd>
<p>Use this subject to match with the destination server.</p>
</dd>
<dt class="hdlist1"><strong>-tcp-bs SIZE, -tcp-buffer-size SIZE</strong></dt>
<dd>
<p>Specify the size (in bytes) of the buffer to be used by the underlying ftp
data channels.</p>
</dd>
<dt class="hdlist1"><strong>-bs block SIZE, -block-size block SIZE</strong></dt>
<dd>
<p>Specify the size (in bytes) of the buffer to be used by the underlying
transfer methods.</p>
</dd>
<dt class="hdlist1"><strong>-p PARALLELISM, -parallel PARALLELISM</strong></dt>
<dd>
<p>Specify the number of parallel data connections should be used.</p>
</dd>
<dt class="hdlist1"><strong>-notpt, -no-third-party-transfers</strong></dt>
<dd>
<p>Turn third-party transfers off (on by default).</p>
</dd>
<dt class="hdlist1"><strong>-nodcau, -no-data-channel-authentication</strong></dt>
<dd>
<p>Turn off data channel authentication for ftp transfers.</p>
</dd>
<dt class="hdlist1"><strong>-dcsafe, -data-channel-safe</strong></dt>
<dd>
<p>Set data channel protection mode to SAFE</p>
</dd>
<dt class="hdlist1"><strong>-dcpriv, -data-channel-private</strong></dt>
<dd>
<p>Set data channel protection mode to PRIVATE</p>
</dd>
<dt class="hdlist1"><strong>-off, -partial-offset</strong></dt>
<dd>
<p>Offset for partial ftp file transfers, defaults to 0.</p>
</dd>
<dt class="hdlist1"><strong>-len, -partial-length</strong></dt>
<dd>
<p>Length for partial ftp file transfers, used only for the source url,
defaults the full file.</p>
</dd>
<dt class="hdlist1"><strong>-list URL</strong></dt>
<dd>
<p>List the files located at URL.</p>
</dd>
<dt class="hdlist1"><strong>-stripe</strong></dt>
<dd>
<p>Enable striped transfers on supported servers.</p>
</dd>
<dt class="hdlist1"><strong>-striped-block-size, -sbs</strong></dt>
<dd>
<p>Set layout mode and block size for striped transfers. If not set, server
defaults will be used. If set to 0, Partitioned mode will be used. If set
to &gt; 0, Blocked mode will be used, with this as the block size.</p>
</dd>
<dt class="hdlist1"><strong>-ipv6</strong></dt>
<dd>
<p>Use ipv6 when available (EXPERIMENTAL)</p>
</dd>
<dt class="hdlist1"><strong>-udt</strong></dt>
<dd>
<p>Use UDT, a reliable udp based transport protocol, for data transfers</p>
</dd>
<dt class="hdlist1"><strong>-g2, -gridftp2</strong></dt>
<dd>
<p>Use GridFTP v2 protocol enhancements when possible.</p>
</dd>
<dt class="hdlist1"><strong>-dp, -delayed-pasv</strong></dt>
<dd>
<p>Enable delayed passive.</p>
</dd>
<dt class="hdlist1"><strong>-mn NAME, -module-name NAME</strong></dt>
<dd>
<p>Set the back-end storage module to use for both the source and destination
in a GridFTP transfer.</p>
</dd>
<dt class="hdlist1"><strong>-mp PARAMETERS, -module-parameters PARAMETERS</strong></dt>
<dd>
<p>Set the back-end storage module arguments to use for both the source and
destination in a GridFTP transfer.</p>
</dd>
<dt class="hdlist1"><strong>-smn NAME, -src-module-name NAME</strong></dt>
<dd>
<p>Set the back-end storage module to use for the source in a GridFTP
transfer.</p>
</dd>
<dt class="hdlist1"><strong>-smp PARAMETERS, -src-module-parameters PARAMETERS</strong></dt>
<dd>
<p>Set the back-end storage module arguments to use for the source in a
GridFTP transfer.</p>
</dd>
<dt class="hdlist1"><strong>-dmn NAME, -dst-module-name NAME</strong></dt>
<dd>
<p>Set the back-end storage module to use for the destination in a GridFTP
transfer.</p>
</dd>
<dt class="hdlist1"><strong>-dmp PARAMETERS, -dst-module-parameters PARAMETERS</strong></dt>
<dd>
<p>Set the back-end storage module arguments to use for the destination in a
GridFTP transfer.</p>
</dd>
<dt class="hdlist1"><strong>-aa FILE, -authz-assert FILE</strong></dt>
<dd>
<p>Use the assertions in FILE to authorize the access with both source
and destination servers.</p>
</dd>
<dt class="hdlist1"><strong>-saa FILE, -src-authz-assert FILE</strong></dt>
<dd>
<p>Use the assertions in this file to authorize the access with source
server.</p>
</dd>
<dt class="hdlist1"><strong>-daa FILE, -dst-authz-assert FILE</strong></dt>
<dd>
<p>Use the assertions in this file to authorize the access with dest
server.</p>
</dd>
<dt class="hdlist1"><strong>-cache-aa, -cache-authz-assert</strong></dt>
<dd>
<p>Cache the authz assertion for subsequent transfers.</p>
</dd>
<dt class="hdlist1"><strong>-cache-saa, -cache-src-authz-assert</strong></dt>
<dd>
<p>Cache the src authz assertion for subsequent transfers.</p>
</dd>
<dt class="hdlist1"><strong>-cache-daa, -cache-dst-authz-assert</strong></dt>
<dd>
<p>Cache the dst authz assertion for subsequent transfers.</p>
</dd>
<dt class="hdlist1"><strong>-pipeline, -pp</strong></dt>
<dd>
<p>Enable pipelining support for multi-file ftp transfers. Currently
third-party transfers benefit from this. <strong>EXPERIMENTAL</strong></p>
</dd>
<dt class="hdlist1"><strong>-concurrency, -cc</strong></dt>
<dd>
<p>Number of concurrent ftp connections to use for multiple transfers.</p>
</dd>
<dt class="hdlist1"><strong>-nl-bottleneck, -nlb</strong></dt>
<dd>
<p>Use NetLogger to estimate speeds of disk and network read/write system
calls, and attempt to determine the bottleneck component.</p>
</dd>
<dt class="hdlist1"><strong>-sp COMMANDS, -src-pipe COMMANDS</strong></dt>
<dd>
<p>Set the source end of a remote transfer to use piped in input with the
given command line. Do not use with -fsstack.</p>
</dd>
<dt class="hdlist1"><strong>-DP COMMANDS, -dst-pipe COMMANDS</strong></dt>
<dd>
<p>Set the destination end of a remote transfer to write data to then standard
input of the program run via the given command line.  Do not use with
-fsstack.</p>
</dd>
<dt class="hdlist1"><strong>-pipe COMMANDS</strong></dt>
<dd>
<p>Sets both -src-pipe and -dst-pipe to the same thing.</p>
</dd>
<dt class="hdlist1"><strong>-dcstack STACK, -data-channel-stack STACK</strong></dt>
<dd>
<p>Set the XIO driver stack for the network on both the source and the
destination. Both must be GridFTP servers. The stack should contain all
network drivers to use, in the order specified from bottom to top (e.g.
-dcstack tcp,gsi). If the gsi driver is not included in the stack and data
channel authentication is enabled, it will be inserted above the
transport driver in the stack.</p>
</dd>
<dt class="hdlist1"><strong>-fsstack STACK, -file-system-stack STACK</strong></dt>
<dd>
<p>Set the XIO driver stack for the disk on both the source and the
destination. Both must be GridFTP servers. The stack should contain all
file system drivers to use, in the order specified from bottom to top.</p>
</dd>
<dt class="hdlist1"><strong>-src-dcstack STACK, -source-data-channel-stack STACK</strong></dt>
<dd>
<p>Set the XIO driver stack for the network on the source GridFTP
server. See -dcstack above for description of the STACK string.</p>
</dd>
<dt class="hdlist1"><strong>-src-fsstack STACK, -source-file-system-stack STACK</strong></dt>
<dd>
<p>Set the XIO driver stack for the disk on the source GridFTP server. See
-fsstack above for description of the STACK string.</p>
</dd>
<dt class="hdlist1"><strong>-dst-dcstack STACK, -dest-data-channel-stack STACK</strong></dt>
<dd>
<p>Set the XIO driver stack for the network on the destination GridFTP
server. See -dcstack above for description of the STACK string.</p>
</dd>
<dt class="hdlist1"><strong>-dst-fsstack STACK, -dest-file-system-stack STACK</strong></dt>
<dd>
<p>Set the XIO driver stack for the disk on the destination GridFTP
server. See -fsstack above for description of the STACK string.</p>
</dd>
<dt class="hdlist1"><strong>-cred PATH</strong></dt>
<dd>
<p>Set the credentials to use for both ftp connections.</p>
</dd>
<dt class="hdlist1"><strong>-src-cred CRED-FILE, -sc CRED-FILE</strong></dt>
<dd>
<p>Set the credentials to use for source ftp connections.</p>
</dd>
<dt class="hdlist1"><strong>-dst-cred CRED-FILE, -dc CRED-FILE</strong></dt>
<dd>
<p>Set the credentials to use for destination ftp connections.</p>
</dd>
<dt class="hdlist1"><strong>-af FILENAME, -alias-file FILENAME</strong></dt>
<dd>
<p>File with mapping of logical host aliases to lists of physical hosts. When
used with multiple concurrent connections, each connection uses the
next host in the list. Each line should either be an alias, noted with the
@ symbol, or a hostname[:port]. Currently, only the aliases @source and
@destination are valid, and they are used for every source or destination
URL.</p>
</dd>
<dt class="hdlist1"><strong>-sync</strong></dt>
<dd>
<p>Only transfer files where the destination does not exist or differs from
the source. -sync-level controls how to determine if files differ.</p>
</dd>
<dt class="hdlist1"><strong>-sync-level number</strong></dt>
<dd>
<p>Criteria for determining if files differ when performing a sync transfer.
The default sync level is 2. The available levels are:</p>
<div class="ulist">
<ul>
<li>
<p>Level 0 will only transfer if the destination does not exist.</p>
</li>
<li>
<p>Level 1 will transfer if the size of the destination does not match the
size of the source.</p>
</li>
<li>
<p>Level 2 will transfer if the time stamp of the destination is older than
the time stamp of the source.</p>
</li>
<li>
<p>Level 3 will perform a checksum of the source and destination and
transfer if the checksums do not match.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="globus-url-copy-AUTHOR">AUTHOR</h3>
<div class="paragraph">
<p>Copyright &#169; 1999-2014 University of Chicago</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="globus-url-copy-interactiveclients">Interactive clients for GridFTP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Grid Community Toolkit does <strong>not</strong> include an interactive client for
GridFTP. Any normal FTP client will work with a GridFTP server, but it
cannot take advantage of the advanced features of GridFTP. The
interactive clients listed below take advantage of the advanced features
of GridFTP.</p>
</div>
<div class="paragraph">
<p>There is no endorsement implied by their presence here. We make no
assertion as to the quality or appropriateness of these tools, we simply
provide this for your convenience. We will <strong>not</strong> answer questions,
accept bugs, or in any way shape or form be responsible for these tools,
although they should have mechanisms of their own for such things.</p>
</div>
<div class="paragraph">
<p>UberFTP was developed at the NCSA under the auspices of NMI and
TeraGrid:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://dims.ncsa.uiuc.edu/set/uberftp/download.html">NCSA UberFTP download</a></p>
</li>
<li>
<p><a href="http://dims.ncsa.uiuc.edu/set/uberftp/userdoc.html">UberFTP User&#8217;s Guide</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-command-server">GLOBUS-GRIDFTP-SERVER(8)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_name_2">NAME</h3>
<div class="paragraph">
<p>globus-gridftp-server - The Globus GridFTP server daemon</p>
</div>
</div>
<div class="sect2">
<h3 id="_synopsis">SYNOPSIS</h3>
<div class="paragraph">
<p>globus-gridftp-server OPTIONS</p>
</div>
</div>
<div class="sect2">
<h3 id="_description">DESCRIPTION</h3>
<div class="paragraph">
<p>The <strong>globus-gridftp-server</strong> program is a ftp server with support for GridFTP
protocol extensions, including strong authentication, parallel data transfers,
and parallel data layouts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_options">OPTIONS</h3>
<div class="paragraph">
<p>The list below contains the command-line options for the server, and also the name of the configuration file entry that implements that option. Note that any boolean option can be negated on the command line by preceding the specified option with <em>-no-</em> or <em>-n</em>.  example: <code>-no-cas</code> or <code>-nf</code>.</p>
</div>
<div class="sect3">
<h4 id="_informational_options">Informational Options</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-h,-help</strong></dt>
<dd>
<p>Show usage information and exit.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>help</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-hh,-longhelp</strong></dt>
<dd>
<p>Show more usage information and exit.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>longhelp</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-v,-version</strong></dt>
<dd>
<p>Show version information for the server and exit.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>version</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-V,-versions</strong></dt>
<dd>
<p>Show version information for all loaded globus libraries and exit.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>versions</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_modes_of_operation">Modes of Operation</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-i,-inetd</strong></dt>
<dd>
<p>Run under an inetd service.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>inetd</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-s,-daemon</strong></dt>
<dd>
<p>Run as a daemon.  All connections will fork off a new process and setuid if allowed.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>daemon</code>.
    The default value of this option is <code>TRUE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-S,-detach</strong></dt>
<dd>
<p>Run as a background daemon detached from any controlling terminals.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>detach</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-ssh</strong></dt>
<dd>
<p>Run over a connected ssh session.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>ssh</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-exec string</strong></dt>
<dd>
<p>For statically compiled or non-GLOBUS_LOCATION standard binary locations, specify the full path of the server binary here.  Only needed when run in daemon mode.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>exec</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-chdir</strong></dt>
<dd>
<p>Change directory when the server starts. This will change directory to the dir specified by the chdir_to option.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>chdir</code>.
    The default value of this option is <code>TRUE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-chdir-to string</strong></dt>
<dd>
<p>Directory to chdir to after starting.  Will use / if not set.  Note that this is the directory of the process, not the client&#8217;s home directory.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>chdir_to</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-threads number</strong></dt>
<dd>
<p>Enable threaded operation and set the number of threads.  The default is 0, which is non-threaded.  When threading is required, a thread count of 1 or 2 should be sufficient.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>threads</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-f,-fork</strong></dt>
<dd>
<p>Server will fork for each new connection.  Disabling this option is only recommended when debugging. Note that non-forked servers running as <em>root</em> will only accept a single connection, and then exit.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>fork</code>.
    The default value of this option is <code>TRUE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-1,-single</strong></dt>
<dd>
<p>Exit after a single connection.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>single</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-chroot-path string</strong></dt>
<dd>
<p>Path to become the new root after authentication.  This path must contain a valid certificate structure, /etc/passwd, and /etc/group.  The command globus-gridftp-server-setup-chroot can help create a suitable directory structure.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>chroot_path</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_authentication_authorization_and_security_options">Authentication, Authorization, and Security Options</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-auth-level number</strong></dt>
<dd>
<p>Add levels together to use more than one.</p>
<div class="ulist">
<ul>
<li>
<p>0 = Disables all authorization checks.</p>
</li>
<li>
<p>1 = Authorize identity.</p>
</li>
<li>
<p>2 = Authorize all file/resource accesses.</p>
</li>
<li>
<p>4 = Disable changing process uid to authenticated user (no setuid)&#8201;&#8212;&#8201;DO NOT use this when process is started as root.</p>
<div class="paragraph">
<p>If not set uses level 2 for front ends and level 1 for data nodes.  Note that levels 2 and 4 imply level 1 as well.</p>
</div>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>auth_level</code>.</p>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><strong>-ipc-allow-from string</strong></dt>
<dd>
<p>Only allow connections from these source ip addresses.  Specify a comma separated list of ip address fragments.  A match is any ip address that starts with the specified fragment.  Example: <em>192.168.1.</em> will match and allow a connection from 192.168.1.45.  Note that if this option is used any address not specifically allowed will be denied.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>ipc_allow_from</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-ipc-deny-from string</strong></dt>
<dd>
<p>Deny connections from these source ip addresses. Specify a comma separated list of ip address fragments.  A match is any ip address that starts with the specified fragment.  Example: <em>192.168.2.</em> will match and deny a connection from 192.168.2.45.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>ipc_deny_from</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-allow-from string</strong></dt>
<dd>
<p>Only allow connections from these source ip addresses.  Specify a comma separated list of ip address fragments.  A match is any ip address that starts with the specified fragment.  Example: <em>192.168.1.</em> will match and allow a connection from 192.168.1.45.  Note that if this option is used any address not specifically allowed will be denied.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>allow_from</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-deny-from string</strong></dt>
<dd>
<p>Deny connections from these source ip addresses. Specify a comma separated list of ip address fragments.  A match is any ip address that starts with the specified fragment.  Example: <em>192.168.2.</em> will match and deny a connection from 192.168.2.45.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>deny_from</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-si,-secure-ipc</strong></dt>
<dd>
<p>Use GSI security on ipc channel.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>secure_ipc</code>.
    The default value of this option is <code>TRUE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-ia string,-ipc-auth-mode string</strong></dt>
<dd>
<p>Set GSI authorization mode for the ipc connection. Options are: none, host, self or subject:[subject].</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>ipc_auth_mode</code>.
    The default value of this option is <code>host</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-aa,-allow-anonymous</strong></dt>
<dd>
<p>Allow clear text anonymous access. If server is running as root anonymous_user must also be set.  Disables ipc security.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>allow_anonymous</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-anonymous-names-allowed string</strong></dt>
<dd>
<p>Comma separated list of names to treat as anonymous users when allowing anonymous access.  If not set, the default names of <em>anonymous</em> and <em>ftp</em> will be allowed.  Use <em>*</em> to allow any username.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>anonymous_names_allowed</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-anonymous-user string</strong></dt>
<dd>
<p>User to setuid to for an anonymous connection. Only applies when running as root.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>anonymous_user</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-anonymous-group string</strong></dt>
<dd>
<p>Group to setgid to for an anonymous connection. If unset, the default group of anonymous_user will be used.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>anonymous_group</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sharing-dn string</strong></dt>
<dd>
<p>Allow sharing when using the supplied DN.  A client connected with these credentials will be able to access any user for which sharing is enabled.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sharing_dn</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sharing-state-dir string</strong></dt>
<dd>
<p>Full path to a directory that will contain files used by GridFTP to control sharing access for individual local accounts. The special variables <em>$HOME</em> and <em>$USER</em> can be used to create a dynamic path that is unique to each local account.  This pathmust be writable by the associated account. The default path is <em>$HOME/.globus/sharing/</em>.  This must refer to a path on the filesystem, not a path that is only accessible via a DSI plugin.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sharing_state_dir</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sharing-control</strong></dt>
<dd>
<p>Allow a local user account to control its own sharing access via special GridFTP client commands.  The user account must have filesystem write access to the sharing state dir.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sharing_control</code>.
    The default value of this option is <code>TRUE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sharing-rp string</strong></dt>
<dd>
<p>Sharing specific path restrictions.  This completely replaces the normal path restrictions (-rp) when an account is being shared by a sharing-dn login.Follows normal path restriction semantics.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sharing_rp</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sharing-users-allow string</strong></dt>
<dd>
<p>Comma separated list of usernames that are allowed to share unless matched in the user deny lists.  If this list is set, users that are not included will be denied unless matched in the group allow list.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sharing_users_allow</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sharing-users-deny string</strong></dt>
<dd>
<p>Comma separated list of usernames that are denied sharing even if matched in the user or group allow lists.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sharing_users_deny</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sharing-groups-allow string</strong></dt>
<dd>
<p>Comma separated list of groups whose members are allowed to share unless matched in the user or group deny lists.  If this list is set, groups that are not included will be denied unless matched in the user allow list.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sharing_groups_allow</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sharing-groups-deny string</strong></dt>
<dd>
<p>Comma separated list of groups whose members will be denied sharing unless matched in the user allow list.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sharing_groups_deny</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-allow-root</strong></dt>
<dd>
<p>Allow clients to be mapped to the root account.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>allow_root</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-allow-disabled-login</strong></dt>
<dd>
<p>Do not check if a user&#8217;s system account is disabled before allowing login.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>allow_disabled_login</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-password-file string</strong></dt>
<dd>
<p>Enable clear text access and authenticate users against this /etc/passwd formatted file.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>pw_file</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-connections-max number</strong></dt>
<dd>
<p>Maximum concurrent connections allowed.  Only applies when running in daemon mode.  Unlimited if not set.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>connections_max</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-connections-disabled</strong></dt>
<dd>
<p>Disable all new connections.  For daemon mode, issue a SIGHUP to the server process after changing the config file in order to not affect ongoing connections.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>connections_disabled</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-offline-msg string</strong></dt>
<dd>
<p>Custom message to be displayed to clients when the server is offline via the connections_disabled or connections_max = 0 options.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>offline_msg</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-disable-command-list string</strong></dt>
<dd>
<p>A comma separated list of client commands that will be disabled.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>disable_command_list</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-authz-callouts,-cas</strong></dt>
<dd>
<p>Enable the GSI authorization callout framework, for callouts such as CAS.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>cas</code>.
    The default value of this option is <code>TRUE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-use-home-dirs</strong></dt>
<dd>
<p>Set the starting directory to the authenticated users home dir.  Disabling this is the same as setting <em>-home-dir /</em>.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>use_home_dirs</code>.
    The default value of this option is <code>TRUE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-home-dir string</strong></dt>
<dd>
<p>Set a path to override the system defined home/starting directory for authenticated users.  The special variable strings <em>$USER</em> and <em>$HOME</em> may be used.  The authenticated username will be substituted for $USER, and the user&#8217;s real home dir will be substituted for $HOME.  Be sure to escape the $ character if using these on the command line.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>home_dir</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-rp string,-restrict-paths string</strong></dt>
<dd>
<p>A comma separated list of full paths that clients may access.  Each path may be prefixed by R and/or W, denoting read or write access, otherwise full access is granted.  If a given path is a directory, all contents and subdirectories will be given the same access.  Order of paths does not matter&#8201;&#8212;&#8201;the permissions on the longest matching path will apply.  The special character <em>\~</em> will be replaced by the authenticated user&#8217;s home directory, or the <em>-home-dir</em> option, if used. Note that if the home directory is not accessible, <em>\~</em> will be set to <em>/</em>.  By default all paths are allowed, and access control is handled by the OS. In a striped or split process configuration, this should be set on both the frontend and data nodes.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>restrict_paths</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-rp-follow-symlinks</strong></dt>
<dd>
<p>Do not verify that a symlink points to an allowed path before following.  By default, symlinks are followed only when they point to an allowed path.  By enabling this option, symlinks will be followed even if they point to a path that is otherwise restricted.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>rp_follow_symlinks</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-em string,-acl string</strong></dt>
<dd>
<p>A comma separated list of ACL or event modules to load.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>acl</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_logging_options">Logging Options</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-d string,-log-level string</strong></dt>
<dd>
<p>Log level. A comma separated list of levels from: <em>ERROR, WARN, INFO, TRANSFER, DUMP, ALL</em>. TRANSFER includes the same statistics that are sent to the separate transfer log when -log-transfer is used.  Example: error,warn,info. You may also specify a numeric level of 1-255.  The default level is ERROR.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>log_level</code>.
    The default value of this option is <code>ERROR</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-log-module string</strong></dt>
<dd>
<p>globus_logging module that will be loaded. If not set, the default <em>stdio</em> module will be used, and the logfile options apply.  Built in modules are <em>stdio</em> and <em>syslog</em>.  Log module options may be set by specifying module:opt1=val1:opt2=val2.  Available options for the built in modules are <em>interval</em> and <em>buffer</em>, for buffer flush interval and buffer size, respectively. The default options are a 64k buffer size and a 5 second flush interval.  A 0 second flush interval will disable periodic flushing, and the buffer will only flush when it is full.  A value of 0 for buffer will disable buffering and all messages will be written immediately.  Example: -log-module stdio:buffer=4096:interval=10</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>log_module</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-l string,-logfile string</strong></dt>
<dd>
<p>Path of a single file to log all activity to.  If neither this option or log_unique is set, logs will be written to stderr unless the execution mode is detached or inetd, in which case logging will be disabled.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>log_single</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-L string,-logdir string</strong></dt>
<dd>
<p>Partial path to which <em>gridftp.(pid).log</em> will be appended to construct the log filename. Example: -L /var/log/gridftp/ will create a separate log ( /var/log/gridftp/gridftp.xxxx.log ) for each process (which is normally each new client session).  If neither this option or log_single is set, logs will be written to stderr unless the execution mode is detached or inetd, in which case logging will be disabled.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>log_unique</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-Z string,-log-transfer string</strong></dt>
<dd>
<p>Log netlogger style info for each transfer into this file.  You may also use the log-level of TRANSFER to include this info in the standard log.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>log_transfer</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-log-filemode string</strong></dt>
<dd>
<p>File access permissions of log files. Should be an octal number such as 0644.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>log_filemode</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-disable-usage-stats</strong></dt>
<dd>
<p>Disable transmission of per-transfer usage statistics.  See the Usage Statistics section in the online documentation for more information.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>disable_usage_stats</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-usage-stats-target string</strong></dt>
<dd>
<p>Comma separated list of contact strings (host:port) for usage statistics receivers.  The usage stats sent to a particular receiver may be customized by configuring it with a taglist (host:port!taglist)  The taglist is a list of characters that each correspond to a usage stats tag.  When this option is unset, stats are reported to usage-stats.globus.org:4810.  If you set your own receiver, and wish to continue reporting to the Globus receiver, you will need to add it manually.  The list of available tags follow. Tags marked * are reported by default.</p>
<div class="literalblock">
<div class="content">
<pre>*(e) START - start time of transfer
*(E) END - end time of transfer
*(v) VER - version string of GridFTP server
*(b) BUFFER - tcp buffer size used for transfer
*(B) BLOCK - disk blocksize used for transfer
*(N) NBYTES - number of bytes transferred
*(s) STREAMS - number of parallel streams used
*(S) STRIPES - number of stripes used
*(t) TYPE - transfer command: RETR, STOR, LIST, etc
*(c) CODE - ftp result code (226 = success, 5xx = fail)
*(D) DSI - DSI module in use
*(A) EM - event modules in use
*(T) SCHEME - ftp, gsiftp, sshftp, etc. (client supplied)
*(a) APP - guc, rft, generic library app, etc. (client supplied)
*(V) APPVER - version string of above. (client supplied)
(f) FILE - name of file/data transferred
(i) CLIENTIP - ip address of host running client (control channel)
(I) DATAIP - ip address of source/dest host of data (data channel)
(u) USER - local user name the transfer was performed as
(d) USERDN - DN that was mapped to user id
(C) CONFID - ID defined by -usage-stats-id config option
(U) SESSID - unique id that can be used to match transfers in a session and
    transfers across source/dest of a third party transfer. (client supplied)</pre>
</div>
</div>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>usage_stats_target</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-usage-stats-id string</strong></dt>
<dd>
<p>Identifying tag to include in usage statistics data.  If this is set and usage-stats-target is unset, CONFID will be added to the default usage stats data.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>usage_stats_id</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_single_and_striped_remote_data_node_options">Single and Striped Remote Data Node Options</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-r string,-remote-nodes string</strong></dt>
<dd>
<p>Comma separated list of remote node contact strings.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>remote_nodes</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-hybrid</strong></dt>
<dd>
<p>When a server is configured for striped operation with the <em>remote_nodes</em> option, both a frontend and backend process are started even if the client does not request multiple stripes.  This option will start backend processes only when striped operation is requested by the client, while servicing non-striped requests with a single frontend process.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>hybrid</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-dn,-data-node</strong></dt>
<dd>
<p>This server is a backend data node.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>data_node</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sbs number,-stripe-blocksize number</strong></dt>
<dd>
<p>Size in bytes of sequential data that each stripe will transfer.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>stripe_blocksize</code>.
    The default value of this option is <code>1048576</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-stripe-count number</strong></dt>
<dd>
<p>Number of number stripes to use per transfer when this server controls that number.  If remote nodes are statically configured (via -r or remote_nodes), this will be set to that number of nodes, otherwise the default is 1.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>stripe_count</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sl number,-stripe-layout number</strong></dt>
<dd>
<p>Stripe layout.
    1 = Partitioned
   2 = Blocked.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>stripe_layout</code>.
    The default value of this option is <code>2</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-stripe-blocksize-locked</strong></dt>
<dd>
<p>Do not allow client to override stripe blocksize with the OPTS RETR command</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>stripe_blocksize_locked</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-stripe-layout-locked</strong></dt>
<dd>
<p>Do not allow client to override stripe layout with the OPTS RETR command</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>stripe_layout_locked</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_disk_options">Disk Options</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-bs number,-blocksize number</strong></dt>
<dd>
<p>Size in bytes of data blocks to read from disk before posting to the network.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>blocksize</code>.
    The default value of this option is <code>262144</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-sync-writes</strong></dt>
<dd>
<p>Flush disk writes before sending a restart marker.  This attempts to ensure that the range specified in the restart marker has actually been committed to disk. This option will probably impact performance, and may result in different behavior on different storage systems. See the manpage for sync() for more information.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>sync_writes</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-perms string</strong></dt>
<dd>
<p>Set the default permissions for created files. Should be an octal number such as 0644.  The default is 0644.  Note: If umask is set it will affect this setting&#8201;&#8212;&#8201;i.e. if the umask is 0002 and this setting is 0666, the resulting files will be created with permissions of 0664.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>perms</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-file-timeout number</strong></dt>
<dd>
<p>Timeout in seconds for all disk accesses.  A value of 0 disables the timeout.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>file_timeout</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_network_options">Network Options</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-p number,-port number</strong></dt>
<dd>
<p>Port on which a frontend will listen for client control channel connections, or on which a data node will listen for connections from a frontend.  If not set a random port will be chosen and printed via the logging mechanism.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>port</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-control-interface string</strong></dt>
<dd>
<p>Hostname or IP address of the interface to listen for control connections on. If not set will listen on all interfaces.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>control_interface</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-data-interface string</strong></dt>
<dd>
<p>Hostname or IP address of the interface to use for data connections. If not set will use the current control interface.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>data_interface</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-ipc-interface string</strong></dt>
<dd>
<p>Hostname or IP address of the interface to use for ipc connections. If not set will listen on all interfaces.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>ipc_interface</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-hostname string</strong></dt>
<dd>
<p>Effectively sets the above control_interface, data_interface and ipc_interface options.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>hostname</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-ipc-port number</strong></dt>
<dd>
<p>Port on which the frontend will listen for data node connections.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>ipc_port</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-control-preauth-timeout number</strong></dt>
<dd>
<p>Time in seconds to allow a client to remain connected to the control channel without activity before authenticating.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>control_preauth_timeout</code>.
    The default value of this option is <code>120</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-control-idle-timeout number</strong></dt>
<dd>
<p>Time in seconds to allow a client to remain connected to the control channel without activity.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>control_idle_timeout</code>.
    The default value of this option is <code>600</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-ipc-idle-timeout number</strong></dt>
<dd>
<p>Idle time in seconds before an unused ipc connection will close.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>ipc_idle_timeout</code>.
    The default value of this option is <code>900</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-ipc-connect-timeout number</strong></dt>
<dd>
<p>Time in seconds before canceling an attempted ipc connection.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>ipc_connect_timeout</code>.
    The default value of this option is <code>60</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-allow-udt</strong></dt>
<dd>
<p>Enable protocol support for UDT with NAT traversal if the udt driver is available.  Requires threads.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>allow_udt</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-port-range string</strong></dt>
<dd>
<p>Port range to use for incoming connections. The format is "startport,endport". This, along with -data-interface, can be used to enable operation behind a firewall and/or when NAT is involved. This is the same as setting the environment variable GLOBUS_TCP_PORT_RANGE.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>port_range</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_user_messages">User Messages</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-banner string</strong></dt>
<dd>
<p>Message to display to the client before authentication.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>banner</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-banner-file string</strong></dt>
<dd>
<p>File to read banner message from.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>banner_file</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-banner-terse</strong></dt>
<dd>
<p>When this is set, the minimum allowed banner message will be displayed to unauthenticated clients.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>banner_terse</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-banner-append</strong></dt>
<dd>
<p>When this is set, the message set in the <em>banner</em> or <em>banner_file</em> option will be appended to the default banner message rather than replacing it.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>banner_append</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-version-tag string</strong></dt>
<dd>
<p>Add an identifying string to the existing toolkit version.  This is displayed in the default banner message, the SITE VERSION command, and usage stats.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>version_tag</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-login-msg string</strong></dt>
<dd>
<p>Message to display to the client after authentication.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>login_msg</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-login-msg-file string</strong></dt>
<dd>
<p>File to read login message from.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>login_msg_file</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_module_options">Module Options</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-dsi string</strong></dt>
<dd>
<p>Data Storage Interface module to load. File and remote modules are defined by the server. If not set, the file module is loaded, unless the <em>remote</em> option is specified, in which case the remote module is loaded.  An additional configuration string can be passed to the DSI using the format [module name]:[configuration string] to this option.  The format of the configuration string is defined by the DSI being loaded.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>load_dsi_module</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-allowed-modules string</strong></dt>
<dd>
<p>Comma separated list of ERET/ESTO modules to allow, and optionally specify an alias for. Example: module1,alias2:module2,module3 (module2 will be loaded when a client asks for alias2).</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>allowed_modules</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-dc-whitelist string</strong></dt>
<dd>
<p>A comma separated list of drivers allowed on the network stack.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>dc_whitelist</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-fs-whitelist string</strong></dt>
<dd>
<p>A comma separated list of drivers allowed on the disk stack.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>fs_whitelist</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-popen-whitelist string</strong></dt>
<dd>
<p>A comma separated list of programs that the popen driver is allowed to execute, when used on the network or disk stack.  An alias may also be specified, so that a client does not need to specify the full path. Format is [alias:]prog,[alias:]prog. example: /bin/gzip,tar:/bin/tar</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>popen_whitelist</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-xnetmgr string</strong></dt>
<dd>
<p>An option string to pass to the XIO Network Manager Driver, which will then be loaded for all data channel connections.  This must be in the form "manager=module;option1=value;option2=value;".  See the Network Manager documentation for more info.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>xnetmgr</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-dc-default string</strong></dt>
<dd>
<p>A comma separated list of XIO drivers and options representing the default network stack. Format is of each driver entry is driver1[:opt1=val1;opt2=val2;&#8230;&#8203;]. The bottom of the stack, the transport driver, is always first.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>dc_default</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-fs-default string</strong></dt>
<dd>
<p>A comma separated list of XIO drivers and options representing the default disk stack. Format is of each driver entry is driver1[:opt1=val1;opt2=val2;&#8230;&#8203;]. The bottom of the stack, the transport driver, is always first.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>fs_default</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_other">Other</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-c string</strong></dt>
<dd>
<p>Path to main configuration file that should be loaded.  Otherwise will attempt to load $GLOBUS_LOCATION/etc/gridftp.conf and /etc/grid-security/gridftp.conf.</p>
</dd>
<dt class="hdlist1"><strong>-C string</strong></dt>
<dd>
<p>Path to directory holding configuration files that should be loaded. Files will be loaded in alphabetical order, and in the event of duplicate parameters the last loaded file will take precedence.  Files with a <em>.</em> in the name (file.bak, file.rpmsave, etc.) will be ignored.  Note that the main configuration file, if one exists, will always be loaded last.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>config_dir</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-config-base-path string</strong></dt>
<dd>
<p>Base path to use when config and log path options are not full paths. By default this is the current directory when the process is started.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>config_base_path</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-debug</strong></dt>
<dd>
<p>Sets options that make server easier to debug.  Forces no-fork, no-chdir, and allows core dumps on bad signals instead of exiting cleanly. Not recommended for production servers.  Note that non-forked servers running as <em>root</em> will only accept a single connection, and then exit.</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>debug</code>.
    The default value of this option is <code>FALSE</code>.</p>
</div>
</dd>
<dt class="hdlist1"><strong>-pidfile string</strong></dt>
<dd>
<p>Write PID of the GridFTP server to this path. May contain variable references to ${localstatedir}</p>
<div class="paragraph">
<p>This option can also be set in the configuration file as <code>pidfile</code>.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exit_status">EXIT STATUS</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">0</dt>
<dd>
<p>Successful program execution.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="globus-gridftp-server-setup-chroot">GLOBUS-GRIDFTP-SERVER-SETUP-CHROOT(8)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_name_3">NAME</h3>
<div class="paragraph">
<p>globus-gridftp-server-setup-chroot - Set up a chroot for the Globus GridFTP server</p>
</div>
</div>
<div class="sect2">
<h3 id="_synopsis_2">SYNOPSIS</h3>
<div class="paragraph">
<p>globus-gridftp-server-setup-chroot [-h] [-c CERT-DIR] -r NEW-CHROOT</p>
</div>
</div>
<div class="sect2">
<h3 id="_description_2">DESCRIPTION</h3>
<div class="paragraph">
<p>The <strong>globus-gridftp-server-setup-chroot</strong> program creates a chroot directory
tree that can be used for the <strong>globus-gridftp-server</strong>(8). This chroot contains
a copy of essential POSIX devices in dev; hosts, group, passwd, and
grid-security configuration files in etc; and a temporary file directory in
tmp.</p>
</div>
<div class="paragraph">
<p>The <em>-c CERT-DIR</em> option copies certificate files from a different
directory than the default [/etc/grid-security/certificates].</p>
</div>
</div>
<div class="sect2">
<h3 id="_options_2">OPTIONS</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-h</strong></dt>
<dd>
<p>Print short usage and exit</p>
</dd>
<dt class="hdlist1"><strong>-r NEW-CHROOT</strong></dt>
<dd>
<p>Specify the new chroot directory to create.</p>
</dd>
<dt class="hdlist1"><strong>-c CERT-DIR</strong></dt>
<dd>
<p>Specify the trusted certificate dir source.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_exit_status_2">EXIT STATUS</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">0</dt>
<dd>
<p>Successful program execution.</p>
</dd>
<dt class="hdlist1">1</dt>
<dd>
<p>Error</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_author">AUTHOR</h3>
<div class="paragraph">
<p>Copyright &#169; 1999-2015 University of Chicago</p>
</div>
</div>
<div class="sect2">
<h3 id="_see_also">SEE ALSO</h3>
<div class="paragraph">
<p><strong>globus-gridftp-server</strong>(8)</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-guis">Graphical User Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="sect2">
<h3 id="_globus_online">Globus Online</h3>
<div class="paragraph">
<p>Grid Community Toolkit does not provide a client with Graphical User Interface
(GUI) but <a href="http://www.globus.org">Globus Service</a> provides a web GUI
for GridFTP data movement. It has the following features:
* With a one-click <a href="https://www.globus.org/globus%5fconnect/">Globus
Connect Personal</a> installed on your local
system, you can browse the local file system and transfer files and
directories between the local system and remote GridFTP servers and
between two remote GridFTP servers (third-party transfers).
* Supports file system operations such as creating, deleting and renaming
files and directories.</p>
</div>
<div class="paragraph">
<p>Supported Platforms:
* Windows
* Linux
* Mac</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-configuring">Configuring GridFTP</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="sect2">
<h3 id="gridftp-config-overview">GridFTP server configuration overview</h3>
<div class="paragraph">
<p>[overview]</p>
</div>
<div class="paragraph">
<p>The configuration interface for GridFTP is the admin tool, , which can
be used with a configuration file and/or run-time options.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Command line options and configuration file options may both be used,
but the command line <strong>overrides</strong> the config file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The configuration file for the GridFTP server is read from the following
locations, in the given order. Only the first file found will be loaded:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Path specified with the <code>-c &lt;configfile&gt;</code> command line option.</p>
</li>
<li>
<p><code>$GLOBUS_LOCATION/etc/gridftp.conf</code></p>
</li>
<li>
<p><code>/etc/grid-security/gridftp.conf</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Options are one per line, with the format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;option&gt; &lt;value&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If the value contains spaces, they should be enclosed in double-quotes
("). Flags or boolean options should only have a value of 0 or 1. Blank
lines and lines beginning with # are ignored.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  port 5000
  allow_anonymous 1
  anonymous_user bob
  banner "Welcome!"</pre>
</div>
</div>
<div class="paragraph">
<p>For complete command documentation including all options, see .</p>
</div>
<div class="paragraph">
<p>This page includes information about general configuration of the
GridFTP server. Security options are discussed
<a href="../../gridftp/admin/index.html#gridftp-admin-config-security">here</a>,
and more advanced configuration is described
<a href="../../gridftp/admin/index.html#gridftp-admin-advanced">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-config-types">Typical configuration</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The following describes a typical GridFTP configuration of the front end
(control channel) and back end (data channels). For other alternatives
that provide greater levels of security, see
<a href="../../gridftp/admin/index.html#gridftp-admin-advanced">Advanced
Configuration</a>.</p>
</div>
<div class="paragraph">
<p>By default, the data channel and control channel are separate socket
connections within the same process. The client sends a command and
waits to finish before issuing the next command. This is good for a
single host, traditional-type user. If you have a single host and you
want an ultra-reliable and light weight file transfer service, this is a
good choice. This configuration is also good for testing purposes.</p>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-config-security-firewalls">Firewall requirements</h3>
<div class="paragraph">
<p>If the GridFTP server is behind a firewall:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Contact your network administrator to open up port 2811 (for GridFTP
control channel connection) and a range of ports (for GridFTP data
channel connections) for the incoming connections. If the firewall
blocks the outgoing connections, open up a range of ports for outgoing
connections as well.</p>
</li>
<li>
<p>Set the environment variable GLOBUS_TCP_PORT_RANGE:</p>
<div class="listingblock">
<div class="content">
<pre>export GLOBUS_TCP_PORT_RANGE=min,max</pre>
</div>
</div>
<div class="paragraph">
<p>where <em>min</em>,<em>max</em> specify the port range that you have opened for the
incoming connections on the firewall. This restricts the listening ports
of the GridFTP server to this range. Recommended range is 1000 (e.g.,
50000-51000) but it really depends on how much use you expect.</p>
</div>
</li>
<li>
<p>If you have a firewall blocking the outgoing connections and you have
opened a range of ports, set the environment variable
GLOBUS_TCP_SOURCE_RANGE:</p>
<div class="listingblock">
<div class="content">
<pre>export GLOBUS_TCP_SOURCE_RANGE=min,max</pre>
</div>
</div>
<div class="paragraph">
<p>where <em>min</em>,<em>max</em> specify the port range that you have opened for the
outgoing connections on the firewall. This restricts the GridFTP server
to bind to a local port in this range for outbound connections.
Recommended range is twice the range used for GLOBUS_TCP_PORT_RANGE,
because if parallel TCP streams are used for transfers, the listening
port would remain the same for each connection but the connecting port
would be different for each connection.</p>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the server is behind NAT, the <code>--data-interface &lt;real ip/hostname&gt;</code>
option needs to be used on the server.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the GridFTP <strong>client</strong> is behind a firewall:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Contact your network administrator to open up a range of ports (for
GridFTP data channel connections) for the incoming connections. If the
firewall blocks the outgoing connections, open up a range of ports for
outgoing connections as well.</p>
</li>
<li>
<p>Set the environment variable GLOBUS_TCP_PORT_RANGE</p>
<div class="listingblock">
<div class="content">
<pre>export GLOBUS_TCP_PORT_RANGE=min,max</pre>
</div>
</div>
<div class="paragraph">
<p>where min,max specify the port range that you have opened for the
incoming connections on the firewall. This restricts the listening ports
of the GridFTP client to this range. Recommended range is 1000 (e.g.,
50000-51000) but it really depends on how much use you expect.</p>
</div>
</li>
<li>
<p>If you have a firewall blocking the outgoing connections and you have
opened a range of (local) ports, set the environment variable
GLOBUS_TCP_SOURCE_RANGE:</p>
<div class="listingblock">
<div class="content">
<pre>export GLOBUS_TCP_PORT_RANGE=min,max</pre>
</div>
</div>
<div class="paragraph">
<p>where min,max specify the port range that you have opened for the
outgoing connections on the firewall. This restricts the GridFTP client
to bind to a local port in this range for outbound connections.
Recommended range is twice the range used for GLOBUS_TCP_PORT_RANGE,
because if parallel TCP streams are used for transfers, the listening
port would remain the same for each connection but the connecting port
would be different for each connection.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Additional information on Grid Community Toolkit Firewall Requirements is
available <a href="http://www.globus.org/toolkit/security/firewalls/">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-admin-config-security">Configuring Security for GridFTP</h3>
<div class="paragraph">
<p>There are many security options in GridFTP ranging from no security to
higher security via GSI .</p>
</div>
<div class="sect3">
<h4 id="gridftp-admin-config-security-anonymous">Anonymous mode</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Anonymous mode (using the <em>-aa</em> option) allows any user with an FTP
client to read and write (and delete) files that the server process can
similarly access (it is also a quick way to test that your server
works).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% globus-gridftp-server -aa
Server listening at 127.0.0.1:58806</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>When the server is run in this way, anyone who can connect to the server
will posses all the same rights as the user that the process is run as
(directly or via <em>-anonymous-user</em>). If using this mode intentionally
for open access, it is best to run under a dedicated account with
limited filesystem permissions. You can also use the option below to
disable FTP commands such as STOR, ESTO, DELE, RDEL, RNTO, etc to make
sure that users can only read from the server and not write to it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre> -disable-command-list &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Where &lt;string&gt; represents a comma separated list of client commands that
will be disabled. Default: not set.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="gridftp-admin-config-security-userpw">Username/password</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>If you trust your network and want a minimal amount of security, you can
run the globus-gridftp-server with clear text passwords. This security
model is the one originally introduced in RFC959.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>We do not recommend it for long running servers open to the internet.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_create_password_file">Create password file</h5>
<div class="paragraph">
<p>To run the server in clear text password mode, we first need to create a
password file dedicated to it. The format of the password file is the
same as standard system password files; however, it is ill-advised to
use a system password file. To create an entry in a GridFTP password
file, run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% touch pwfile
globus% gridftp-password.pl &gt;&gt; pwfile
Password:</pre>
</div>
</div>
<div class="paragraph">
<p>This will ask you for a password and then create an entry in the
password file for the current user name and the given password. Take a
look at the file created. You will notice that the password you typed in
is not in the file in a clear text form. We have run it though a one way
hash algorithm before storing it in the file.</p>
</div>
</div>
<div class="sect4">
<h5 id="_run_the_server_in_password_mode">Run the server in password mode</h5>
<div class="paragraph">
<p>Simply start the server pointing it at the password file you just
created.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% globus-gridftp-server -password-file  /full/path/of/pwfile
Server listening at 127.0.0.1:5555</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_make_a_transfer">Make a transfer</h5>
<div class="paragraph">
<p>To run globus-url-copy with the password, use the following syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% globus-url-copy file:///etc/group ftp://</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gridftp-admin-config-security-sshftp">SSHFTP (GridFTP-over-SSH)</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>This type of security introduces the sshftp control channel (frontend)
protocol. This is a very simple means of obtaining strong security on
the control channel only (the data channel is <strong>not</strong> authenticated).
With this approach, you can run a GridFTP transfer anywhere that you can
ssh. <code>sshftp://</code> leverages the ubiquitous ssh/sshd programs to form
control channel connections much in the same way that inetd forms
connections. leverages the ubiquitous ssh/sshd programs to form control
channel connections much in the same way that inetd forms connections.</p>
</div>
<div class="sect4">
<h5 id="_configure_server_for_ssh_gridftp_support">Configure Server for SSH GridFTP Support</h5>
<div class="paragraph">
<p>Every host that wishes to run a <strong><code>globus-gridftp-server</code></strong> which can
accept <code>sshftp://</code> connections must run the following command as root:
connections must run the following command as root:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% globus-gridftp-server-enable-sshftp</pre>
</div>
</div>
<div class="paragraph">
<p>In the absence of root access, a user can configure the server to allow
<code>sshftp://</code> connections for that user only with the following command:
connections for that user only with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% globus-gridftp-server-enable-sshftp -nonroot</pre>
</div>
</div>
<div class="paragraph">
<p>The above command creates a file named <em>sshftp</em> in <em>/etc/grid-security</em>
(if run as root) or in <em>$HOME/.globus</em> (if run as nonroot). You may edit
this file to set gridftp commandline options or environment variables
such as GLOBUS_TCP_PORT_RANGE, but you can also set those options in the
config file.</p>
</div>
</div>
<div class="sect4">
<h5 id="_performing_code_sshftp_code_transfers_transfers">Performing <code>sshftp://</code> Transfers Transfers</h5>
<div class="paragraph">
<p>In this case, a <strong><code>globus-gridftp-server</code></strong> does not need to be
running. The server will be started via the sshd program. Therefore, the
hostname and port should be that of the sshd server. Run
<strong><code>globus-url-copy</code></strong> just as you have before; simply change
<code>ftp://</code> to  to <code>sshftp://</code>..</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% globus-url-copy -v file:/etc/group sshftp://127.0.0.1/tmp/group
globus% globus-url-copy -list sshftp://127.0.0.1/tmp/</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gridftp-admin-gsiftp">GSIFTP</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>This security option can be the most involved to set up, but provides
the most security. It requires setting up GSI security as described in
the GCT Installation Guide here:
<a href="../../admin/install/index.html#gtadmin-basic-security">Basic Security
Configuration</a>.</p>
</div>
<div class="paragraph">
<p>Once GSI has been set up (host and user credentials are valid, the
gridmap file is updated and you&#8217;ve run grid-proxy-init to create a proxy
certificate), you simply run the GridFTP server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-gridftp-server</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If run as <code>root</code>, it will pick up the host cert; if not, it will pick
up the user cert.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now you are ready to perform a GSI-authenticated transfer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy &lt;-s subject&gt; src_url dst_url</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The subject option is only needed if the server was not started as root.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="gridftp-admin-daemon_mode">Running in daemon mode</h5>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The server should generally be run as root in daemon mode, although it
is possible to run it as a user (see below). When run as root you will
need to have a
<a href="../../admin/install/index.html#gtadmin-basic-host">host
certificate</a>.</p>
</div>
<div class="paragraph">
<p>Run the server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-gridftp-server &lt; -s | -S &gt; &lt;args&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-s</strong></dt>
<dd>
<p>Runs in the foreground (this is the default mode).</p>
</dd>
<dt class="hdlist1"><strong>-S</strong></dt>
<dd>
<p>Detaches from the terminal and runs in the background.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following additional steps may be required when running as a user
other than root (for more details, review
<a href="../../admin/install/index.html#gtadmin-basic-security">Basic Security
Configuration</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a <code>~/.gridmap</code> file, containing the DNs of any clients you wish to allow, mapped to the current username. file, containing the DNs of any clients you wish to allow, mapped to the current username.</p>
</li>
<li>
<p>Create a proxy with <strong><code>grid-proxy-init</code></strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="gridftp-admin-inetd">Running under inetd or xinetd</h5>
<div class="paragraph">
<p></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>We also feature a user-configurable, super-server daemon plugin called
GFork. Click
<a href="../../gridftp/admin/index.html#gridftp-admin-gfork-master">here</a> for
more information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set up xinetd/inetd config file</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The service name used (gsiftp in this case) should be defined in
<code>/etc/services</code> with the desired port.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is a sample GridFTP server xinetd config entry in
<code>/etc/xinetd.conf</code>: :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>service gsiftp
{
    instances               = 100
    socket_type             = stream
    wait                    = no
    user                    = root
    env                     += GLOBUS_LOCATION=(globus_location)
    env                     += LD_LIBRARY_PATH=(globus_location)/lib
    server                  = (globus_location)/sbin/globus-gridftp-server
    server_args             = -i
    log_on_success          += DURATION
    nice                    = 10
    disable                 = no
}</pre>
</div>
</div>
<div class="paragraph">
<p>Here is a sample gridftp server inetd config entry in
<code>/etc/inetd.conf</code> (read as a single line)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gsiftp   stream   tcp   nowait   root   /usr/bin/env env    \
GLOBUS_LOCATION=(globus_location)                           \
LD_LIBRARY_PATH=(globus_location)/lib                       \
(globus_location)/sbin/globus-gridftp-server -i</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>On Mac OS X, you must set DYLD_LIBRARY_PATH instead of LD_LIBRARY_PATH
in the above examples.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You should NOT include USERID in the log lines. See
<a href="../../gridftp/admin/index.html#gridftp-troubleshooting-latency">High
latency for GridFTP server connections</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>globus-gridftp-server -i</p>
<div class="paragraph">
<p>Use the <em>-i</em> commandline option with <strong><code>globus-gridftp-server</code></strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-gridftp-server -i</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="gridftp-admin-launchd">Running under launchd</h5>
<div class="paragraph">
<p>launchd is used to start services in the system Mac OS X 10.4 (Tiger)
and newer, and is also available as a port to FreeBSD.</p>
</div>
<div class="paragraph">
<p>Here is a
<a href="http://www.globus.org/toolkit/docs/6.0/6.0.0/gridftp/globus.gridftp.plist">sample</a>
configuration file for launchd to start the server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
    &lt;dict&gt;
        &lt;key&gt;Disabled&lt;/key&gt;
        &lt;false/&gt;
        &lt;key&gt;Label&lt;/key&gt;
        &lt;string&gt;globus.gridftp&lt;/string&gt;
        &lt;key&gt;Program&lt;/key&gt;
        &lt;string&gt;(globus_location)/sbin/globus-gridftp-server&lt;/string&gt;
        &lt;key&gt;ProgramArguments&lt;/key&gt;
        &lt;array&gt;
            &lt;string&gt;globus-gridftp-server&lt;/string&gt;
            &lt;string&gt;-i&lt;/string&gt;
            &lt;string&gt;-d&lt;/string&gt;
            &lt;string&gt;ALL&lt;/string&gt;
            &lt;string&gt;-l&lt;/string&gt;
            &lt;string&gt;(globus_location)/var/gridftp.log&lt;/string&gt;
        &lt;/array&gt;
        &lt;key&gt;Sockets&lt;/key&gt;
        &lt;dict&gt;
            &lt;key&gt;Listeners&lt;/key&gt;
            &lt;dict&gt;
                &lt;key&gt;SockServiceName&lt;/key&gt;
                &lt;string&gt;gsiftp&lt;/string&gt;
            &lt;/dict&gt;
        &lt;/dict&gt;
        &lt;key&gt;inetdCompatibility&lt;/key&gt;
        &lt;dict&gt;
            &lt;key&gt;Wait&lt;/key&gt;
            &lt;false/&gt;
        &lt;/dict&gt;
        &lt;key&gt;StandardErrorPath&lt;/key&gt;
        &lt;string&gt;/dev/null&lt;/string&gt;
        &lt;key&gt;EnvironmentVariables&lt;/key&gt;
        &lt;dict&gt;
            &lt;key&gt;GLOBUS_LOCATION&lt;/key&gt;
            &lt;string&gt;(globus_location)&lt;/string&gt;
            &lt;key&gt;LD_LIBRARY_PATH&lt;/key&gt;
            &lt;string&gt;(globus_location)/lib&lt;/string&gt;
        &lt;/dict&gt;
    &lt;/dict&gt;
&lt;/plist&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Provided that the configuration file is stored in
<code>/System/Library/LaunchDaemons/globus.gridftp.plist</code>, the following
command starts the GridFTP server:, the following command starts the
GridFTP server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>launchctl load /System/Library/LaunchDaemons/globus.griftp.plist</pre>
</div>
</div>
<div class="paragraph">
<p>The server will be started automatically with a system, unless the value
of the key <em>Disabled</em> is changed from <strong><code>&lt;false/&gt;</code></strong> to
<strong><code>&lt;true/&gt;</code></strong>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gridftp-admin-user-pems">User permissions</h4>
<div class="paragraph">
<p>Users are mapped to a local account on the server machine and file
permissions are handled by the operating systems. In the anonymous mode,
users that connect to the server will posses all the same rights as the
user that the server process is run as (directly or via
-anonymous-user).</p>
</div>
<div class="paragraph">
<p>In case of username/password authentication, the users are mapped to the
uid corresponding to the username in the GridFTP password file and the
access permissions for the users is same as that of the UID that they
are mapped to. If SSH based authentication is used, upon successful
authentication, SSHD maps users to a local account and the GridFTP
server is run as the mapped local user. The access permissions are the
same as that of the mapped local user.</p>
</div>
<div class="paragraph">
<p>If GSI is used, upon successful authentication an authorization callout
is invoked to (a) verify authorization and (b) determine the local user
id as which the request should be executed. This callout is linked
dynamically. Globus GridFTP provides an implementation that supports a
Globus "gridmapfile". Sites can also provide alternative
implementations. Server does a setuid to the local user id as determined
by the authorization callout and the access permissions are the same as
that of the local user id.</p>
</div>
<div class="paragraph">
<p>GridFTP server provides an option to disable certain FTP commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> -disable-command-list &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Where &lt;string&gt; represents a comma separated list of client commands that
will be disabled. Default: not set.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_strong_code_globus_gridftp_server_code_strong_quickstart"><strong><code>globus-gridftp-server</code></strong> quickstart</h3>
<div class="paragraph">
<p>The following is a quick guide to running the server and using the
client:</p>
</div>
<div class="paragraph">
<p>Look through the list of options for globus-gridftp-server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-gridftp-server --help</pre>
</div>
</div>
<div class="paragraph">
<p>Start the server in anonymous mode (discussed more fully
<a href="../../gridftp/admin/index.html#gridftp-admin-config-security-anonymous">here</a>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-gridftp-server -control-interface 127.0.0.1 -aa -p 5000</pre>
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>–control-interface</strong></dt>
<dd>
<p>is the hostname or IP address of the interface to listen for control connections on . This option is only needed here as a rudimentary means of security for this simple example.</p>
</dd>
<dt class="hdlist1"><strong>–aa</strong></dt>
<dd>
<p>enables anonymous mode</p>
</dd>
<dt class="hdlist1"><strong>–p</strong></dt>
<dd>
<p>indicates on which port the server listens.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Run a two party transfer with client:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -v file:///etc/group ftp://localhost:5000/tmp/group</pre>
</div>
</div>
<div class="paragraph">
<p>Run 3rd party transfer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -v ftp://localhost:port/etc/group ftp://localhost:port/tmp/group2</pre>
</div>
</div>
<div class="paragraph">
<p>Experiment with -dbg, and -vb options for debugging and checking the
performance of your setup:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -dbg file:///etc/group ftp://localhost:5000/tmp/group</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -vb file:///dev/zero ftp://localhost:5000/dev/null</pre>
</div>
</div>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>-dbg**::
     A useful option when something is not working. It results in a GridFTP
control channel protocol dump (along with other useful information) to
stderr. If you understand the GridFTP protocol, or you have ambition to
understand it, this can be a very useful tool to discover various
problems in your setup such as overloaded servers and firewalls. When
submitting a bug report or asking a question on the support email lists
one should always send along the -dbg output.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>-vb</strong></dt>
<dd>
<p>     Provides a type of progress bar of the user to observe the rate at which
their transfer is progressing.</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ctrl-c - Kill the server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>There are many possible options and configurations with
<strong><code>globus-gridftp-server</code></strong>. For some guidelines on setting it up for
your situation, see
<a href="../../gridftp/admin/index.html#gridftp-admin-tuning">Key Admin Settings and
Tuning Recommendations</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_enabling_file_sharing_with_globus_sharing_service">Enabling File Sharing with Globus Sharing Service</h3>
<div class="paragraph">
<p>To enable file sharing using
<a href="https://www.globus.org/researchers/plus-plans">Globus Sharing</a>, you have
to add the <a href="../securityd2b.tar.gz">Globus Sharing CA certificates</a> to
your trusted certificates directory (/etc/grid-security/certificates)
and use <em>-sharing-dn</em> option in the server as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% globus-gridftp-server -sharing-dn "/C=US/O=Globus Consortium/OU=Globus Online/OU=Transfer User/CN=__transfer__"</pre>
</div>
</div>
<div class="paragraph">
<p>and use <em>-sharing-rp</em> option to restrict the file paths allowed for
sharing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus% globus-gridftp-server -sharing-rp &lt;path&gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-env-var">Environment variable interface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="gridftp-env-var">Environment variables for GridFTP</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The GridFTP server or client libraries do not read any environment
variable directly, but the security and networking related variables
described below may be useful.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../gsic/pi/index.html#gsic-env-var">Non-WS (General) Authentication &amp; Authorization Environment Variables</a>.</p>
</li>
<li>
<p><a href="../../xio/pi/index.html#xio-env-var">XIO Network Driver Environment Variables</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-debugging">Debugging</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>You can find information on sys admin logs in
<a href="../../gridftp/admin/index.html#gridftp-admin-debugging">Debugging</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>If you are having problems using the GridFTP server, try the steps
listed below. If you have an error, try checking the server logs if you
have access to them. By default, the server logs to stderr, unless it is
running from inetd, or its execution mode is detached, in which case
logging is disabled by default.</p>
</div>
<div class="paragraph">
<p>The command line options -d , -log-level, -L and -logdir can affect
where logs will be written, as can the configuration file options
log_single and log_unique. See
<a href="../../gridftp/pi/index.html#globus-gridftp-server">globus-gridftp-server</a>
for more
information on these and other configuration options.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-error-codes">Error Codes in GridFTP</h3>
<div class="paragraph">
<p></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. GridFTP Errors</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error Code</th>
<th class="tableblock halign-left valign-top">Definition</th>
<th class="tableblock halign-left valign-top">Possible Solutions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>
    globus_ftp_client: the server responded with an error<br>
530 530-globus_xio: Authentication Error<br>
530-OpenSSL Error: s3_srvr.c:2525: in library: SSL routines, <br>
     function SSL3_GET_CLIENT_CERTIFICATE: no certificate returned<br>
530-globus_gsi_callback_module: Could not verify credential<br>
530-globus_gsi_callback_module: Can&#8217;t get the local trusted CA certificate: <br>
Untrusted self-signed certificate in chain with hash d1b603c3<br>
530 End.<br>
</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This error message indicates that the GridFTP server doesn&#8217;t trust the
  certificate authority (CA) that issued your certificate.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You need to ask the GridFTP server administrator to install your CA
certificate chain in the GridFTP server&#8217;s trusted certificates directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> globus_ftp_control: gss_init_sec_context failed<br>
OpenSSL Error: s3_clnt.c:951: in library: SSL routines, function <br>
SSL3_GET_SERVER_CERTIFICATE: certificate verify failed<br>
globus_gsi_callback_module: Could not verify credential<br>
globus_gsi_callback_module: Can&#8217;t get the local trusted CA certificate: <br>
Untrusted self-signed certificate in chain with hash d1b603c3 </code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This error message indicates that your local system doesn&#8217;t trust the
  certificate authority (CA) that issued the certificate on the resource you are
  connecting to.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You need to ask the resource administrator which CA issued their certificate
  and  install the CA certificate in the local trusted certificates directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> 530-globus_xio: Authentication Error<br>
  530-globus_gsi_callback_module: Could not verify credential<br>
  530-globus_gsi_callback_module: Could not verify credential<br>
  530-globus_gsi_callback_module: Invalid CRL: The available CRL has expired<br>
  530 End. </code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This error message indicates one of the following:
  Certificate Revocation List (CRL) for the source or destination server CA at
  the client has expired or CRL for client CA has expired at source or
  destination server or CRL for source (destination) server CA has expired at
  destination (source) server. CRL is a file {CA_hash}.r0 in
  /etc/grid-security/certificates or ${USER_HOME}/.globus/certificates or
  ${X509_CERT_DIR}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The tool available at <a href="http://dist.eugridpma.info/distribution/util/fetch-crl/" class="bare">http://dist.eugridpma.info/distribution/util/fetch-crl/</a>
  can be run in a crontab to keep the CRLs up to date.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_establish_control_channel_connection">Establish control channel connection</h3>
<div class="paragraph">
<p>Verify that you can establish a control channel connection and that the
server has started successfully by telnetting to the port on which the
server is running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>% telnet localhost 2811
                Trying 127.0.0.1...
                Connected to localhost.
                Escape character is '^]'.
                220 GridFTP Server mldev.mcs.anl.gov 2.0 (gcc32dbg, 1113865414-1) ready.</pre>
</div>
</div>
<div class="paragraph">
<p>If you see anything other than a 220 banner such as the one above, the
server has not started correctly.</p>
</div>
<div class="paragraph">
<p>Verify that there are no configuration files being unexpectedly loaded
from /etc/grid-security/gridftp.conf or
$GLOBUS_LOCATION/etc/gridftp.conf. If those files exist, and you did not
intend for them to be used, rename them to .save, or specify -c none on
the command line and try again.</p>
</div>
<div class="paragraph">
<p>If you can log into the machine where the server is, try running the
server from the command line with only the -s option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$GLOBUS_LOCATION/sbin/globus-gridftp-server -s</pre>
</div>
</div>
<div class="paragraph">
<p>The server will print the port it is listening on:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Server listening at gridftp.mcs.anl.gov:57764</pre>
</div>
</div>
<div class="paragraph">
<p>Now try and telnet to that port. If you still do not get the banner
listed above, something is preventing the socket connection. Check
firewalls, tcp-wrapper, etc.</p>
</div>
<div class="paragraph">
<p>If you now get a correct banner, add -p 2811 (you will have to disable
(x)inetd on port 2811 if you are using them or you will get port already
in use):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$GLOBUS_LOCATION/sbin/globus-gridftp-server -s -p 2811</pre>
</div>
</div>
<div class="paragraph">
<p>Now telnet to port 2811. If this does not work, something is blocking
port 2811. Check firewalls, tcp-wrapper, etc.</p>
</div>
<div class="paragraph">
<p>If this works correctly then re-enable your normal server, but remove
all options but -i, -s, or -S.</p>
</div>
<div class="paragraph">
<p>Now telnet to port 2811. If this does not work, something is wrong with
your service configuration. Check /etc/services and (x)inetd config,
have (x)inetd restarted, etc.</p>
</div>
<div class="paragraph">
<p>If this works, begin adding options back one at a time, verifying that
you can telnet to the server after each option is added. Continue this
till you find the problem or get all the options you want.</p>
</div>
<div class="paragraph">
<p>At this point, you can establish a control connection. Now try running
globus-url-copy.</p>
</div>
</div>
<div class="sect2">
<h3 id="_try_running_globus_url_copy">Try running globus-url-copy</h3>
<div class="paragraph">
<p>Once you&#8217;ve verified that you can establish a control connection, try to
make a transfer using globus-url-copy.</p>
</div>
<div class="paragraph">
<p>If you are doing a client/server transfer (one of your URLs has
<code>file:</code> in it) then try: in it) then try:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -vb -dbg gsiftp://host.server.running.on/dev/zero file:///dev/null</pre>
</div>
</div>
<div class="paragraph">
<p>This will run until you control-c the transfer. If that works, reverse
the direction:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -vb -dbg file:///dev/zero gsiftp://host.server.running.on/dev/null</pre>
</div>
</div>
<div class="paragraph">
<p>Again, this will run until you control-c the transfer.</p>
</div>
<div class="paragraph">
<p>If you are doing a third party
            transfer, run this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -vb -dbg gsiftp://host.server1.on/dev/zero gsiftp://host.server2.on/dev/null</pre>
</div>
</div>
<div class="paragraph">
<p>Again, this will run until you control-c the transfer.</p>
</div>
<div class="paragraph">
<p>If the above transfers work, try your transfer again. If it fails, you
likely have some sort of file permissions problem, typo in a file name,
etc.</p>
</div>
</div>
<div class="sect2">
<h3 id="_if_your_server_starts">If your server starts&#8230;&#8203;</h3>
<div class="paragraph">
<p>If the server has started correctly, and your problem is with a security
failure or gridmap lookup failure, verify that you have security
configured properly
<a href="../../admin/install/index.html#gtadmin-basic-security">here</a>.</p>
</div>
<div class="paragraph">
<p>If the server is running and your client successfully authenticates but
has a problem at some other time during the session, please ask for help
on <a href="http://dev.globus.org/wiki/Mailing%5fLists">gt-user@globus.org</a>. When
you send mail or submit bugs, please always include as much of the
following information as possible:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specs on all hosts involved (OS, processor, RAM, etc).</p>
</li>
<li>
<p>globus-url-copy -version</p>
</li>
<li>
<p>globus-url-copy -versions</p>
</li>
<li>
<p>Output from the telnet test above.</p>
</li>
<li>
<p>The actual command line you ran with -dbg added. Don&#8217;t worry if the output gets long.</p>
</li>
<li>
<p>Check that you are getting a FQDN and /etc/hosts that is sane.</p>
</li>
<li>
<p>The server configuration and setup (/etc/services entries, (x)inetd configs, etc.).</p>
</li>
<li>
<p>Any relevant lines from the server logs (not the entire log please).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-troubleshooting-latency">High latency for GridFTP server connections</h3>
<div class="paragraph">
<p>If you run GridFTP servers via Xinetd and notice high latency for
connections and/or transfers, check if <code>/etc/xinetd.conf</code> or the
gsiftp service configuration inside  or the gsiftp service configuration
inside <code>/etc/xinetd.d</code> is set to log USERID as follows:  is set to log
USERID as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>log_on_success += USERID
log_on_failure += USERID</pre>
</div>
</div>
<div class="paragraph">
<p>Such a configuration tells Xinetd to log the remote user using the
method defined in RFC 1413, which causes an ident client to attempt to
query the machine that the connection is coming from before the service
will run. Even when this succeeds, the response can&#8217;t be trusted, and
more often than not it is rejected or simply dropped (which results in
the longest delays) by the remote firewall.</p>
</div>
<div class="paragraph">
<p>Latency can be reduced by making sure Xinetd does <strong>not</strong> log the
USERID.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-relateddocs">Related Documentation</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="http://www.globus.org/alliance/publications/papers/gridftp%5ffinal.pdf">The Globus Striped GridFTP Framework and Server</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-dcsc-spec">DCSC Specification</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>This document provides the specification and rationale for the <em>DCSC</em>
(Data Channel Security Context) command that is implemented by Globus
GridFTP server.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_introduction">Introduction</h3>
<div class="paragraph">
<p>A user may have multiple credentials issued by different organizations
that know nothing about the other. If a user tries to perform a 3rd
party FTP transfer between these organizations' servers using DCAU (Data
Channel Authentication), it will fail because DCAU uses the user&#8217;s
credentials and each side does not have the CA certificate that issued
the other side&#8217;s user credential. Thus, users are unlikely to be able to
perform secure 3rd party transfers in large federated environments. We
present the DCSC command as a way to enable DCAU in this scenario even
if one side is a legacy server that knows nothing about DCSC. FTP
servers that use SSH for user authentication also benefit from DCSC
since it provides a common, interoperable context for DCAU.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dcsc_command">DCSC Command</h3>
<div class="paragraph">
<p>The current DCAU protocol uses an SSL context that contains the logged
in user&#8217;s credential. If two servers have different user credentials and
do not have each others' CA certificates, a client can not perform a
secure 3rd party transfer between them. If one of the servers supports
DCSC, a client can tell it to both send and accept the user credential
used by the other server, thus enabling DCAU where it previously was not
possible. If both servers support DCSC, clients that desire higher
security may specify a random, self signed certificate as the DCAU
context.</p>
</div>
<div class="paragraph">
<p>The general format for DCSC is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DCSC context type context specific blob]</pre>
</div>
</div>
<div class="paragraph">
<p>Where context type is a case insensitive string and the blob is a string
composed of only printable ASCII (32-126) characters, such as base64
encoding would produce. This document specifies the "P" and "D" context
types.</p>
</div>
<div class="paragraph">
<p>A server that supports DCSC SHOULD include a line in its <em>FEAT</em> output
so clients can discover the feature. The format of the FEAT line is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DCSC context type ["," context type]</pre>
</div>
</div>
<div class="paragraph">
<p>For example, "DCSC P,D" means a server supports the "P" and "D" DCSC
types.</p>
</div>
<div class="paragraph">
<p>The allowed return codes for DCSC P and DCSC D are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  * 2xx		Operation succeeded

  * 5xx	        Operation failed; see message for specific information</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dcsc-p">DCSC P</h3>
<div class="paragraph">
<p>The "P" context type (short for proxy/PEM) is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DCSC P base64 encoded blob</pre>
</div>
</div>
<div class="paragraph">
<p>base64 encoded blob:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A x509 certificate in PEM format</p>
</li>
<li>
<p>A private key in PEM format</p>
</li>
<li>
<p>Additional x509 certificates in PEM format, unordered (optional)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The PEM certificate(s) and key are already mostly in base64 encoding
(the new line characters aren&#8217;t) and thus encoding them again in base64
wastes some space. However, this simplifies client and server
implementation.</p>
</div>
<div class="paragraph">
<p>A DCSC "P" command will overwrite any previous request. A server SHOULD
accept a DCSC "P" blob of at least 10KB in size.</p>
</div>
<div class="sect3">
<h4 id="_setting_the_local_context">Setting the Local Context</h4>
<div class="paragraph">
<p>The certificate (1) and key (2) MUST be used by the server as its
<em>client</em> certificate and key for all of the current session&#8217;s subsequent
DCAU connections. Additionally, the DCAU A (self) command MUST imply the
subject of certificate (1) instead of the user&#8217;s log in credential. This
MUST occur even for a DCAU A that is implied if no DCAU command was
issued by a client.</p>
</div>
<div class="paragraph">
<p>The certificate in (1) MUST be self signed or verifiable using <strong>only</strong>
intermediate and/or CA certificates in (3). If the certificate in (1) is
not self signed, clients MUST send its full certificate chain, including
the CA certificate, in (3). Servers SHOULD reject a request in which the
certificate (1) is not self signed and can not be validated using only
the certificates in (3).</p>
</div>
</div>
<div class="sect3">
<h4 id="_verifying_the_remote_server">Verifying the Remote Server</h4>
<div class="paragraph">
<p>A server MUST validate the remote party&#8217;s DCAU certificate using the
combination of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   * The server's default CA certificates and signing policies

   * All self signed certificates given in (1) and (3)</pre>
</div>
</div>
<div class="paragraph">
<p>The server must trust all self signed certificates presented in (1) and
(3), whether they are marked as a CA or not, in addition to its default
CA certificate list, for all subsequent DCAU connections. A server MUST
NOT permanently trust the certificates in (1) and (3) or use them for
anything other than validating DCAU connections used by the current
session.</p>
</div>
<div class="paragraph">
<p>Clients SHOULD provide the server all of the intermediate and/or CA
certificates needed to verify the remote party&#8217;s certificate by adding
them to (3). Servers MUST NOT require signing policy files for any CA
certificates in (3). If signing policies do exist for any CA
certificates in (3), the server SHOULD still use and enforce them. The
DCSC command does not provide a way to specify signing policies; it is
expected that the server&#8217;s default CA certificates are already protected
by signing policies.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dcsc_d">DCSC D</h3>
<div class="paragraph">
<p>The "D" context type stands for "default context". The command "DCSC D"
will revert the context to whatever it was immediately after login.</p>
</div>
</div>
<div class="sect2">
<h3 id="_security_considerations">Security Considerations</h3>
<div class="paragraph">
<p>In legacy mode (only one server supports DCSC), the server supporting
DCSC holds two short term credentials - one from a CA it knows about,
and one from a CA of the other party. A compromised server could thus
leak both short term user credentials. This might be mitigated somewhat
by using an independent proxy for DCSC. If both servers support DCSC, a
random, self signed certificate SHOULD be used instead of a user
credential for DCAU.</p>
</div>
<div class="paragraph">
<p>Clients SHOULD send the DCSC command over an encrypted control channel.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-dsi">Developing DSIs for GridFTP</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The GridFTP server provides high speed remote access to data stores.
There are many different types of data storage systems from standard
file systems to arrays of magnetic tape. To allow GridFTP to be a
transfer interface to as many data storage systems as possible the Data
Storage Interface (DSI) was created.</p>
</div>
<div class="paragraph">
<p>The DSI presents a modular abstraction layer to a storage system. It
consists of several function signatures and a set of semantics.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When a new DSI is created, a programmer implements the functions to provide the semantics associated with them.</p>
</li>
<li>
<p>DSIs can be loaded and switched at runtime.</p>
</li>
<li>
<p>When the server requires action from the storage system (be it data, meta-data, directory creation, etc), it passes a request to the loaded DSI module.</p>
</li>
<li>
<p>The DSI then services that request and tells the function when it is finished.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This document provides an introduction to the DSI and how to create one.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dsi_interface">DSI Interface</h3>
<div class="paragraph">
<p>The set of interface functions that define the DSI can be found in
<code>globus_gridftp_server.h</code>.</p>
</div>
<div class="paragraph">
<p>All type definitions starting with <code>globus_gfs_storage_*()</code> are part
of the DSI interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dsi_utility_api">DSI utility API</h3>
<div class="paragraph">
<p>An API is provided to the DSI author to assist in implementation. The
most interesting parts of this API provide functions that abstract away
the details of sending data across the data channel. The DSI author is
not expected to know the intimate details of the data channel protocols
involved in a GridFTP transfer. Instead this API provides functions for
reading and writing data to and from the net.</p>
</div>
<div class="paragraph">
<p>FIXME - link to api doc</p>
</div>
</div>
<div class="sect2">
<h3 id="_implementation">Implementation</h3>
<div class="paragraph">
<p>The following is a brief description of part of the DSI implementation
process.</p>
</div>
<div class="paragraph">
<p>An FTP session is defined from the time a client is authorized to use
the server until the time the connection is disconnected (disconnect can
happen due to the client sending QUIT, error, or timeout, etc). In the
lifetime of the session, the client issues various commands to the FTP
server. Some of these commands require access to the storage system, and
thus require action by the DSI. Whenever such a command is received, the
server calls out to the appropriate DSI interface function requesting
that the specific operation be performed.</p>
</div>
<div class="paragraph">
<p>The server passes a</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus_gfs_operation_t</pre>
</div>
</div>
<div class="paragraph">
<p>data type as a parameter to all DSI request functions. When the DSI is
finished performing that operation, it calls a corresponding</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus_gridftp_server_finished_&lt;type&gt;()</pre>
</div>
</div>
<div class="paragraph">
<p>function, passing it this <code>globus_gfs_operation_t</code> structure (and
whatever other data is needed for any given operation). This lets the
server know that the operation is completed and it can respond to the
client appropriately.</p>
</div>
<div class="paragraph">
<p>As an example we will look at how a simple unix file system DSI would
implement the <code>stat</code> function.</p>
</div>
<div class="paragraph">
<p>The DSI&#8217;s function signature for <code>stat</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>void
(*globus_gfs_storage_stat_t)(
    globus_gfs_operation_t              op,
    globus_gfs_stat_info_t *            stat_info,
    void *                              user_arg);</pre>
</div>
</div>
<div class="paragraph">
<p>When it is called, the DSI is expected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>determine all information associated with the path:
<code>stat_info&#8594;pathname</code>,</p>
</li>
<li>
<p>fill in a <code>globus_gfs_stat_t</code> with that information,</p>
</li>
<li>
<p>and then call <code>globus_gridftp_server_finished_stat()</code> with that
structure.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>static
void
globus_gfs_storage_example_stat(
    globus_gfs_operation_t              op,
    globus_gfs_stat_info_t *            stat_info,
    void *                              user_arg)
{
    globus_gfs_stat_t                   stat_out;
    struct stat                         stat_in;

    stat(stat_info-&gt;pathname, &amp;stat_in);

    stat_out.mode     = stat_in.st_mode;
    stat_out.nlink    = stat_in.st_nlink;
    stat_out.uid      = stat_in.st_uid;
    stat_out.gid      = stat_in.st_gid;
    stat_out.size     = stat_in.st_size;
    stat_out.mtime    = stat_in.st_mtime;
    stat_out.atime    = stat_in.st_atime;
    stat_out.ctime    = stat_in.st_ctime;
    stat_out.dev      = stat_in.st_dev;
    stat_out.ino      = stat_in.st_ino;

    stat_out.name = strdup(stat_info-&gt;pathname);

    globus_gridftp_server_finished_stat(op, GLOBUS_SUCCESS, &amp;stat_out, 1);
}</pre>
</div>
</div>
<div class="paragraph">
<p>This is obviously a very basic example but it should serve for the
purposes of understanding.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dsi_bones">DSI Bones</h3>
<div class="paragraph">
<p>Every DSI must register itself with the Globus extensions module
properly. This can be a tedious task yet must be done properly. For this
reason, we created a distribution that provides a skeleton DSI upon
which a developer can build.</p>
</div>
<div class="paragraph">
<p>The distribution includes a script to generate C stubs for a DSI with
all of the proper shared library hooks and names needed to work with the
<strong><code>globus-gridftp-server</code></strong>. The DSI implementor must fill in the
stubbed-out functions with the necessary code specific to their needs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>% ./generate-stubs.sh dsi name flavor</pre>
</div>
</div>
<div class="paragraph">
<p>This command will generate the c source file. "dsi name" is the string
that will be associated with the DSI. It must be unique to your GCT
installation. To load it into the server use the '-dsi ' option to the
server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>% make</pre>
</div>
</div>
<div class="paragraph">
<p>This will compile the DSI and create the dynamically loadable library.
To include additional compile dependencies or libraries, open
<code>Makefile</code> and add them to the appropriate MACRO line. and add them to
the appropriate MACRO line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>% make install</pre>
</div>
</div>
<div class="paragraph">
<p>This will copy the library to <code>$GLOBUS_LOCATION/lib</code>, thereby making
it ready for use., thereby making it ready for use.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gridftp-developer-multicast-driver">GridFTP Multicast</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>GridFTP is a well known, extremely fast and efficient protocol for
transferring data from one destination to another. Here we present how
GridFTP can be used to transfer a single file to many destinations in a
multicast/broadcast.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_architecture">Architecture</h3>
<div class="paragraph">
<p>The purpose of this work is to efficiently transfer a single data set to
many locations. Our goal is to use all available network cycles,
effectively moving the total amount of data (destinations * file size)
at network speeds. Ideally, we would like to transfer to all
destinations in the same time it takes to transfer to a single
destination.</p>
</div>
<div class="paragraph">
<p>Distributing the data to many endpoints is not difficult, and has been a
feature of  (a popular GridFTP client) for some time. It would be quite
simple to have the client loop over the destination set and send to each
destination in series. Of course, this would be quite slow and the
transfer time would scale linearly with the data set.</p>
</div>
<div class="paragraph">
<p>In our architecture, destination servers are configured so that they can
forward packets along to other endpoints. Thus, the GridFTP servers act
as both servers receiving data and clients sending data. The server is
set up as a tree such that the first destination writes the data to disk
and then forwards it on to N more hosts (by default N is 2). This
process is repeated until all destinations have received the data.</p>
</div>
<div class="paragraph">
<p>For further explanation, the architecture can be thought of as a
directed graph. Each destination is a vertex with N edges connecting it
to N other vertices. A spanning tree is formed connecting all vertices.
The degree of any one vertex is a client -side configuration option.</p>
</div>
<div class="paragraph">
<p>The following image illustrates this:</p>
</div>
<div class="openblock">
<div class="title">GridFTP Spanning Tree</div>
<div class="content">
<div class="imageblock">
<div class="content">
<img src="mc.gif" alt="mc">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In the image, data blocks are purple and are sent first from the client
to a root destination. The root destination then forwards it on to two
more servers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_globus_xio">Globus XIO</h3>
<div class="paragraph">
<p>The figure in the previous section shows 4 colored boxes. Orange
represents client logic, blue is server logic, and as stated above,
purple is for data block. The final box type is yellow and it is used to
show globus XIO drivers.</p>
</div>
<div class="paragraph">
<p>More information on Globus XIO can be found <a href="../../xio/index.html">here</a>.
For our purposes we can think of each XIO driver as a modular protocol
interpreter that can be plugged in to an IO stack without involving the
application using it. In this way, we can add functionality to an
existing application without disturbing its tested code base.</p>
</div>
<div class="paragraph">
<p>Because the  uses Globus XIO for all of its IO, we are able to forward
data at the block level. We achieve this by allowing the client to add a
new XIO driver, the <code>gridftp_multicast</code> driver, to the GridFTP
server&#8217;s disk stack. Because of the modular driver abstraction that
Globus XIO provides as the GridFTP server writes data blocks to its file
system, the data blocks are first passed through the
<code>gridftp_multicast</code> driver. As the <code>gridftp_multicast</code> driver passes
the data block on to be written to disk, it also forwards the block on
to other GridFTP servers in the tree.</p>
</div>
<div class="paragraph">
<p>Using this approach to add the multicast functionality is minimally
invasive to the tested and robust GridFTP server and is entirely
modular. The driver is written to a well defined and clean abstraction.
Enabling this feature is a simple matter of inserting the driver in the
disk stack and passing the driver stack the destination list.</p>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-multicast-networkoverlay-arch">Network Overlay</h3>
<div class="paragraph">
<p>In addition to allowing for multicast, the <code>gridftp_multicast</code> driver
and this architecture allow us to create a network overlay where many
GridFTP servers act as routers forwarding packets along to each other
until they get to the final destination where there are written to disk.
The advantage of this type of system is actively researched by
<a href="http://e2epi.internet2.edu/phoebus.html">Phoebus</a>.</p>
</div>
<div class="paragraph">
<p>The <code>gridftp_multicast</code> driver can be configured to only forward data
along to the next server, and to not write it to disk. Furthermore, it
can be told to only forward to a single endpoint. When configured in
this way, we achieve the network overlay described above.</p>
</div>
<div class="paragraph">
<p>The following images illustrate this. In the first image we show the
standard case where data is sent from a client to a server through the
Internet. The routing is done by the Internet outside of the clients
control.</p>
</div>
<div class="openblock">
<div class="title">From client to server through Internet</div>
<div class="content">
<div class="imageblock">
<div class="content">
<img src="overlay1-s.png" alt="overlay1 s">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In the next image we show how the <code>gridftp_multicast</code> driver can route
data through the network via GridFTP servers. This allows the user to
have greater control over the network path which the data takes.</p>
</div>
<div class="openblock">
<div class="title">Routing data through network via multicast</div>
<div class="content">
<div class="imageblock">
<div class="content">
<img src="overlay2-s.png" alt="overlay2 s">
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_results">Results</h3>
<div class="paragraph">
<p>To show the effectiveness of this architecture we ran experiments on the
<a href="http://www.uc.teragrid.org/tg-docs/">UC TeraGrid</a>. We show some of those
results here.</p>
</div>
<div class="sect3">
<h4 id="_experiment_1">Experiment 1</h4>
<div class="paragraph">
<p>In the first experiment, we leased nodes from the UC TeraGrid. 29 hosts
were designated as destinations and we ran <code>gridftp_multicast</code>-enabled
GridFTP servers on them. 1 node was designated as the client node and
from it all transfers were started.</p>
</div>
<div class="paragraph">
<p>All transfers were performed with <strong><code>globus-url-copy</code></strong> and a tcp
buffer size of 128KB. As a control group, we ran a transfer using
<strong><code>globus-url-copy</code></strong> with the <em>-f</em> option. This caused the source
file to be sent to each endpoint in serial. We then transferred the
source to all destinations using this architecture.</p>
</div>
<div class="paragraph">
<p>The first graph shows the completion time of a multicast session against
the number of destinations. The first line is when the transfers are
performed in a serial fashion from the client. All other lines are
multicast sessions performed using this architecture. Each line
represents a different vertex degree in the spanning tree (ie, each
server forwarding to a different number of destinations).</p>
</div>
<div class="openblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="complete_time.png" alt="complete time">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>As expected, the results for the serial transfer scales linearly while
the multicast sessions very slowly increase with more destinations.</p>
</div>
<div class="paragraph">
<p>The next graph shows the same experiment; but instead of graphing
completion time, we graph the clients sending throughput. This is the
size of the files being sent (1GB) divided by the time it takes for this
file to reach all destinations.</p>
</div>
<div class="openblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="broadcast_bw.png" alt="broadcast bw">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The final graph shows the collective bandwidth of a transfer. The
graphing function is (# of destinations * file size) / time.</p>
</div>
<div class="openblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="collective_bw.png" alt="collective bw">
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_future_experiments">Future Experiments</h4>
<div class="paragraph">
<p>We created another XIO driver that allows each endpoint in the session
to buffer the data. This prevents stalls in sending data transfers due
to the latency required to reach a leaf node, and gets data to the disks
of nodes higher in the tree faster. Early results show slight
improvements on a LAN, but we expect greater results when broadcasting
across WANs.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_protocol_details">Protocol Details</h3>
<div class="paragraph">
<p>The additions to the protocol are exceptionally minor. Every server in
the tree (except for leaf nodes) becomes a client to another server, but
that client speaks the standard GridFTP protocol. The only change needed
is a command to add the driver to the file system stack, and that
command has existed in the GridFTP server for some time.</p>
</div>
<div class="paragraph">
<p>The command is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SITE SETDISKSTACK 1*{driver name[:driver options]},</pre>
</div>
</div>
<div class="paragraph">
<p>The second parameter to the site command is a comma-separated list of
driver names optionally followed by a colon (:) and a set of
driver-specific URL-encoded options. From left to right, the driver
names form a stack from bottom to top.</p>
</div>
<div class="paragraph">
<p>Adding the <code>gridftp_multicast</code> driver to this list will enable the
multicast functionality. The set of options are the same as those
specified in the previous section. The only difference is that each url
in the urls= options must be url encoded.</p>
</div>
</div>
<div class="sect2">
<h3 id="_usage">Usage</h3>
<div class="paragraph">
<p>The broadcast functionality can be used with <strong><code>globus-url-copy</code></strong>. We
added the following option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-mc filename</pre>
</div>
</div>
<div class="paragraph">
<p>The file must contain a line separated list of destination urls. For
example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gsiftp://localhost:5000/home/user/tst1
gsiftp://localhost:5000/home/user/tst2
gsiftp://localhost:5000/home/user/tst4</pre>
</div>
</div>
<div class="paragraph">
<p>The source url is specified on the command line as always. A single
destination url may also be specified on the command line in addition to
the urls in the file. An example globus-url-copy command is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>% globus-url-copy -MC multicast.file gsiftp://localhost/home/user/src_file</pre>
</div>
</div>
<div class="sect3">
<h4 id="gridftp-user-experimental-multicasting">Multicasting</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>To transfer a single file to many destinations in a multicast/broadcast,
use the new <em>-mc</em> option.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>To use this option, the admin must enable multicasting. Click
<a href="../../gridftp/admin/index.html#gridftp-config-multi">here</a> for more
information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>This option is EXPERIMENTAL</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -vb -p 4 -mc filename source_url</pre>
</div>
</div>
<div class="paragraph">
<p>The <em>filename</em> must contain a line-separated list of destination urls.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gsiftp://localhost:5000/home/user/tst1
       gsiftp://localhost:5000/home/user/tst3
       gsiftp://localhost:5000/home/user/tst4</pre>
</div>
</div>
<div class="paragraph">
<p>For more flexibility, you can also specify a single destination url on
the command line in addition to the urls in the file. Examples are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -MC multicast.file gsiftp://localhost/home/user/src_file</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre>globus-url-copy -MC multicast.file gsiftp://localhost/home/user/src_file gsiftp://localhost/home/user/dest_file1</pre>
</div>
</div>
<div class="sect4">
<h5 id="gridftp-user-multicasting-advanced">Advanced multicasting options</h5>
<div class="paragraph">
<p>
Along with specifying the list of destination urls in a file, a set of
options for each url can be specified. This is done by appending a <code>?</code>
to the resource string in the url followed by semicolon-separated key
value pairs. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gsiftp://dst1.domain.com:5000/home/user/tst1?cc=1;tcpbs=10M;P=4</pre>
</div>
</div>
<div class="paragraph">
<p>This indicates that the receiving host <code>dst1.domain.com</code> will use 4
parallel stream, a tcp buffer size of 10 MB, and will select 1 host when
forwarding on data blocks. This url is specified in the  will use 4
parallel stream, a tcp buffer size of 10 MB, and will select 1 host when
forwarding on data blocks. This url is specified in the <em>-mc</em> file as
described above.</p>
</div>
<div class="paragraph">
<p>The following is a list of key=value options and their meanings:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>P=<em>integer</em></strong></dt>
<dd>
<p>The number of parallel streams this node will use when forwarding.</p>
</dd>
<dt class="hdlist1"><strong>cc=<em>integer</em></strong></dt>
<dd>
<p>The number of urls to which this node will forward data.</p>
</dd>
<dt class="hdlist1"><strong>tcpbs=<em>formatted integer</em></strong></dt>
<dd>
<p>The TCP buffer size this node will use when forwarding.</p>
</dd>
<dt class="hdlist1"><strong>urls=<em>string list</em></strong></dt>
<dd>
<p>The list of urls that must be children of this node when the spanning tree is complete.</p>
</dd>
<dt class="hdlist1"><strong>local_write=<em>boolean: y|n</em></strong></dt>
<dd>
<p>Determines if this data will be written to a local disk, or just forwarded on to the next hop. This is explained more in the <a href="#gridftp-multicast-networkoverlay">Network Overlay</a> section.</p>
</dd>
<dt class="hdlist1"><strong>subject=<em>string</em></strong></dt>
<dd>
<p>The DN name to expect from the servers this node is connecting to.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="gridftp-multicast-networkoverlay">Network Overlay</h5>
<div class="paragraph">
<p>
In addition to allowing multicast,  function also allows for
creating user-defined network routes.</p>
</div>
<div class="paragraph">
<p>If the <em>local_write</em> option is set to <code>n</code>, then no data will be
written to the local disk, the data will only be forwarded on.</p>
</div>
<div class="paragraph">
<p>If the <em>local_write</em> option is set to <code>n</code> and is used with the <em>cc=1</em>
option, the data will be forwarded on to exactly one location.</p>
</div>
<div class="paragraph">
<p>This allows the user to create a network overlay of data hops using each
GridFTP server as a router to the ultimate destination.
:leveloffset: 0</p>
</div>
</div>
<div class="sect4">
<h5 id="_required_server_options">Required Server Options</h5>
<div class="paragraph">
<p>For security reasons the GridFTP server does not allow clients to load
arbitrary xio drivers into the server. The GridFTP server admin must
whitelist the driver individually. White-listing the mlink driver is
done with the following parameter to the server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-fs-whitelist file,gridftp_multicast</pre>
</div>
</div>
<div class="paragraph">
<p>Notice that <code>file</code> must also be specified. Without this option, the
<code>file</code> driver is the default; however, if used, you must specifically
list it.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gridftp-developer-index">Index</h3>

</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>